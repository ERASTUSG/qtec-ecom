import{n,c as e,_ as r,a as i,b as d}from"./main-413e5d53-v4.0.0.js";import"./axios-28bc18a3-v4.0.0.js";import"./vue.esm-45286cec-v4.0.0.js";import"./_commonjsHelpers-de833af9-v4.0.0.js";const c={props:["endDate"],data(){return{date:{},countdown:null}},mounted(){if(new Date>new Date(this.endDate)){this.setInitialDate();return}this.countdown=this.initCountdown()},methods:{initCountdown(){return countdown(new Date(this.endDate),({days:a,hours:t,minutes:s,seconds:o})=>{if(new Date>new Date(this.endDate)){this.setInitialDate(),window.clearInterval(this.countdown);return}this.date=Object.assign({},this.date,{days:this.leadingZero(a),hours:this.leadingZero(t),minutes:this.leadingZero(s),seconds:this.leadingZero(o)})},countdown.DAYS|countdown.HOURS|countdown.MINUTES|countdown.SECONDS)},setInitialDate(){this.date=Object.assign({},this.date,{days:"00",hours:"00",minutes:"00",seconds:"00"})},leadingZero(a){return a<10?"0"+a:a}}};var l=function(){var t=this,s=t._self._c;return s("div",{staticClass:"daily-deals-countdown countdown clearfix"},[s("span",{staticClass:"countdown-row"},[s("span",{staticClass:"countdown-section"},[s("span",{staticClass:"countdown-amount"},[t._v(t._s(t.date.days))]),s("span",{staticClass:"countdown-period"},[t._v(" "+t._s(t.$trans("storefront::product_card.days"))+" ")])]),s("span",{staticClass:"countdown-section"},[s("span",{staticClass:"countdown-amount"},[t._v(t._s(t.date.hours))]),s("span",{staticClass:"countdown-period"},[t._v(" "+t._s(t.$trans("storefront::product_card.hours"))+" ")])]),s("span",{staticClass:"countdown-section"},[s("span",{staticClass:"countdown-amount"},[t._v(t._s(t.date.minutes))]),s("span",{staticClass:"countdown-period"},[t._v(" "+t._s(t.$trans("storefront::product_card.minutes"))+" ")])]),s("span",{staticClass:"countdown-section"},[s("span",{staticClass:"countdown-amount"},[t._v(t._s(t.date.seconds))]),s("span",{staticClass:"countdown-period"},[t._v(" "+t._s(t.$trans("storefront::product_card.seconds"))+" ")])])])])},u=[],p=n(c,l,u,!1,null,null,null,null);const _=p.exports,h={components:{Countdown:_},mixins:[e],props:["product"],data(){return{item:{...this.product.variant?this.product.variant:this.product}}},computed:{progress(){return this.product.pivot.sold/this.product.pivot.qty*100+"%"}}};var v=function(){var t=this,s=t._self._c;return s("div",{staticClass:"daily-deals-inner"},[s("div",{staticClass:"daily-deals-top"},[s("a",{staticClass:"product-image",attrs:{href:t.productUrl}},[s("img",{class:{"image-placeholder":!t.hasBaseImage},attrs:{src:t.baseImage,alt:t.product.name}})])]),s("a",{staticClass:"product-name",attrs:{href:t.productUrl}},[s("h6",[t._v(t._s(t.product.name))])]),s("div",{staticClass:"product-info"},[s("div",{staticClass:"product-price",domProps:{innerHTML:t._s(t.item.formatted_price)}}),s("product-rating",{attrs:{ratingPercent:t.product.rating_percent,reviewCount:t.product.reviews.length}})],1),s("countdown",{attrs:{"end-date":t.product.pivot.end_date}}),s("div",{staticClass:"deal-progress"},[s("div",{staticClass:"deal-stock"},[s("div",{staticClass:"stock-available"},[t._v(" "+t._s(t.$trans("storefront::product_card.available"))+" "),s("span",[t._v(t._s(t.product.pivot.qty))])]),s("div",{staticClass:"stock-sold"},[t._v(" "+t._s(t.$trans("storefront::product_card.sold"))+" "),s("span",[t._v(t._s(t.product.pivot.sold))])])]),s("div",{staticClass:"progress"},[s("div",{staticClass:"progress-bar",style:{width:t.progress}})])])],1)},w=[],m=n(h,v,w,!1,null,null,null,null);const f=m.exports;r(()=>import("./countdown-ea21dd28-v4.0.0.js"),[]).then(a=>window.countdown=a.default);const C={components:{FlashSaleProductCard:f},props:["title","url"],data(){return{products:[]}},computed:{hasAnyProduct(){return this.products.length!==0}},created(){this.fetchProducts()},methods:{async fetchProducts(){await axios.get(this.url).then(a=>{this.products=a.data,this.$nextTick(()=>{$(this.$refs.productsPlaceholder).slick(this.slickOptions())})})},slickOptions(){return{rows:0,dots:!1,arrows:!0,infinite:!0,slidesToShow:1,slidesToScroll:1,rtl:window.FleetCart.rtl,prevArrow:i(),nextArrow:d(),responsive:[{breakpoint:1200,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:768,settings:{slidesToShow:1,slidesToScroll:1}}]}}}};var g=function(){var t=this,s=t._self._c;return t.hasAnyProduct?s("div",{staticClass:"col-xl-6 col-lg-18"},[s("div",{staticClass:"daily-deals-wrap"},[s("div",{staticClass:"daily-deals-header clearfix"},[s("h4",{staticClass:"section-title",domProps:{innerHTML:t._s(t.title)}})]),s("div",{ref:"productsPlaceholder",staticClass:"daily-deals"},t._l(t.products,function(o){return s("FlashSaleProductCard",{key:o.id,attrs:{product:o}})}),1)])]):t._e()},y=[],D=n(C,g,y,!1,null,null,null,null);const T=D.exports;export{T as default};
//# sourceMappingURL=FlashSale-6a867192-v4.0.0.js.map
