import{A as zV}from"./Admin-d792ad35-v4.0.0.js";import{c as Xo,g as au,a as A1}from"./_commonjsHelpers-de833af9-v4.0.0.js";import{a as WV}from"./jquery-1ccb4563-v4.0.0.js";import{t as YV}from"./Errors-319f554e-v4.0.0.js";var N1={exports:{}};(function(f){(function(c){function o(j,ae){var P=(j&65535)+(ae&65535),ge=(j>>16)+(ae>>16)+(P>>16);return ge<<16|P&65535}function d(j,ae){return j<<ae|j>>>32-ae}function b(j,ae,P,ge,Ue,pe){return o(d(o(o(ae,j),o(ge,pe)),Ue),P)}function p(j,ae,P,ge,Ue,pe,Ke){return b(ae&P|~ae&ge,j,ae,Ue,pe,Ke)}function y(j,ae,P,ge,Ue,pe,Ke){return b(ae&ge|P&~ge,j,ae,Ue,pe,Ke)}function E(j,ae,P,ge,Ue,pe,Ke){return b(ae^P^ge,j,ae,Ue,pe,Ke)}function O(j,ae,P,ge,Ue,pe,Ke){return b(P^(ae|~ge),j,ae,Ue,pe,Ke)}function A(j,ae){j[ae>>5]|=128<<ae%32,j[(ae+64>>>9<<4)+14]=ae;var P,ge,Ue,pe,Ke,ye=1732584193,Y=-271733879,Ee=-1732584194,Ce=271733878;for(P=0;P<j.length;P+=16)ge=ye,Ue=Y,pe=Ee,Ke=Ce,ye=p(ye,Y,Ee,Ce,j[P],7,-680876936),Ce=p(Ce,ye,Y,Ee,j[P+1],12,-389564586),Ee=p(Ee,Ce,ye,Y,j[P+2],17,606105819),Y=p(Y,Ee,Ce,ye,j[P+3],22,-1044525330),ye=p(ye,Y,Ee,Ce,j[P+4],7,-176418897),Ce=p(Ce,ye,Y,Ee,j[P+5],12,1200080426),Ee=p(Ee,Ce,ye,Y,j[P+6],17,-1473231341),Y=p(Y,Ee,Ce,ye,j[P+7],22,-45705983),ye=p(ye,Y,Ee,Ce,j[P+8],7,1770035416),Ce=p(Ce,ye,Y,Ee,j[P+9],12,-1958414417),Ee=p(Ee,Ce,ye,Y,j[P+10],17,-42063),Y=p(Y,Ee,Ce,ye,j[P+11],22,-1990404162),ye=p(ye,Y,Ee,Ce,j[P+12],7,1804603682),Ce=p(Ce,ye,Y,Ee,j[P+13],12,-40341101),Ee=p(Ee,Ce,ye,Y,j[P+14],17,-1502002290),Y=p(Y,Ee,Ce,ye,j[P+15],22,1236535329),ye=y(ye,Y,Ee,Ce,j[P+1],5,-165796510),Ce=y(Ce,ye,Y,Ee,j[P+6],9,-1069501632),Ee=y(Ee,Ce,ye,Y,j[P+11],14,643717713),Y=y(Y,Ee,Ce,ye,j[P],20,-373897302),ye=y(ye,Y,Ee,Ce,j[P+5],5,-701558691),Ce=y(Ce,ye,Y,Ee,j[P+10],9,38016083),Ee=y(Ee,Ce,ye,Y,j[P+15],14,-660478335),Y=y(Y,Ee,Ce,ye,j[P+4],20,-405537848),ye=y(ye,Y,Ee,Ce,j[P+9],5,568446438),Ce=y(Ce,ye,Y,Ee,j[P+14],9,-1019803690),Ee=y(Ee,Ce,ye,Y,j[P+3],14,-187363961),Y=y(Y,Ee,Ce,ye,j[P+8],20,1163531501),ye=y(ye,Y,Ee,Ce,j[P+13],5,-1444681467),Ce=y(Ce,ye,Y,Ee,j[P+2],9,-51403784),Ee=y(Ee,Ce,ye,Y,j[P+7],14,1735328473),Y=y(Y,Ee,Ce,ye,j[P+12],20,-1926607734),ye=E(ye,Y,Ee,Ce,j[P+5],4,-378558),Ce=E(Ce,ye,Y,Ee,j[P+8],11,-2022574463),Ee=E(Ee,Ce,ye,Y,j[P+11],16,1839030562),Y=E(Y,Ee,Ce,ye,j[P+14],23,-35309556),ye=E(ye,Y,Ee,Ce,j[P+1],4,-1530992060),Ce=E(Ce,ye,Y,Ee,j[P+4],11,1272893353),Ee=E(Ee,Ce,ye,Y,j[P+7],16,-155497632),Y=E(Y,Ee,Ce,ye,j[P+10],23,-1094730640),ye=E(ye,Y,Ee,Ce,j[P+13],4,681279174),Ce=E(Ce,ye,Y,Ee,j[P],11,-358537222),Ee=E(Ee,Ce,ye,Y,j[P+3],16,-722521979),Y=E(Y,Ee,Ce,ye,j[P+6],23,76029189),ye=E(ye,Y,Ee,Ce,j[P+9],4,-640364487),Ce=E(Ce,ye,Y,Ee,j[P+12],11,-421815835),Ee=E(Ee,Ce,ye,Y,j[P+15],16,530742520),Y=E(Y,Ee,Ce,ye,j[P+2],23,-995338651),ye=O(ye,Y,Ee,Ce,j[P],6,-198630844),Ce=O(Ce,ye,Y,Ee,j[P+7],10,1126891415),Ee=O(Ee,Ce,ye,Y,j[P+14],15,-1416354905),Y=O(Y,Ee,Ce,ye,j[P+5],21,-57434055),ye=O(ye,Y,Ee,Ce,j[P+12],6,1700485571),Ce=O(Ce,ye,Y,Ee,j[P+3],10,-1894986606),Ee=O(Ee,Ce,ye,Y,j[P+10],15,-1051523),Y=O(Y,Ee,Ce,ye,j[P+1],21,-2054922799),ye=O(ye,Y,Ee,Ce,j[P+8],6,1873313359),Ce=O(Ce,ye,Y,Ee,j[P+15],10,-30611744),Ee=O(Ee,Ce,ye,Y,j[P+6],15,-1560198380),Y=O(Y,Ee,Ce,ye,j[P+13],21,1309151649),ye=O(ye,Y,Ee,Ce,j[P+4],6,-145523070),Ce=O(Ce,ye,Y,Ee,j[P+11],10,-1120210379),Ee=O(Ee,Ce,ye,Y,j[P+2],15,718787259),Y=O(Y,Ee,Ce,ye,j[P+9],21,-343485551),ye=o(ye,ge),Y=o(Y,Ue),Ee=o(Ee,pe),Ce=o(Ce,Ke);return[ye,Y,Ee,Ce]}function H(j){var ae,P="",ge=j.length*32;for(ae=0;ae<ge;ae+=8)P+=String.fromCharCode(j[ae>>5]>>>ae%32&255);return P}function U(j){var ae,P=[];for(P[(j.length>>2)-1]=void 0,ae=0;ae<P.length;ae+=1)P[ae]=0;var ge=j.length*8;for(ae=0;ae<ge;ae+=8)P[ae>>5]|=(j.charCodeAt(ae/8)&255)<<ae%32;return P}function re(j){return H(A(U(j),j.length*8))}function X(j,ae){var P,ge=U(j),Ue=[],pe=[],Ke;for(Ue[15]=pe[15]=void 0,ge.length>16&&(ge=A(ge,j.length*8)),P=0;P<16;P+=1)Ue[P]=ge[P]^909522486,pe[P]=ge[P]^1549556828;return Ke=A(Ue.concat(U(ae)),512+ae.length*8),H(A(pe.concat(Ke),512+128))}function ee(j){var ae="0123456789abcdef",P="",ge,Ue;for(Ue=0;Ue<j.length;Ue+=1)ge=j.charCodeAt(Ue),P+=ae.charAt(ge>>>4&15)+ae.charAt(ge&15);return P}function te(j){return unescape(encodeURIComponent(j))}function ce(j){return re(te(j))}function be(j){return ee(ce(j))}function le(j,ae){return X(te(j),te(ae))}function de(j,ae){return ee(le(j,ae))}function De(j,ae,P){return ae?P?le(ae,j):de(ae,j):P?ce(j):be(j)}f.exports?f.exports=De:c.md5=De})(Xo)})(N1);var KV=N1.exports;const P1=au(KV);var R1={exports:{}};(function(f){(function(){var c=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var t=typeof e;return t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":t},o=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},d=function(e,t){var n=Array.prototype.slice.call(e);return n.sort(t)},b=function(e,t){return p(function(n,r){return e.eq(t(n),t(r))})},p=function(e){return{eq:e}},y=p(function(e,t){return e===t}),E=y,O=function(e){return p(function(t,n){if(t.length!==n.length)return!1;for(var r=t.length,a=0;a<r;a++)if(!e.eq(t[a],n[a]))return!1;return!0})},A=function(e,t){return b(O(e),function(n){return d(n,t)})},H=function(e){return p(function(t,n){var r=Object.keys(t),a=Object.keys(n);if(!A(E).eq(r,a))return!1;for(var i=r.length,s=0;s<i;s++){var u=r[s];if(!e.eq(t[u],n[u]))return!1}return!0})},U=p(function(e,t){if(e===t)return!0;var n=c(e),r=c(t);return n!==r?!1:o(n)?e===t:n==="array"?O(U).eq(e,t):n==="object"?H(U).eq(e,t):!1}),re=function(e){var t=typeof e;return e===null?"null":t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":t},X=function(e){return function(t){return re(t)===e}},ee=function(e){return function(t){return typeof t===e}},te=function(e){return function(t){return e===t}},ce=X("string"),be=X("object"),le=X("array"),de=te(null),De=ee("boolean"),j=te(void 0),ae=function(e){return e==null},P=function(e){return!ae(e)},ge=ee("function"),Ue=ee("number"),pe=function(){},Ke=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e(t.apply(null,n))}},ye=function(e,t){return function(n){return e(t(n))}},Y=function(e){return function(){return e}},Ee=function(e){return e},Ce=function(e,t){return e===t};function h(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];var i=t.concat(r);return e.apply(null,i)}}var w=function(e){return function(t){return!e(t)}},B=function(e){return function(){throw new Error(e)}},q=function(e){return e()},J=function(e){e()},N=Y(!1),M=Y(!0),W=function(){return ke},ke=function(){var e=function(r){return r()},t=Ee,n={fold:function(r,a){return r()},isSome:N,isNone:M,getOr:t,getOrThunk:e,getOrDie:function(r){throw new Error(r||"error: getOrDie called on none.")},getOrNull:Y(null),getOrUndefined:Y(void 0),or:t,orThunk:e,map:W,each:pe,bind:W,exists:N,forall:M,filter:function(){return W()},toArray:function(){return[]},toString:Y("none()")};return n}(),Ae=function(e){var t=Y(e),n=function(){return a},r=function(i){return i(e)},a={fold:function(i,s){return s(e)},isSome:M,isNone:N,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(i){return Ae(i(e))},each:function(i){i(e)},bind:r,exists:r,forall:r,filter:function(i){return i(e)?a:ke},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return a},oe=function(e){return e==null?ke:Ae(e)},S={some:Ae,none:W,from:oe},tt=Array.prototype.slice,Ct=Array.prototype.indexOf,Bt=Array.prototype.push,Rt=function(e,t){return Ct.call(e,t)},Qt=function(e,t){var n=Rt(e,t);return n===-1?S.none():S.some(n)},qe=function(e,t){return Rt(e,t)>-1},_t=function(e,t){for(var n=0,r=e.length;n<r;n++){var a=e[n];if(t(a,n))return!0}return!1},xt=function(e,t){for(var n=e.length,r=new Array(n),a=0;a<n;a++){var i=e[a];r[a]=t(i,a)}return r},_e=function(e,t){for(var n=0,r=e.length;n<r;n++){var a=e[n];t(a,n)}},en=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];t(r,n)}},nn=function(e,t){for(var n=[],r=[],a=0,i=e.length;a<i;a++){var s=e[a],u=t(s,a)?n:r;u.push(s)}return{pass:n,fail:r}},it=function(e,t){for(var n=[],r=0,a=e.length;r<a;r++){var i=e[r];t(i,r)&&n.push(i)}return n},_n=function(e,t,n){return en(e,function(r,a){n=t(n,r,a)}),n},Gt=function(e,t,n){return _e(e,function(r,a){n=t(n,r,a)}),n},tn=function(e,t,n){for(var r=0,a=e.length;r<a;r++){var i=e[r];if(t(i,r))return S.some(i);if(n(i,r))break}return S.none()},St=function(e,t){return tn(e,t,N)},_r=function(e,t){for(var n=0,r=e.length;n<r;n++){var a=e[n];if(t(a,n))return S.some(n)}return S.none()},_a=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!le(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);Bt.apply(t,e[n])}return t},Tr=function(e,t){return _a(xt(e,t))},Q=function(e,t){for(var n=0,r=e.length;n<r;++n){var a=e[n];if(t(a,n)!==!0)return!1}return!0},Me=function(e){var t=tt.call(e,0);return t.reverse(),t},je=function(e,t){return it(e,function(n){return!qe(t,n)})},at=function(e,t){for(var n={},r=0,a=e.length;r<a;r++){var i=e[r];n[String(i)]=t(i,r)}return n},ht=function(e,t){var n=tt.call(e,0);return n.sort(t),n},Tt=function(e,t){return t>=0&&t<e.length?S.some(e[t]):S.none()},bt=function(e){return Tt(e,0)},Ht=function(e){return Tt(e,e.length-1)},ot=ge(Array.from)?Array.from:function(e){return tt.call(e)},on=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return S.none()},bn=Object.keys,Kn=Object.hasOwnProperty,Ut=function(e,t){for(var n=bn(e),r=0,a=n.length;r<a;r++){var i=n[r],s=e[i];t(s,i)}},Zi=function(e,t){return Vr(e,function(n,r){return{k:r,v:t(n,r)}})},Vr=function(e,t){var n={};return Ut(e,function(r,a){var i=t(r,a);n[i.k]=i.v}),n},Jo=function(e){return function(t,n){e[n]=t}},su=function(e,t,n,r){var a={};return Ut(e,function(i,s){(t(i,s)?n:r)(i,s)}),a},I=function(e,t){var n={},r={};return su(e,t,Jo(n),Jo(r)),{t:n,f:r}},L=function(e,t){var n={};return su(e,t,Jo(n),pe),n},se=function(e,t){var n=[];return Ut(e,function(r,a){n.push(t(r,a))}),n},Ne=function(e){return se(e,Ee)},Ve=function(e,t){return $e(e,t)?S.from(e[t]):S.none()},$e=function(e,t){return Kn.call(e,t)},wt=function(e,t){return $e(e,t)&&e[t]!==void 0&&e[t]!==null},ft=function(e,t,n){return n===void 0&&(n=U),H(n).eq(e,t)},Nt=Array.isArray,ut=function(e){if(Nt(e))return e;for(var t=[],n=0,r=e.length;n<r;n++)t[n]=e[n];return t},gt=function(e,t,n){var r,a;if(!e)return!1;if(n=n||e,e.length!==void 0){for(r=0,a=e.length;r<a;r++)if(t.call(n,e[r],r,e)===!1)return!1}else for(r in e)if($e(e,r)&&t.call(n,e[r],r,e)===!1)return!1;return!0},Wt=function(e,t){var n=[];return gt(e,function(r,a){n.push(t(r,a,e))}),n},Vn=function(e,t){var n=[];return gt(e,function(r,a){(!t||t(r,a,e))&&n.push(r)}),n},qn=function(e,t){if(e){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n}return-1},aa=function(e,t,n,r){for(var a=j(n)?e[0]:n,i=0;i<e.length;i++)a=t.call(r,a,e[i],i);return a},ka=function(e,t,n){var r,a;for(r=0,a=e.length;r<a;r++)if(t.call(n,e[r],r,e))return r;return-1},ia=function(e){return e[e.length-1]},st=function(){return st=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},st.apply(this,arguments)};function Rf(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function Hr(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,i;r<a;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var Qo=function(e){var t=!1,n;return function(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];return t||(t=!0,n=e.apply(null,r)),n}},If=function(e,t,n,r){var a=e.isiOS()&&/ipad/i.test(n)===!0,i=e.isiOS()&&!a,s=e.isiOS()||e.isAndroid(),u=s||r("(pointer:coarse)"),l=a||!i&&s&&r("(min-device-width:768px)"),v=i||s&&!l,g=t.isSafari()&&e.isiOS()&&/safari/i.test(n)===!1,m=!v&&!l&&!g;return{isiPad:Y(a),isiPhone:Y(i),isTablet:Y(l),isPhone:Y(v),isTouch:Y(u),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:Y(g),isDesktop:Y(m)}},Bf=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}},Mf=function(e,t){var n=Bf(e,t);if(!n)return{major:0,minor:0};var r=function(a){return Number(t.replace(n,"$"+a))};return Ff(r(1),r(2))},$f=function(e,t){var n=String(t).toLowerCase();return e.length===0?uu():Mf(e,n)},uu=function(){return Ff(0,0)},Ff=function(e,t){return{major:e,minor:t}},Zo={nu:Ff,detect:$f,unknown:uu},G1=function(e,t){return on(t.brands,function(n){var r=n.brand.toLowerCase();return St(e,function(a){var i;return r===((i=a.brand)===null||i===void 0?void 0:i.toLowerCase())}).map(function(a){return{current:a.name,version:Zo.nu(parseInt(n.version,10),0)}})})},jp=function(e,t){var n=String(t).toLowerCase();return St(e,function(r){return r.search(n)})},X1=function(e,t){return jp(e,t).map(function(n){var r=Zo.detect(n.versionRegexes,t);return{current:n.name,version:r}})},J1=function(e,t){return jp(e,t).map(function(n){var r=Zo.detect(n.versionRegexes,t);return{current:n.name,version:r}})},Q1=function(e,t){return e.substring(t)},Z1=function(e,t,n){return t===""||e.length>=t.length&&e.substr(n,n+t.length)===t},eE=function(e,t){return yi(e,t)?Q1(e,t.length):e},Gn=function(e,t){return e.indexOf(t)!==-1},yi=function(e,t){return Z1(e,t,0)},Lf=function(e){return function(t){return t.replace(e,"")}},_f=Lf(/^\s+|\s+$/g),tE=Lf(/^\s+/g),zp=Lf(/\s+$/g),lu=function(e){return e.length>0},Wp=function(e){return!lu(e)},Vf=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Oa=function(e){return function(t){return Gn(t,e)}},nE=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return Gn(e,"edge/")&&Gn(e,"chrome")&&Gn(e,"safari")&&Gn(e,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Vf],search:function(e){return Gn(e,"chrome")&&!Gn(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return Gn(e,"msie")||Gn(e,"trident")}},{name:"Opera",versionRegexes:[Vf,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Oa("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Oa("firefox")},{name:"Safari",versionRegexes:[Vf,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(Gn(e,"safari")||Gn(e,"mobile/"))&&Gn(e,"applewebkit")}}],rE=[{name:"Windows",search:Oa("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return Gn(e,"iphone")||Gn(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Oa("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Oa("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Oa("linux"),versionRegexes:[]},{name:"Solaris",search:Oa("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Oa("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Oa("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Yp={browsers:Y(nE),oses:Y(rE)},Kp="Edge",qp="Chrome",Gp="IE",Xp="Opera",Jp="Firefox",Qp="Safari",aE=function(){return Zp({current:void 0,version:Zo.unknown()})},Zp=function(e){var t=e.current,n=e.version,r=function(a){return function(){return t===a}};return{current:t,version:n,isEdge:r(Kp),isChrome:r(qp),isIE:r(Gp),isOpera:r(Xp),isFirefox:r(Jp),isSafari:r(Qp)}},eh={unknown:aE,nu:Zp,edge:Y(Kp),chrome:Y(qp),ie:Y(Gp),opera:Y(Xp),firefox:Y(Jp),safari:Y(Qp)},th="Windows",nh="iOS",rh="Android",ah="Linux",ih="OSX",oh="Solaris",sh="FreeBSD",uh="ChromeOS",iE=function(){return lh({current:void 0,version:Zo.unknown()})},lh=function(e){var t=e.current,n=e.version,r=function(a){return function(){return t===a}};return{current:t,version:n,isWindows:r(th),isiOS:r(nh),isAndroid:r(rh),isOSX:r(ih),isLinux:r(ah),isSolaris:r(oh),isFreeBSD:r(sh),isChromeOS:r(uh)}},fh={unknown:iE,nu:lh,windows:Y(th),ios:Y(nh),android:Y(rh),linux:Y(ah),osx:Y(ih),solaris:Y(oh),freebsd:Y(sh),chromeos:Y(uh)},oE=function(e,t,n){var r=Yp.browsers(),a=Yp.oses(),i=t.bind(function(l){return G1(r,l)}).orThunk(function(){return X1(r,e)}).fold(eh.unknown,eh.nu),s=J1(a,e).fold(fh.unknown,fh.nu),u=If(s,i,e,n);return{browser:i,os:s,deviceType:u}},sE={detect:oE},uE=function(e){return window.matchMedia(e).matches},lE=Qo(function(){return sE.detect(navigator.userAgent,S.from(navigator.userAgentData),uE)}),Ar=function(){return lE()},ch=navigator.userAgent,Hf=Ar(),Xn=Hf.browser,hr=Hf.os,oa=Hf.deviceType,fE=/WebKit/.test(ch)&&!Xn.isEdge(),cE="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,dE=ch.indexOf("Windows Phone")!==-1,pt={opera:Xn.isOpera(),webkit:fE,ie:Xn.isIE()||Xn.isEdge()?Xn.version.major:!1,gecko:Xn.isFirefox(),mac:hr.isOSX()||hr.isiOS(),iOS:oa.isiPad()||oa.isiPhone(),android:hr.isAndroid(),contentEditable:!0,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:!0,range:window.getSelection&&"Range"in window,documentMode:Xn.isIE()?document.documentMode||7:10,fileApi:cE,ceFalse:!0,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!Xn.isIE(),desktop:oa.isDesktop(),windowsPhone:dE,browser:{current:Xn.current,version:Xn.version,isChrome:Xn.isChrome,isEdge:Xn.isEdge,isFirefox:Xn.isFirefox,isIE:Xn.isIE,isOpera:Xn.isOpera,isSafari:Xn.isSafari},os:{current:hr.current,version:hr.version,isAndroid:hr.isAndroid,isChromeOS:hr.isChromeOS,isFreeBSD:hr.isFreeBSD,isiOS:hr.isiOS,isLinux:hr.isLinux,isOSX:hr.isOSX,isSolaris:hr.isSolaris,isWindows:hr.isWindows},deviceType:{isDesktop:oa.isDesktop,isiPad:oa.isiPad,isiPhone:oa.isiPhone,isPhone:oa.isPhone,isTablet:oa.isTablet,isTouch:oa.isTouch,isWebView:oa.isWebView}},vE=/^\s*|\s*$/g,dh=function(e){return e==null?"":(""+e).replace(vE,"")},vh=function(e,t){return t?t==="array"&&Nt(e)?!0:typeof e===t:e!==void 0},pE=function(e,t,n){var r;for(e=e||[],t=t||",",typeof e=="string"&&(e=e.split(t)),n=n||{},r=e.length;r--;)n[e[r]]={};return n},hE=$e,gE=function(e,t,n){var r=this,a,i,s,u=0;e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e);var l=e[3].match(/(^|\.)(\w+)$/i)[2],v=r.createNS(e[3].replace(/\.\w+$/,""),n);if(!v[l]){if(e[2]==="static"){v[l]=t,this.onCreate&&this.onCreate(e[2],e[3],v[l]);return}t[l]||(t[l]=function(){},u=1),v[l]=t[l],r.extend(v[l].prototype,t),e[5]&&(a=r.resolve(e[5]).prototype,i=e[5].match(/\.(\w+)$/i)[1],s=v[l],u?v[l]=function(){return a[i].apply(this,arguments)}:v[l]=function(){return this.parent=a[i],s.apply(this,arguments)},v[l].prototype[l]=v[l],r.each(a,function(g,m){v[l].prototype[m]=a[m]}),r.each(t,function(g,m){a[m]?v[l].prototype[m]=function(){return this.parent=a[m],g.apply(this,arguments)}:m!==l&&(v[l].prototype[m]=g)})),r.each(t.static,function(g,m){v[l][m]=g})}},mE=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++){var a=t[r];for(var i in a)if($e(a,i)){var s=a[i];s!==void 0&&(e[i]=s)}}return e},ph=function(e,t,n,r){r=r||this,e&&(n&&(e=e[n]),gt(e,function(a,i){if(t.call(r,a,i,n)===!1)return!1;ph(a,t,n,r)}))},bE=function(e,t){var n,r;for(t=t||window,e=e.split("."),n=0;n<e.length;n++)r=e[n],t[r]||(t[r]={}),t=t[r];return t},yE=function(e,t){var n,r;for(t=t||window,e=e.split("."),n=0,r=e.length;n<r&&(t=t[e[n]],!!t);n++);return t},CE=function(e,t){return!e||vh(e,"array")?e:Wt(e.split(t||","),dh)},wE=function(e){var t=pt.cacheSuffix;return t&&(e+=(e.indexOf("?")===-1?"?":"&")+t),e},he={trim:dh,isArray:Nt,is:vh,toArray:ut,makeMap:pE,each:gt,map:Wt,grep:Vn,inArray:qn,hasOwn:hE,extend:mE,create:gE,walk:ph,createNS:bE,resolve:yE,explode:CE,_addCacheSuffix:wE},EE=function(e,t){var n=t||document,r=n.createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return es(r.childNodes[0])},SE=function(e,t){var n=t||document,r=n.createElement(e);return es(r)},xE=function(e,t){var n=t||document,r=n.createTextNode(e);return es(r)},es=function(e){if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},DE=function(e,t,n){return S.from(e.dom.elementFromPoint(t,n)).map(es)},Z={fromHtml:EE,fromTag:SE,fromText:xE,fromDom:es,fromPoint:DE},hh=function(e,t){var n=[],r=function(i){return n.push(i),t(i)},a=t(e);do a=a.bind(r);while(a.isSome());return n},kE=function(e,t,n){return(e.compareDocumentPosition(t)&n)!==0},OE=function(e,t){return kE(e,t,Node.DOCUMENT_POSITION_CONTAINED_BY)},TE=8,gh=9,mh=11,Uf=1,AE=3,eo=function(e,t){var n=e.dom;if(n.nodeType!==Uf)return!1;var r=n;if(r.matches!==void 0)return r.matches(t);if(r.msMatchesSelector!==void 0)return r.msMatchesSelector(t);if(r.webkitMatchesSelector!==void 0)return r.webkitMatchesSelector(t);if(r.mozMatchesSelector!==void 0)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},bh=function(e){return e.nodeType!==Uf&&e.nodeType!==gh&&e.nodeType!==mh||e.childElementCount===0},NE=function(e,t){var n=t===void 0?document:t.dom;return bh(n)?[]:xt(n.querySelectorAll(e),Z.fromDom)},PE=function(e,t){var n=t===void 0?document:t.dom;return bh(n)?S.none():S.from(n.querySelector(e)).map(Z.fromDom)},Yt=function(e,t){return e.dom===t.dom},RE=function(e,t){var n=e.dom,r=t.dom;return n===r?!1:n.contains(r)},IE=function(e,t){return OE(e.dom,t.dom)},Va=function(e,t){return Ar().browser.isIE()?IE(e,t):RE(e,t)};typeof window<"u"||Function("return this;")();var yn=function(e){var t=e.dom.nodeName;return t.toLowerCase()},yh=function(e){return e.dom.nodeType},fu=function(e){return function(t){return yh(t)===e}},BE=function(e){return yh(e)===TE||yn(e)==="#comment"},Ur=fu(Uf),Nr=fu(AE),ME=fu(gh),$E=fu(mh),FE=function(e){return function(t){return Ur(t)&&yn(t)===e}},Ch=function(e){return Z.fromDom(e.dom.ownerDocument)},to=function(e){return ME(e)?e:Ch(e)},LE=function(e){return Z.fromDom(to(e).dom.documentElement)},wh=function(e){return Z.fromDom(to(e).dom.defaultView)},jr=function(e){return S.from(e.dom.parentNode).map(Z.fromDom)},_E=function(e,t){for(var n=ge(t)?t:N,r=e.dom,a=[];r.parentNode!==null&&r.parentNode!==void 0;){var i=r.parentNode,s=Z.fromDom(i);if(a.push(s),n(s)===!0)break;r=i}return a},VE=function(e){var t=function(n){return it(n,function(r){return!Yt(e,r)})};return jr(e).map(Pr).map(t).getOr([])},Ci=function(e){return S.from(e.dom.previousSibling).map(Z.fromDom)},ts=function(e){return S.from(e.dom.nextSibling).map(Z.fromDom)},Eh=function(e){return Me(hh(e,Ci))},Sh=function(e){return hh(e,ts)},Pr=function(e){return xt(e.dom.childNodes,Z.fromDom)},cu=function(e,t){var n=e.dom.childNodes;return S.from(n[t]).map(Z.fromDom)},xh=function(e){return cu(e,0)},jf=function(e){return cu(e,e.dom.childNodes.length-1)},Dh=function(e){return e.dom.childNodes.length},HE=function(e){var t=e.dom.head;if(t==null)throw new Error("Head is not available yet");return Z.fromDom(t)},kh=function(e){return $E(e)&&P(e.dom.host)},Oh=ge(Element.prototype.attachShadow)&&ge(Node.prototype.getRootNode),UE=Y(Oh),wi=Oh?function(e){return Z.fromDom(e.dom.getRootNode())}:to,zf=function(e){return kh(e)?e:HE(to(e))},jE=function(e){var t=wi(e);return kh(t)?S.some(t):S.none()},zE=function(e){return Z.fromDom(e.dom.host)},WE=function(e){if(UE()&&P(e.target)){var t=Z.fromDom(e.target);if(Ur(t)&&YE(t)&&e.composed&&e.composedPath){var n=e.composedPath();if(n)return bt(n)}}return S.from(e.target)},YE=function(e){return P(e.dom.shadowRoot)},zr=function(e,t){var n=jr(e);n.each(function(r){r.dom.insertBefore(t.dom,e.dom)})},ns=function(e,t){var n=ts(e);n.fold(function(){var r=jr(e);r.each(function(a){Pn(a,t)})},function(r){zr(r,t)})},Th=function(e,t){var n=xh(e);n.fold(function(){Pn(e,t)},function(r){e.dom.insertBefore(t.dom,r.dom)})},Pn=function(e,t){e.dom.appendChild(t.dom)},KE=function(e,t){zr(e,t),Pn(t,e)},qE=function(e,t){_e(t,function(n){zr(e,n)})},du=function(e,t){_e(t,function(n){Pn(e,n)})},Wf=function(e){e.dom.textContent="",_e(Pr(e),function(t){Tn(t)})},Tn=function(e){var t=e.dom;t.parentNode!==null&&t.parentNode.removeChild(t)},Ah=function(e){var t=Pr(e);t.length>0&&qE(e,t),Tn(e)},rs=function(e){var t=Nr(e)?e.dom.parentNode:e.dom;if(t==null||t.ownerDocument===null)return!1;var n=t.ownerDocument;return jE(Z.fromDom(t)).fold(function(){return n.body.contains(t)},ye(rs,zE))},Nh=function(e,t){var n=function(r,a){return Nh(e+r,t+a)};return{left:e,top:t,translate:n}},no=Nh,GE=function(e){var t=e.getBoundingClientRect();return no(t.left,t.top)},vu=function(e,t){return e!==void 0?e:t!==void 0?t:0},XE=function(e){var t=e.dom.ownerDocument,n=t.body,r=t.defaultView,a=t.documentElement;if(n===e.dom)return no(n.offsetLeft,n.offsetTop);var i=vu(r==null?void 0:r.pageYOffset,a.scrollTop),s=vu(r==null?void 0:r.pageXOffset,a.scrollLeft),u=vu(a.clientTop,n.clientTop),l=vu(a.clientLeft,n.clientLeft);return Yf(e).translate(s-l,i-u)},Yf=function(e){var t=e.dom,n=t.ownerDocument,r=n.body;return r===t?no(r.offsetLeft,r.offsetTop):rs(e)?GE(t):no(0,0)},Kf=function(e){var t=e!==void 0?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,r=t.body.scrollTop||t.documentElement.scrollTop;return no(n,r)},Ph=function(e,t,n){var r=n!==void 0?n.dom:document,a=r.defaultView;a&&a.scrollTo(e,t)},Rh=function(e,t){var n=Ar().browser.isSafari();n&&ge(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},JE=function(e){var t=e===void 0?window:e;return Ar().browser.isFirefox()?S.none():S.from(t.visualViewport)},Ih=function(e,t,n,r){return{x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}},Bh=function(e){var t=e===void 0?window:e,n=t.document,r=Kf(Z.fromDom(n));return JE(t).fold(function(){var a=t.document.documentElement,i=a.clientWidth,s=a.clientHeight;return Ih(r.left,r.top,i,s)},function(a){return Ih(Math.max(a.pageLeft,r.left),Math.max(a.pageTop,r.top),a.width,a.height)})},as=function(e){return function(t){return!!t&&t.nodeType===e}},pu=function(e){return!!e&&!Object.getPrototypeOf(e)},lt=as(1),Rr=function(e){var t=e.map(function(n){return n.toLowerCase()});return function(n){if(n&&n.nodeName){var r=n.nodeName.toLowerCase();return qe(t,r)}return!1}},hu=function(e,t){var n=t.toLowerCase().split(" ");return function(r){if(lt(r))for(var a=0;a<n.length;a++){var i=r.ownerDocument.defaultView.getComputedStyle(r,null),s=i?i.getPropertyValue(e):null;if(s===n[a])return!0}return!1}},Mh=function(e){return function(t){return lt(t)&&t.hasAttribute(e)}},QE=function(e,t){return function(n){return lt(n)&&n.getAttribute(e)===t}},Ei=function(e){return lt(e)&&e.hasAttribute("data-mce-bogus")},ZE=function(e){return lt(e)&&e.getAttribute("data-mce-bogus")==="all"},ro=function(e){return lt(e)&&e.tagName==="TABLE"},$h=function(e){return function(t){return!!(lt(t)&&(t.contentEditable===e||t.getAttribute("data-mce-contenteditable")===e))}},qf=Rr(["textarea","input"]),Ge=as(3),eS=as(8),Gf=as(9),Xf=as(11),sn=Rr(["br"]),tS=Rr(["img"]),sa=$h("true"),Jt=$h("false"),gu=Rr(["td","th"]),Ir=Rr(["video","audio","object","embed"]),mu=function(e,t,n){return n===void 0&&(n=Ce),e.exists(function(r){return n(r,t)})},nS=function(e){for(var t=[],n=function(a){t.push(a)},r=0;r<e.length;r++)e[r].each(n);return t},nr=function(e,t,n){return e.isSome()&&t.isSome()?S.some(n(e.getOrDie(),t.getOrDie())):S.none()},rS=function(e,t,n,r){return e.isSome()&&t.isSome()&&n.isSome()?S.some(r(e.getOrDie(),t.getOrDie(),n.getOrDie())):S.none()},aS=function(e,t){return e?S.some(t):S.none()},bu=function(e){return e.style!==void 0&&ge(e.style.getPropertyValue)},Fh=function(e,t,n){if(ce(n)||De(n)||Ue(n))e.setAttribute(t,n+"");else throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple")},ua=function(e,t,n){Fh(e.dom,t,n)},Ha=function(e,t){var n=e.dom;Ut(t,function(r,a){Fh(n,a,r)})},is=function(e,t){var n=e.dom.getAttribute(t);return n===null?void 0:n},Lh=function(e,t){return S.from(is(e,t))},iS=function(e,t){var n=e.dom;return n&&n.hasAttribute?n.hasAttribute(t):!1},Ua=function(e,t){e.dom.removeAttribute(t)},oS=function(e){return Gt(e.dom.attributes,function(t,n){return t[n.name]=n.value,t},{})},sS=function(e,t,n){if(!ce(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);bu(e)&&e.style.setProperty(t,n)},uS=function(e,t){var n=e.dom;Ut(t,function(r,a){sS(n,a,r)})},Ta=function(e,t){var n=e.dom,r=window.getComputedStyle(n),a=r.getPropertyValue(t);return a===""&&!rs(e)?_h(n,t):a},_h=function(e,t){return bu(e)?e.style.getPropertyValue(t):""},Jf=function(e,t){var n=e.dom,r=_h(n,t);return S.from(r).filter(function(a){return a.length>0})},Vh=function(e){var t={},n=e.dom;if(bu(n))for(var r=0;r<n.style.length;r++){var a=n.style.item(r);t[a]=n.style[a]}return t},lS=function(e){return e.dom.offsetWidth},fS=Ar().browser,Hh=function(e){return St(e,Ur)},cS=function(e){return fS.isFirefox()&&yn(e)==="table"?Hh(Pr(e)).filter(function(t){return yn(t)==="caption"}).bind(function(t){return Hh(Sh(t)).map(function(n){var r=n.dom.offsetTop,a=t.dom.offsetTop,i=t.dom.offsetHeight;return r<=a?-i:0})}).getOr(0):0},Uh=function(e,t){return e.children&&qe(e.children,t)},dS=function(e,t,n){var r=0,a=0,i=e.ownerDocument;if(n=n||e,t){if(n===e&&t.getBoundingClientRect&&Ta(Z.fromDom(e),"position")==="static"){var s=t.getBoundingClientRect();return r=s.left+(i.documentElement.scrollLeft||e.scrollLeft)-i.documentElement.clientLeft,a=s.top+(i.documentElement.scrollTop||e.scrollTop)-i.documentElement.clientTop,{x:r,y:a}}for(var u=t;u&&u!==n&&u.nodeType&&!Uh(u,n);){var l=u;r+=l.offsetLeft||0,a+=l.offsetTop||0,u=l.offsetParent}for(u=t.parentNode;u&&u!==n&&u.nodeType&&!Uh(u,n);)r-=u.scrollLeft||0,a-=u.scrollTop||0,u=u.parentNode;a+=cS(Z.fromDom(t))}return{x:r,y:a}},jh={},zh={exports:jh};(function(e,t,n,r){(function(a,i){typeof t=="object"&&typeof n<"u"?n.exports=i():typeof e=="function"&&e.amd?e(i):(a=typeof globalThis<"u"?globalThis:a||self,a.EphoxContactWrapper=i())})(this,function(){var a=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Xo<"u"?Xo:typeof self<"u"?self:{},i={exports:{}};(function(v){(function(g){var m=setTimeout;function C(){}function x(V,ne){return function(){V.apply(ne,arguments)}}function D(V){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof V!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],K(V,this)}function k(V,ne){for(;V._state===3;)V=V._value;if(V._state===0){V._deferreds.push(ne);return}V._handled=!0,D._immediateFn(function(){var ve=V._state===1?ne.onFulfilled:ne.onRejected;if(ve===null){(V._state===1?T:F)(ne.promise,V._value);return}var Oe;try{Oe=ve(V._value)}catch(nt){F(ne.promise,nt);return}T(ne.promise,Oe)})}function T(V,ne){try{if(ne===V)throw new TypeError("A promise cannot be resolved with itself.");if(ne&&(typeof ne=="object"||typeof ne=="function")){var ve=ne.then;if(ne instanceof D){V._state=3,V._value=ne,R(V);return}else if(typeof ve=="function"){K(x(ve,ne),V);return}}V._state=1,V._value=ne,R(V)}catch(Oe){F(V,Oe)}}function F(V,ne){V._state=2,V._value=ne,R(V)}function R(V){V._state===2&&V._deferreds.length===0&&D._immediateFn(function(){V._handled||D._unhandledRejectionFn(V._value)});for(var ne=0,ve=V._deferreds.length;ne<ve;ne++)k(V,V._deferreds[ne]);V._deferreds=null}function G(V,ne,ve){this.onFulfilled=typeof V=="function"?V:null,this.onRejected=typeof ne=="function"?ne:null,this.promise=ve}function K(V,ne){var ve=!1;try{V(function(Oe){ve||(ve=!0,T(ne,Oe))},function(Oe){ve||(ve=!0,F(ne,Oe))})}catch(Oe){if(ve)return;ve=!0,F(ne,Oe)}}D.prototype.catch=function(V){return this.then(null,V)},D.prototype.then=function(V,ne){var ve=new this.constructor(C);return k(this,new G(V,ne,ve)),ve},D.all=function(V){var ne=Array.prototype.slice.call(V);return new D(function(ve,Oe){if(ne.length===0)return ve([]);var nt=ne.length;function ze(Ze,Ie){try{if(Ie&&(typeof Ie=="object"||typeof Ie=="function")){var He=Ie.then;if(typeof He=="function"){He.call(Ie,function(Pe){ze(Ze,Pe)},Oe);return}}ne[Ze]=Ie,--nt===0&&ve(ne)}catch(Pe){Oe(Pe)}}for(var me=0;me<ne.length;me++)ze(me,ne[me])})},D.resolve=function(V){return V&&typeof V=="object"&&V.constructor===D?V:new D(function(ne){ne(V)})},D.reject=function(V){return new D(function(ne,ve){ve(V)})},D.race=function(V){return new D(function(ne,ve){for(var Oe=0,nt=V.length;Oe<nt;Oe++)V[Oe].then(ne,ve)})},D._immediateFn=typeof setImmediate=="function"?function(V){setImmediate(V)}:function(V){m(V,0)},D._unhandledRejectionFn=function(ne){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",ne)},D._setImmediateFn=function(ne){D._immediateFn=ne},D._setUnhandledRejectionFn=function(ne){D._unhandledRejectionFn=ne},v.exports?v.exports=D:g.Promise||(g.Promise=D)})(a)})(i);var s=i.exports,u=function(){return typeof window<"u"?window:Function("return this;")()}(),l={boltExport:u.Promise||s};return l})})(void 0,jh,zh);var Qf=zh.exports.boltExport,Zf=function(e){var t=S.none(),n=[],r=function(v){return Zf(function(g){a(function(m){g(v(m))})})},a=function(v){s()?l(v):n.push(v)},i=function(v){s()||(t=S.some(v),u(n),n=[])},s=function(){return t.isSome()},u=function(v){_e(v,l)},l=function(v){t.each(function(g){setTimeout(function(){v(g)},0)})};return e(i),{get:a,map:r,isReady:s}},vS=function(e){return Zf(function(t){t(e)})},pS={nu:Zf,pure:vS},hS=function(e){setTimeout(function(){throw e},0)},ao=function(e){var t=function(l){e().then(l,hS)},n=function(l){return ao(function(){return e().then(l)})},r=function(l){return ao(function(){return e().then(function(v){return l(v).toPromise()})})},a=function(l){return ao(function(){return e().then(function(){return l.toPromise()})})},i=function(){return pS.nu(t)},s=function(){var l=null;return ao(function(){return l===null&&(l=e()),l})},u=e;return{map:n,bind:r,anonBind:a,toLazy:i,toCached:s,toPromise:u,get:t}},gS=function(e){return ao(function(){return new Qf(e)})},mS=function(e){return ao(function(){return Qf.resolve(e)})},Wh={nu:gS,pure:mS},bS=function(e,t){return t(function(n){var r=[],a=0,i=function(s){return function(u){r[s]=u,a++,a>=e.length&&n(r)}};e.length===0?n([]):_e(e,function(s,u){s.get(i(u))})})},yS=function(e){return bS(e,Wh.nu)},io=function(e){var t=function(m){return io(e)},n=function(m){return io(e)},r=function(m){return io(m(e))},a=function(m){return io(e)},i=function(m){m(e)},s=function(m){return m(e)},u=function(m,C){return C(e)},l=function(m){return m(e)},v=function(m){return m(e)},g=function(){return S.some(e)};return{isValue:M,isError:N,getOr:Y(e),getOrThunk:Y(e),getOrDie:Y(e),or:t,orThunk:n,fold:u,map:r,mapError:a,each:i,bind:s,exists:l,forall:v,toOptional:g}},os=function(e){var t=function(v){return v()},n=function(){return B(String(e))()},r=Ee,a=function(v){return v()},i=function(v){return os(e)},s=function(v){return os(v(e))},u=function(v){return os(e)},l=function(v,g){return v(e)};return{isValue:N,isError:M,getOr:Ee,getOrThunk:t,getOrDie:n,or:r,orThunk:a,fold:l,map:i,mapError:s,each:pe,bind:u,exists:N,forall:M,toOptional:S.none}},CS=function(e,t){return e.fold(function(){return os(t)},io)},Yh={value:io,error:os,fromOption:CS},wS=function(e){if(!le(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");var t=[],n={};return _e(e,function(r,a){var i=bn(r);if(i.length!==1)throw new Error("one and only one name per case");var s=i[0],u=r[s];if(n[s]!==void 0)throw new Error("duplicate key detected:"+s);if(s==="cata")throw new Error("cannot have a case named cata (sorry)");if(!le(u))throw new Error("case arguments must be an array");t.push(s),n[s]=function(){for(var l=[],v=0;v<arguments.length;v++)l[v]=arguments[v];var g=l.length;if(g!==u.length)throw new Error("Wrong number of arguments to case "+s+". Expected "+u.length+" ("+u+"), got "+g);var m=function(C){var x=bn(C);if(t.length!==x.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+`
Actual: `+x.join(","));var D=Q(t,function(k){return qe(x,k)});if(!D)throw new Error("Not all branches were specified when using match. Specified: "+x.join(", ")+`
Required: `+t.join(", "));return C[s].apply(null,l)};return{fold:function(){for(var C=[],x=0;x<arguments.length;x++)C[x]=arguments[x];if(C.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+C.length);var D=C[a];return D.apply(null,l)},match:m,log:function(C){console.log(C,{constructors:t,constructor:s,params:l})}}}}),n},ja={generate:wS};ja.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var Kh=function(e){return e.fold(Ee,Ee)};function qh(e,t,n,r,a){return e(n,r)?S.some(n):ge(a)&&a(n)?S.none():t(n,r,a)}var ss=function(e,t,n){for(var r=e.dom,a=ge(n)?n:N;r.parentNode;){r=r.parentNode;var i=Z.fromDom(r);if(t(i))return S.some(i);if(a(i))break}return S.none()},yu=function(e,t,n){var r=function(a,i){return i(a)};return qh(r,ss,e,t,n)},ES=function(e,t){var n=e.dom;return n.parentNode?SS(Z.fromDom(n.parentNode),function(r){return!Yt(e,r)&&t(r)}):S.none()},SS=function(e,t){var n=function(a){return t(Z.fromDom(a))},r=St(e.dom.childNodes,n);return r.map(Z.fromDom)},Cu=function(e,t,n){return ss(e,function(r){return eo(r,t)},n)},wu=function(e,t){return PE(t,e)},ec=function(e,t,n){var r=function(a,i){return eo(a,i)};return qh(r,Cu,e,t,n)},Rn=window.Promise?window.Promise:Qf,tc,xS=function(e,t){for(var n=window.requestAnimationFrame,r=["ms","moz","webkit"],a=function(s){window.setTimeout(s,0)},i=0;i<r.length&&!n;i++)n=window[r[i]+"RequestAnimationFrame"];n||(n=a),n(e,t)},nc=function(e,t){return typeof t!="number"&&(t=0),setTimeout(e,t)},Gh=function(e,t){return typeof t!="number"&&(t=1),setInterval(e,t)},DS=function(e){return clearTimeout(e)},kS=function(e){return clearInterval(e)},Xh=function(e,t){var n,r=function(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];clearTimeout(n),n=nc(function(){e.apply(this,a)},t)};return r.stop=function(){clearTimeout(n)},r},In={requestAnimationFrame:function(e,t){if(tc){tc.then(e);return}tc=new Rn(function(n){t||(t=document.body),xS(n,t)}).then(e)},setTimeout:nc,setInterval:Gh,setEditorTimeout:function(e,t,n){return nc(function(){e.removed||t()},n)},setEditorInterval:function(e,t,n){var r=Gh(function(){e.removed?clearInterval(r):t()},n);return r},debounce:Xh,throttle:Xh,clearInterval:kS,clearTimeout:DS},Jh=function(e,t){t===void 0&&(t={});var n=0,r={},a=Z.fromDom(e),i=to(a),s=t.maxLoadTime||5e3,u=function(T){t.referrerPolicy=T},l=function(T){Pn(zf(a),T)},v=function(T){var F=zf(a);wu(F,"#"+T).each(Tn)},g=function(T){return Ve(r,T).getOrThunk(function(){return{id:"mce-u"+n++,passed:[],failed:[],count:0}})},m=function(T,F,R){var G,K=he._addCacheSuffix(T),V=g(K);r[K]=V,V.count++;var ne=function(Ie,He){for(var Pe=Ie.length;Pe--;)Ie[Pe]();V.status=He,V.passed=[],V.failed=[],G&&(G.onload=null,G.onerror=null,G=null)},ve=function(){return ne(V.passed,2)},Oe=function(){return ne(V.failed,3)},nt=function(Ie,He){Ie()||(Date.now()-Ze<s?In.setTimeout(He):Oe())},ze=function(){nt(function(){for(var Ie=e.styleSheets,He=Ie.length;He--;){var Pe=Ie[He],Le=Pe.ownerNode;if(Le&&Le.id===G.id)return ve(),!0}return!1},ze)};if(F&&V.passed.push(F),R&&V.failed.push(R),V.status!==1){if(V.status===2){ve();return}if(V.status===3){Oe();return}V.status=1;var me=Z.fromTag("link",i.dom);Ha(me,{rel:"stylesheet",type:"text/css",id:V.id});var Ze=Date.now();t.contentCssCors&&ua(me,"crossOrigin","anonymous"),t.referrerPolicy&&ua(me,"referrerpolicy",t.referrerPolicy),G=me.dom,G.onload=ze,G.onerror=Oe,l(me),ua(me,"href",K)}},C=function(T){return Wh.nu(function(F){m(T,Ke(F,Y(Yh.value(T))),Ke(F,Y(Yh.error(T))))})},x=function(T,F,R){yS(xt(T,C)).get(function(G){var K=nn(G,function(V){return V.isValue()});K.fail.length>0?R(K.fail.map(Kh)):F(K.pass.map(Kh))})},D=function(T){var F=he._addCacheSuffix(T);Ve(r,F).each(function(R){var G=--R.count;G===0&&(delete r[F],v(R.id))})},k=function(T){_e(T,function(F){D(F)})};return{load:m,loadAll:x,unload:D,unloadAll:k,_setReferrerPolicy:u}},OS=function(){var e=new WeakMap,t=function(n,r){var a=wi(n),i=a.dom;return S.from(e.get(i)).getOrThunk(function(){var s=Jh(i,r);return e.set(i,s),s})};return{forElement:t}},Qh=OS(),Cn=function(){function e(t,n){this.node=t,this.rootNode=n,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}return e.prototype.current=function(){return this.node},e.prototype.next=function(t){return this.node=this.findSibling(this.node,"firstChild","nextSibling",t),this.node},e.prototype.prev=function(t){return this.node=this.findSibling(this.node,"lastChild","previousSibling",t),this.node},e.prototype.prev2=function(t){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",t),this.node},e.prototype.findSibling=function(t,n,r,a){var i,s;if(t){if(!a&&t[n])return t[n];if(t!==this.rootNode){if(i=t[r],i)return i;for(s=t.parentNode;s&&s!==this.rootNode;s=s.parentNode)if(i=s[r],i)return i}}},e.prototype.findPreviousNode=function(t,n,r,a){var i,s,u;if(t){if(i=t[r],this.rootNode&&i===this.rootNode)return;if(i){if(!a){for(u=i[n];u;u=u[n])if(!u[n])return u}return i}if(s=t.parentNode,s&&s!==this.rootNode)return s}},e}(),TS=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],AS=["td","th"],NS=["thead","tbody","tfoot"],PS=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],RS=["h1","h2","h3","h4","h5","h6"],IS=["li","dd","dt"],BS=["ul","ol","dl"],MS=["pre","script","textarea","style"],za=function(e){var t;return function(n){return t=t||at(e,M),$e(t,yn(n))}},$S=za(RS),la=za(TS),FS=function(e){return yn(e)==="table"},rc=function(e){return Ur(e)&&!la(e)},oo=function(e){return Ur(e)&&yn(e)==="br"},Zh=za(PS),ac=za(BS),us=za(IS),LS=za(NS),Eu=za(AS),Su=za(MS),_S=function(e,t,n){return Cu(e,t,n).isSome()},ic="\uFEFF",sr=" ",VS=function(e){return e===ic},HS=function(e){return e.replace(/\uFEFF/g,"")},An=ic,xu=VS,Wa=HS,US=lt,so=Ge,uo=function(e){return so(e)&&(e=e.parentNode),US(e)&&e.hasAttribute("data-mce-caret")},lo=function(e){return so(e)&&xu(e.data)},gr=function(e){return uo(e)||lo(e)},eg=function(e){return e.firstChild!==e.lastChild||!sn(e.firstChild)},jS=function(e,t){var n=e.ownerDocument,r=n.createTextNode(An),a=e.parentNode;if(t){var i=e.previousSibling;if(so(i)){if(gr(i))return i;if(ku(i))return i.splitText(i.data.length-1)}a.insertBefore(r,e)}else{var i=e.nextSibling;if(so(i)){if(gr(i))return i;if(Du(i))return i.splitText(1),i}e.nextSibling?a.insertBefore(r,e.nextSibling):a.appendChild(r)}return r},oc=function(e){var t=e.container();return Ge(t)?t.data.charAt(e.offset())===An||e.isAtStart()&&lo(t.previousSibling):!1},sc=function(e){var t=e.container();return Ge(t)?t.data.charAt(e.offset()-1)===An||e.isAtEnd()&&lo(t.nextSibling):!1},zS=function(){var e=document.createElement("br");return e.setAttribute("data-mce-bogus","1"),e},WS=function(e,t,n){var r=t.ownerDocument,a=r.createElement(e);a.setAttribute("data-mce-caret",n?"before":"after"),a.setAttribute("data-mce-bogus","all"),a.appendChild(zS());var i=t.parentNode;return n?i.insertBefore(a,t):t.nextSibling?i.insertBefore(a,t.nextSibling):i.appendChild(a),a},Du=function(e){return so(e)&&e.data[0]===An},ku=function(e){return so(e)&&e.data[e.data.length-1]===An},YS=function(e){var t=e.getElementsByTagName("br"),n=t[t.length-1];Ei(n)&&n.parentNode.removeChild(n)},uc=function(e){return e&&e.hasAttribute("data-mce-caret")?(YS(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null},tg=function(e){return uo(e.startContainer)},ng=sa,KS=Jt,qS=sn,GS=Ge,XS=Rr(["script","style","textarea"]),rg=Rr(["img","input","textarea","hr","iframe","video","audio","object","embed"]),JS=Rr(["table"]),QS=gr,fa=function(e){return QS(e)?!1:GS(e)?!XS(e.parentNode):rg(e)||qS(e)||JS(e)||lc(e)},ZS=function(e){return lt(e)&&e.getAttribute("unselectable")==="true"},lc=function(e){return ZS(e)===!1&&KS(e)},ex=function(e,t){for(e=e.parentNode;e&&e!==t;e=e.parentNode){if(lc(e))return!1;if(ng(e))return!0}return!0},tx=function(e){return lc(e)?Gt(ot(e.getElementsByTagName("*")),function(t,n){return t||ng(n)},!1)!==!0:!1},nx=function(e){return rg(e)||tx(e)},Ou=function(e,t){return fa(e)&&ex(e,t)},rx=/^[ \t\r\n]*$/,Si=function(e){return rx.test(e)},ax=function(e,t){var n=Z.fromDom(t),r=Z.fromDom(e);return _S(r,"pre,code",h(Yt,n))},ix=function(e,t){return Ge(e)&&Si(e.data)&&ax(e,t)===!1},ox=function(e){return lt(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id"))},Tu=function(e,t){return fa(e)&&ix(e,t)===!1||ox(e)||sx(e)},sx=Mh("data-mce-bookmark"),ux=Mh("data-mce-bogus"),lx=QE("data-mce-bogus","all"),fx=function(e,t){var n=0;if(Tu(e,e))return!1;var r=e.firstChild;if(!r)return!0;var a=new Cn(r,e);do{if(t){if(lx(r)){r=a.next(!0);continue}if(ux(r)){r=a.next();continue}}if(sn(r)){n++,r=a.next();continue}if(Tu(r,e))return!1;r=a.next()}while(r);return n<=1},wn=function(e,t){return t===void 0&&(t=!0),fx(e.dom,t)},cx=function(e){return e.nodeName.toLowerCase()==="span"},ag=function(e,t){return P(e)&&(Tu(e,t)||rc(Z.fromDom(e)))},dx=function(e,t){var n=new Cn(e,t).prev(!1),r=new Cn(e,t).next(!1),a=j(n)||ag(n,t),i=j(r)||ag(r,t);return a&&i},ig=function(e){return cx(e)&&e.getAttribute("data-mce-type")==="bookmark"},vx=function(e,t){return Ge(e)&&e.data.length>0&&dx(e,t)},px=function(e){return lt(e)?e.childNodes.length>0:!1},hx=function(e){return Xf(e)||Gf(e)},fc=function(e,t,n){var r=n||t;if(lt(t)&&ig(t))return t;for(var a=t.childNodes,i=a.length-1;i>=0;i--)fc(e,a[i],r);if(lt(t)){var s=t.childNodes;s.length===1&&ig(s[0])&&t.parentNode.insertBefore(s[0],t)}return!hx(t)&&!Tu(t,r)&&!px(t)&&!vx(t,r)&&e.remove(t),t},gx=he.makeMap,Au=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Nu=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,mx=/[<>&\"\']/g,bx=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,yx={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},xi={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Cx={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},wx=function(e){var t=Z.fromTag("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e},og=function(e,t){var n,r,a,i={};if(e){for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)r=String.fromCharCode(parseInt(e[n],t)),xi[r]||(a="&"+e[n+1]+";",i[r]=a,i[a]=r);return i}},cc=og("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),sg=function(e,t){return e.replace(t?Au:Nu,function(n){return xi[n]||n})},Ex=function(e){return(""+e).replace(mx,function(t){return xi[t]||t})},ug=function(e,t){return e.replace(t?Au:Nu,function(n){return n.length>1?"&#"+((n.charCodeAt(0)-55296)*1024+(n.charCodeAt(1)-56320)+65536)+";":xi[n]||"&#"+n.charCodeAt(0)+";"})},dc=function(e,t,n){return n=n||cc,e.replace(t?Au:Nu,function(r){return xi[r]||n[r]||r})},Sx=function(e,t){var n=og(t)||cc,r=function(s,u){return s.replace(u?Au:Nu,function(l){return xi[l]!==void 0?xi[l]:n[l]!==void 0?n[l]:l.length>1?"&#"+((l.charCodeAt(0)-55296)*1024+(l.charCodeAt(1)-56320)+65536)+";":"&#"+l.charCodeAt(0)+";"})},a=function(s,u){return dc(s,u,n)},i=gx(e.replace(/\+/g,","));return i.named&&i.numeric?r:i.named?t?a:dc:i.numeric?ug:sg},xx=function(e){return e.replace(bx,function(t,n){return n?(n.charAt(0).toLowerCase()==="x"?n=parseInt(n.substr(1),16):n=parseInt(n,10),n>65535?(n-=65536,String.fromCharCode(55296+(n>>10),56320+(n&1023))):yx[n]||String.fromCharCode(n)):Cx[t]||cc[t]||wx(t)})},Ya={encodeRaw:sg,encodeAllRaw:Ex,encodeNumeric:ug,encodeNamed:dc,getEncodeFunc:Sx,decode:xx},Ka={},Dx={},fo=he.makeMap,Bn=he.each,vc=he.extend,lg=he.explode,kx=he.inArray,Nn=function(e,t){return e=he.trim(e),e?e.split(t||" "):[]},fg=function(e,t){var n=fo(e," ",fo(e.toUpperCase()," "));return vc(n,t)},cg=function(e){return fg("td th li dt dd figcaption caption details summary",e.getTextBlockElements())},Ox=function(e){var t={},n,r,a,i,s,u,l=function(g,m,C){var x,D,k,T=function(R,G){var K={},V,ne;for(V=0,ne=R.length;V<ne;V++)K[R[V]]=G||{};return K};C=C||[],m=m||"",typeof C=="string"&&(C=Nn(C));var F=Nn(g);for(x=F.length;x--;)D=Nn([n,m].join(" ")),k={attributes:T(D),attributesOrder:D,children:T(C,Dx)},t[F[x]]=k},v=function(g,m){var C,x,D,k,T=Nn(g);C=T.length;for(var F=Nn(m);C--;)for(x=t[T[C]],D=0,k=F.length;D<k;D++)x.attributes[F[D]]={},x.attributesOrder.push(F[D])};return Ka[e]?Ka[e]:(n="id accesskey class dir lang style tabindex title role",r="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",a="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(n+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",r+=" article aside details dialog figure main header footer hgroup section nav",a+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),e!=="html5-strict"&&(n+=" xml:lang",u="acronym applet basefont big font strike tt",a=[a,u].join(" "),Bn(Nn(u),function(g){l(g,"",a)}),s="center dir isindex noframes",r=[r,s].join(" "),i=[r,a].join(" "),Bn(Nn(s),function(g){l(g,"",i)})),i=i||[r,a].join(" "),l("html","manifest","head body"),l("head","","base command link meta noscript script style title"),l("title hr noscript br"),l("base","href target"),l("link","href rel media hreflang type sizes hreflang"),l("meta","name http-equiv content charset"),l("style","media type scoped"),l("script","src async defer type charset"),l("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",i),l("address dt dd div caption","",i),l("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",a),l("blockquote","cite",i),l("ol","reversed start type","li"),l("ul","","li"),l("li","value",i),l("dl","","dt dd"),l("a","href target rel media hreflang type",a),l("q","cite",a),l("ins del","cite datetime",i),l("img","src sizes srcset alt usemap ismap width height"),l("iframe","src name width height",i),l("embed","src type width height"),l("object","data type typemustmatch name usemap form width height",[i,"param"].join(" ")),l("param","name value"),l("map","name",[i,"area"].join(" ")),l("area","alt coords shape href target rel media hreflang type"),l("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),l("colgroup","span","col"),l("col","span"),l("tbody thead tfoot","","tr"),l("tr","","td th"),l("td","colspan rowspan headers",i),l("th","colspan rowspan headers scope abbr",i),l("form","accept-charset action autocomplete enctype method name novalidate target",i),l("fieldset","disabled form name",[i,"legend"].join(" ")),l("label","form for",a),l("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),l("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?i:a),l("select","disabled form multiple name required size","option optgroup"),l("optgroup","disabled label","option"),l("option","disabled label selected value"),l("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),l("menu","type label",[i,"li"].join(" ")),l("noscript","",i),e!=="html4"&&(l("wbr"),l("ruby","",[a,"rt rp"].join(" ")),l("figcaption","",i),l("mark rt rp summary bdi","",a),l("canvas","width height",i),l("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[i,"track source"].join(" ")),l("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[i,"track source"].join(" ")),l("picture","","img source"),l("source","src srcset type media sizes"),l("track","kind src srclang label default"),l("datalist","",[a,"option"].join(" ")),l("article section nav aside main header footer","",i),l("hgroup","","h1 h2 h3 h4 h5 h6"),l("figure","",[i,"figcaption"].join(" ")),l("time","datetime",a),l("dialog","open",i),l("command","type label icon disabled checked radiogroup command"),l("output","for form name",a),l("progress","value max",a),l("meter","value min max low high optimum",a),l("details","open",[i,"summary"].join(" ")),l("keygen","autofocus challenge disabled form keytype name")),e!=="html5-strict"&&(v("script","language xml:space"),v("style","xml:space"),v("object","declare classid code codebase codetype archive standby align border hspace vspace"),v("embed","align name hspace vspace"),v("param","valuetype type"),v("a","charset name rev shape coords"),v("br","clear"),v("applet","codebase archive code object alt name width height align hspace vspace"),v("img","name longdesc align border hspace vspace"),v("iframe","longdesc frameborder marginwidth marginheight scrolling align"),v("font basefont","size color face"),v("input","usemap align"),v("select"),v("textarea"),v("h1 h2 h3 h4 h5 h6 div p legend caption","align"),v("ul","type compact"),v("li","type"),v("ol dl menu dir","compact"),v("pre","width xml:space"),v("hr","align noshade size width"),v("isindex","prompt"),v("table","summary width frame rules cellspacing cellpadding align bgcolor"),v("col","width align char charoff valign"),v("colgroup","width align char charoff valign"),v("thead","align char charoff valign"),v("tr","align char charoff valign bgcolor"),v("th","axis align char charoff valign nowrap bgcolor width height"),v("form","accept"),v("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),v("tfoot","align char charoff valign"),v("tbody","align char charoff valign"),v("area","nohref"),v("body","background bgcolor text link vlink alink")),e!=="html4"&&(v("input button select textarea","autofocus"),v("input textarea","placeholder"),v("a","download"),v("link script img","crossorigin"),v("img","loading"),v("iframe","sandbox seamless allowfullscreen loading")),Bn(Nn("a form meter progress dfn"),function(g){t[g]&&delete t[g].children[g]}),delete t.caption.children.table,delete t.script,Ka[e]=t,t)},pc=function(e,t){var n;return e&&(n={},typeof e=="string"&&(e={"*":e}),Bn(e,function(r,a){n[a]=n[a.toUpperCase()]=t==="map"?fo(r,/[, ]/):lg(r,/[, ]/)})),n},qa=function(e){var t={},n={},r=[],a={},i={},s=function(Se,Be,Xe){var ie=e[Se];return ie?ie=fo(ie,/[, ]/,fo(ie.toUpperCase(),/[, ]/)):(ie=Ka[Se],ie||(ie=fg(Be,Xe),Ka[Se]=ie)),ie};e=e||{};var u=Ox(e.schema);e.verify_html===!1&&(e.valid_elements="*[*]");var l=pc(e.valid_styles),v=pc(e.invalid_styles,"map"),g=pc(e.valid_classes,"map"),m=s("whitespace_elements","pre script noscript style textarea video audio iframe object code"),C=s("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),x=s("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),D=s("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),k="td th iframe video audio object script code",T=s("non_empty_elements",k+" pre",x),F=s("move_caret_before_on_enter_elements",k+" table",x),R=s("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),G=s("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",R),K=s("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp");Bn((e.special||"script noscript iframe noframes noembed title style textarea xmp").split(" "),function(Se){i[Se]=new RegExp("</"+Se+"[^>]*>","gi")});var V=function(Se){return new RegExp("^"+Se.replace(/([?+*])/g,".$1")+"$")},ne=function(Se){var Be,Xe,ie,Te,xe,Je,et,Mt,un,an,$a,Ln,zn,ln,dr,Wn,Sa,Lt,Vt=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,fn=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,Qr=/[*?+]/;if(Se){var Zr=Nn(Se,",");for(t["@"]&&(Wn=t["@"].attributes,Sa=t["@"].attributesOrder),Be=0,Xe=Zr.length;Be<Xe;Be++)if(xe=Vt.exec(Zr[Be]),xe){if(ln=xe[1],un=xe[2],dr=xe[3],Mt=xe[5],Ln={},zn=[],Je={attributes:Ln,attributesOrder:zn},ln==="#"&&(Je.paddEmpty=!0),ln==="-"&&(Je.removeEmpty=!0),xe[4]==="!"&&(Je.removeEmptyAttrs=!0),Wn&&(Ut(Wn,function(ea,vi){Ln[vi]=ea}),zn.push.apply(zn,Sa)),Mt){for(Mt=Nn(Mt,"|"),ie=0,Te=Mt.length;ie<Te;ie++)if(xe=fn.exec(Mt[ie]),xe){if(et={},$a=xe[1],an=xe[2].replace(/[\\:]:/g,":"),ln=xe[3],Lt=xe[4],$a==="!"&&(Je.attributesRequired=Je.attributesRequired||[],Je.attributesRequired.push(an),et.required=!0),$a==="-"){delete Ln[an],zn.splice(kx(zn,an),1);continue}ln&&(ln==="="&&(Je.attributesDefault=Je.attributesDefault||[],Je.attributesDefault.push({name:an,value:Lt}),et.defaultValue=Lt),ln===":"&&(Je.attributesForced=Je.attributesForced||[],Je.attributesForced.push({name:an,value:Lt}),et.forcedValue=Lt),ln==="<"&&(et.validValues=fo(Lt,"?"))),Qr.test(an)?(Je.attributePatterns=Je.attributePatterns||[],et.pattern=V(an),Je.attributePatterns.push(et)):(Ln[an]||zn.push(an),Ln[an]=et)}}!Wn&&un==="@"&&(Wn=Ln,Sa=zn),dr&&(Je.outputName=un,t[dr]=Je),Qr.test(un)?(Je.pattern=V(un),r.push(Je)):t[un]=Je}}},ve=function(Se){t={},r=[],ne(Se),Bn(u,function(Be,Xe){n[Xe]=Be.children})},Oe=function(Se){var Be=/^(~)?(.+)$/;Se&&(Ka.text_block_elements=Ka.block_elements=null,Bn(Nn(Se,","),function(Xe){var ie=Be.exec(Xe),Te=ie[1]==="~",xe=Te?"span":"div",Je=ie[2];if(n[Je]=n[xe],a[Je]=xe,Te||(G[Je.toUpperCase()]={},G[Je]={}),!t[Je]){var et=t[xe];et=vc({},et),delete et.removeEmptyAttrs,delete et.removeEmpty,t[Je]=et}Bn(n,function(Mt,un){Mt[xe]&&(n[un]=Mt=vc({},n[un]),Mt[Je]=Mt[xe])})}))},nt=function(Se){var Be=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;Ka[e.schema]=null,Se&&Bn(Nn(Se,","),function(Xe){var ie=Be.exec(Xe),Te,xe;ie&&(xe=ie[1],xe?Te=n[ie[2]]:Te=n[ie[2]]={"#comment":{}},Te=n[ie[2]],Bn(Nn(ie[3],"|"),function(Je){xe==="-"?delete Te[Je]:Te[Je]={}}))})},ze=function(Se){var Be=t[Se],Xe;if(Be)return Be;for(Xe=r.length;Xe--;)if(Be=r[Xe],Be.pattern.test(Se))return Be};e.valid_elements?ve(e.valid_elements):(Bn(u,function(Se,Be){t[Be]={attributes:Se.attributes,attributesOrder:Se.attributesOrder},n[Be]=Se.children}),e.schema!=="html5"&&Bn(Nn("strong/b em/i"),function(Se){var Be=Nn(Se,"/");t[Be[1]].outputName=Be[0]}),Bn(K,function(Se,Be){t[Be]&&(e.padd_empty_block_inline_children&&(t[Be].paddInEmptyBlock=!0),t[Be].removeEmpty=!0)}),Bn(Nn("ol ul blockquote a table tbody"),function(Se){t[Se]&&(t[Se].removeEmpty=!0)}),Bn(Nn("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(Se){t[Se].paddEmpty=!0}),Bn(Nn("span"),function(Se){t[Se].removeEmptyAttrs=!0})),Oe(e.custom_elements),nt(e.valid_children),ne(e.extended_valid_elements),nt("+ol[ul|ol],+ul[ul|ol]"),Bn({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(Se,Be){t[Be]&&(t[Be].parentsRequired=Nn(Se))}),e.invalid_elements&&Bn(lg(e.invalid_elements),function(Se){t[Se]&&delete t[Se]}),ze("span")||ne("span[!data-mce-type|*]");var me=Y(l),Ze=Y(v),Ie=Y(g),He=Y(D),Pe=Y(G),Le=Y(R),Ye=Y(K),we=Y(x),We=Y(C),mt=Y(T),kt=Y(F),Dt=Y(m),pn=Y(i),Xt=function(Se,Be){var Xe=n[Se.toLowerCase()];return!!(Xe&&Xe[Be.toLowerCase()])},Fn=function(Se,Be){var Xe,ie,Te=ze(Se);if(Te)if(Be){if(Te.attributes[Be])return!0;if(Xe=Te.attributePatterns,Xe){for(ie=Xe.length;ie--;)if(Xe[ie].pattern.test(Se))return!0}}else return!0;return!1},ar=Y(a);return{children:n,elements:t,getValidStyles:me,getValidClasses:Ie,getBlockElements:Pe,getInvalidStyles:Ze,getShortEndedElements:we,getTextBlockElements:Le,getTextInlineElements:Ye,getBoolAttrs:He,getElementRule:ze,getSelfClosingElements:We,getNonEmptyElements:mt,getMoveCaretBeforeOnEnterElements:kt,getWhiteSpaceElements:Dt,getSpecialElements:pn,isValidChild:Xt,isValid:Fn,getCustomElements:ar,addValidElements:ne,setValidElements:ve,addCustomElements:Oe,addValidChildren:nt}},dg=function(e,t,n,r){var a=function(i){return i=parseInt(i,10).toString(16),i.length>1?i:"0"+i};return"#"+a(t)+a(n)+a(r)},hc=function(e,t){var n=this,r=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,a=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,i=/\s*([^:]+):\s*([^;]+);?/g,s=/\s+$/,u,l={},v,g,m=ic;e=e||{},t&&(v=t.getValidStyles(),g=t.getInvalidStyles());var C=(`\\" \\' \\; \\: ; : `+m).split(" ");for(u=0;u<C.length;u++)l[C[u]]=m+u,l[m+u]=C[u];return{toHex:function(x){return x.replace(r,dg)},parse:function(x){var D={},k,T,F,R,G=e.url_converter,K=e.url_converter_scope||n,V=function(Ie,He,Pe){var Le=D[Ie+"-top"+He];if(Le){var Ye=D[Ie+"-right"+He];if(Ye){var we=D[Ie+"-bottom"+He];if(we){var We=D[Ie+"-left"+He];if(We){var mt=[Le,Ye,we,We];for(u=mt.length-1;u--&&mt[u]===mt[u+1];);u>-1&&Pe||(D[Ie+He]=u===-1?mt[0]:mt.join(" "),delete D[Ie+"-top"+He],delete D[Ie+"-right"+He],delete D[Ie+"-bottom"+He],delete D[Ie+"-left"+He])}}}}},ne=function(Ie){var He=D[Ie],Pe;if(He){for(He=He.split(" "),Pe=He.length;Pe--;)if(He[Pe]!==He[0])return!1;return D[Ie]=He[0],!0}},ve=function(Ie,He,Pe,Le){ne(He)&&ne(Pe)&&ne(Le)&&(D[Ie]=D[He]+" "+D[Pe]+" "+D[Le],delete D[He],delete D[Pe],delete D[Le])},Oe=function(Ie){return R=!0,l[Ie]},nt=function(Ie,He){return R&&(Ie=Ie.replace(/\uFEFF[0-9]/g,function(Pe){return l[Pe]})),He||(Ie=Ie.replace(/\\([\'\";:])/g,"$1")),Ie},ze=function(Ie){return String.fromCharCode(parseInt(Ie.slice(1),16))},me=function(Ie){return Ie.replace(/\\[0-9a-f]+/gi,ze)},Ze=function(Ie,He,Pe,Le,Ye,we){if(Ye=Ye||we,Ye)return Ye=nt(Ye),"'"+Ye.replace(/\'/g,"\\'")+"'";if(He=nt(He||Pe||Le),!e.allow_script_urls){var We=He.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(We)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(We))return""}return G&&(He=G.call(K,He,"style")),"url('"+He.replace(/\'/g,"\\'")+"')"};if(x){for(x=x.replace(/[\u0000-\u001F]/g,""),x=x.replace(/\\[\"\';:\uFEFF]/g,Oe).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(Ie){return Ie.replace(/[;:]/g,Oe)});k=i.exec(x);)if(i.lastIndex=k.index+k[0].length,T=k[1].replace(s,"").toLowerCase(),F=k[2].replace(s,""),T&&F){if(T=me(T),F=me(F),T.indexOf(m)!==-1||T.indexOf('"')!==-1||!e.allow_script_urls&&(T==="behavior"||/expression\s*\(|\/\*|\*\//.test(F)))continue;T==="font-weight"&&F==="700"?F="bold":(T==="color"||T==="background-color")&&(F=F.toLowerCase()),F=F.replace(r,dg),F=F.replace(a,Ze),D[T]=R?nt(F,!0):F}V("border","",!0),V("border","-width"),V("border","-color"),V("border","-style"),V("padding",""),V("margin",""),ve("border","border-width","border-style","border-color"),D.border==="medium none"&&delete D.border,D["border-image"]==="none"&&delete D["border-image"]}return D},serialize:function(x,D){var k="",T=function(R){var G,K=v[R];if(K)for(var V=0,ne=K.length;V<ne;V++)R=K[V],G=x[R],G&&(k+=(k.length>0?" ":"")+R+": "+G+";")},F=function(R,G){var K=g["*"];return K&&K[R]?!1:(K=g[G],!(K&&K[R]))};return D&&v?(T("*"),T(D)):Ut(x,function(R,G){R&&(!g||F(G,D))&&(k+=(k.length>0?" ":"")+G+": "+R+";")}),k}}},Tx={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},gc=function(e){return e instanceof Event||ge(e.initEvent)},Ax=function(e){return e.isDefaultPrevented===M||e.isDefaultPrevented===N},Nx=function(e){return ae(e.preventDefault)||gc(e)},Px=function(e,t){var n=t??{};for(var r in e)$e(Tx,r)||(n[r]=e[r]);return P(n.composedPath)&&(n.composedPath=function(){return e.composedPath()}),n},vg=function(e,t,n,r){var a,i=Px(t,r);return i.type=e,ae(i.target)&&(i.target=(a=i.srcElement)!==null&&a!==void 0?a:n),Nx(t)&&(i.preventDefault=function(){i.defaultPrevented=!0,i.isDefaultPrevented=M,ge(t.preventDefault)?t.preventDefault():gc(t)&&(t.returnValue=!1)},i.stopPropagation=function(){i.cancelBubble=!0,i.isPropagationStopped=M,ge(t.stopPropagation)?t.stopPropagation():gc(t)&&(t.cancelBubble=!0)},i.stopImmediatePropagation=function(){i.isImmediatePropagationStopped=M,i.stopPropagation()},Ax(i)||(i.isDefaultPrevented=i.defaultPrevented===!0?M:N,i.isPropagationStopped=i.cancelBubble===!0?M:N,i.isImmediatePropagationStopped=N)),i},Rx="mce-data-",Ix=/^(?:mouse|contextmenu)|click/,mc=function(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r||!1):e.attachEvent&&e.attachEvent("on"+t,n)},Pu=function(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r||!1):e.detachEvent&&e.detachEvent("on"+t,n)},Bx=function(e){return P(e)&&Ix.test(e.type)},co=function(e,t){var n=vg(e.type,e,document,t);if(Bx(e)&&j(e.pageX)&&!j(e.clientX)){var r=n.target.ownerDocument||document,a=r.documentElement,i=r.body,s=n;s.pageX=e.clientX+(a&&a.scrollLeft||i&&i.scrollLeft||0)-(a&&a.clientLeft||i&&i.clientLeft||0),s.pageY=e.clientY+(a&&a.scrollTop||i&&i.scrollTop||0)-(a&&a.clientTop||i&&i.clientTop||0)}return j(n.metaKey)&&(n.metaKey=!1),n},Mx=function(e,t,n){var r=e.document,a={type:"ready"};if(n.domLoaded){t(a);return}var i=function(){return r.readyState==="complete"||r.readyState==="interactive"&&r.body},s=function(){Pu(e,"DOMContentLoaded",s),Pu(e,"load",s),n.domLoaded||(n.domLoaded=!0,t(a)),e=null};i()?s():mc(e,"DOMContentLoaded",s),n.domLoaded||mc(e,"load",s)},vo=function(){function e(){this.domLoaded=!1,this.events={},this.count=1,this.expando=Rx+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in document.documentElement,this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}return e.prototype.bind=function(t,n,r,a){var i=this,s,u,l,v,g,m,C,x=window,D=function(T){i.executeHandlers(co(T||x.event),s)};if(!(!t||t.nodeType===3||t.nodeType===8)){t[i.expando]?s=t[i.expando]:(s=i.count++,t[i.expando]=s,i.events[s]={}),a=a||t;var k=n.split(" ");for(l=k.length;l--;){if(v=k[l],m=D,g=C=!1,v==="DOMContentLoaded"&&(v="ready"),i.domLoaded&&v==="ready"&&t.readyState==="complete"){r.call(a,co({type:v}));continue}i.hasMouseEnterLeave||(g=i.mouseEnterLeave[v],g&&(m=function(T){var F=T.currentTarget,R=T.relatedTarget;if(R&&F.contains)R=F.contains(R);else for(;R&&R!==F;)R=R.parentNode;R||(T=co(T||x.event),T.type=T.type==="mouseout"?"mouseleave":"mouseenter",T.target=F,i.executeHandlers(T,s))})),!i.hasFocusIn&&(v==="focusin"||v==="focusout")&&(C=!0,g=v==="focusin"?"focus":"blur",m=function(T){T=co(T||x.event),T.type=T.type==="focus"?"focusin":"focusout",i.executeHandlers(T,s)}),u=i.events[s][v],u?v==="ready"&&i.domLoaded?r(co({type:v})):u.push({func:r,scope:a}):(i.events[s][v]=u=[{func:r,scope:a}],u.fakeName=g,u.capture=C,u.nativeHandler=m,v==="ready"?Mx(t,m,i):mc(t,g||v,m,C))}return t=u=null,r}},e.prototype.unbind=function(t,n,r){var a,i,s,u,l;if(!t||t.nodeType===3||t.nodeType===8)return this;var v=t[this.expando];if(v){if(l=this.events[v],n){var g=n.split(" ");for(i=g.length;i--;)if(u=g[i],a=l[u],a){if(r){for(s=a.length;s--;)if(a[s].func===r){var m=a.nativeHandler,C=a.fakeName,x=a.capture;a=a.slice(0,s).concat(a.slice(s+1)),a.nativeHandler=m,a.fakeName=C,a.capture=x,l[u]=a}}(!r||a.length===0)&&(delete l[u],Pu(t,a.fakeName||u,a.nativeHandler,a.capture))}}else Ut(l,function(D,k){Pu(t,D.fakeName||k,D.nativeHandler,D.capture)}),l={};for(u in l)if($e(l,u))return this;delete this.events[v];try{delete t[this.expando]}catch{t[this.expando]=null}}return this},e.prototype.fire=function(t,n,r){var a;if(!t||t.nodeType===3||t.nodeType===8)return this;var i=co({type:n,target:t},r);do a=t[this.expando],a&&this.executeHandlers(i,a),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow;while(t&&!i.isPropagationStopped());return this},e.prototype.clean=function(t){var n,r;if(!t||t.nodeType===3||t.nodeType===8)return this;if(t[this.expando]&&this.unbind(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName)for(this.unbind(t),r=t.getElementsByTagName("*"),n=r.length;n--;)t=r[n],t[this.expando]&&this.unbind(t);return this},e.prototype.destroy=function(){this.events={}},e.prototype.cancel=function(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1},e.prototype.executeHandlers=function(t,n){var r=this.events[n],a=r&&r[t.type];if(a)for(var i=0,s=a.length;i<s;i++){var u=a[i];if(u&&u.func.call(u.scope,t)===!1&&t.preventDefault(),t.isImmediatePropagationStopped())return}},e.Event=new e,e}(),En,jt,Ru,pg,ls,bc,hg,Iu,Ga,po,Xa,mr,Bu,ca,Ja,ho,$x,fs,Mn="sizzle"+-new Date,Wr=window.document,da=0,Fx=0,gg=Ec(),mg=Ec(),bg=Ec(),yc=function(e,t){return e===t&&(po=!0),0},Mu="undefined",yg=1<<31,Lx={}.hasOwnProperty,Qa=[],_x=Qa.pop,Vx=Qa.push,Za=Qa.push,Cg=Qa.slice,Di=Qa.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},Hx="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",rn="[\\x20\\t\\r\\n\\f]",ki="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",wg="\\["+rn+"*("+ki+")(?:"+rn+"*([*^$|!~]?=)"+rn+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+ki+"))|)"+rn+"*\\]",Eg=":("+ki+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+wg+")*)|.*)\\)|)",$u=new RegExp("^"+rn+"+|((?:^|[^\\\\])(?:\\\\.)*)"+rn+"+$","g"),Ux=new RegExp("^"+rn+"*,"+rn+"*"),jx=new RegExp("^"+rn+"*([>+~]|"+rn+")"+rn+"*"),zx=new RegExp("="+rn+`*([^\\]'"]*?)`+rn+"*\\]","g"),Wx=new RegExp(Eg),Yx=new RegExp("^"+ki+"$"),Fu={ID:new RegExp("^#("+ki+")"),CLASS:new RegExp("^\\.("+ki+")"),TAG:new RegExp("^("+ki+"|[*])"),ATTR:new RegExp("^"+wg),PSEUDO:new RegExp("^"+Eg),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+rn+"*(even|odd|(([+-]|)(\\d*)n|)"+rn+"*(?:([+-]|)"+rn+"*(\\d+)|))"+rn+"*\\)|)","i"),bool:new RegExp("^(?:"+Hx+")$","i"),needsContext:new RegExp("^"+rn+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+rn+"*((?:-\\d)?\\d*)"+rn+"*\\)|)(?=[^-]|$)","i")},Kx=/^(?:input|select|textarea|button)$/i,qx=/^h\d$/i,Cc=/^[^{]+\{\s*\[native \w/,Gx=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,wc=/[+~]/,Xx=/'|\\/g,ei=new RegExp("\\\\([\\da-f]{1,6}"+rn+"?|("+rn+")|.)","ig"),ti=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,r&1023|56320)};try{Za.apply(Qa=Cg.call(Wr.childNodes),Wr.childNodes),Qa[Wr.childNodes.length].nodeType}catch{Za={apply:Qa.length?function(t,n){Vx.apply(t,Cg.call(n))}:function(t,n){for(var r=t.length,a=0;t[r++]=n[a++];);t.length=r-1}}}var Ft=function(e,t,n,r){var a,i,s,u,l,v,g,m,C,x;if((t?t.ownerDocument||t:Wr)!==mr&&Xa(t),t=t||mr,n=n||[],!e||typeof e!="string")return n;if((u=t.nodeType)!==1&&u!==9)return[];if(ca&&!r){if(a=Gx.exec(e))if(s=a[1]){if(u===9)if(i=t.getElementById(s),i&&i.parentNode){if(i.id===s)return n.push(i),n}else return n;else if(t.ownerDocument&&(i=t.ownerDocument.getElementById(s))&&fs(t,i)&&i.id===s)return n.push(i),n}else{if(a[2])return Za.apply(n,t.getElementsByTagName(e)),n;if((s=a[3])&&En.getElementsByClassName)return Za.apply(n,t.getElementsByClassName(s)),n}if(En.qsa&&(!Ja||!Ja.test(e))){if(m=g=Mn,C=t,x=u===9&&e,u===1&&t.nodeName.toLowerCase()!=="object"){for(v=ls(e),(g=t.getAttribute("id"))?m=g.replace(Xx,"\\$&"):t.setAttribute("id",m),m="[id='"+m+"'] ",l=v.length;l--;)v[l]=m+Lu(v[l]);C=wc.test(e)&&Sc(t.parentNode)||t,x=v.join(",")}if(x)try{return Za.apply(n,C.querySelectorAll(x)),n}catch{}finally{g||t.removeAttribute("id")}}}return hg(e.replace($u,"$1"),t,n,r)};function Ec(){var e=[];function t(n,r){return e.push(n+" ")>jt.cacheLength&&delete t[e.shift()],t[n+" "]=r}return t}function Yr(e){return e[Mn]=!0,e}function Sg(e,t){var n=t&&e,r=n&&e.nodeType===1&&t.nodeType===1&&(~t.sourceIndex||yg)-(~e.sourceIndex||yg);if(r)return r;if(n){for(;n=n.nextSibling;)if(n===t)return-1}return e?1:-1}function Jx(e){return function(t){var n=t.nodeName.toLowerCase();return n==="input"&&t.type===e}}function Qx(e){return function(t){var n=t.nodeName.toLowerCase();return(n==="input"||n==="button")&&t.type===e}}function Oi(e){return Yr(function(t){return t=+t,Yr(function(n,r){for(var a,i=e([],n.length,t),s=i.length;s--;)n[a=i[s]]&&(n[a]=!(r[a]=n[a]))})})}function Sc(e){return e&&typeof e.getElementsByTagName!==Mu&&e}En=Ft.support={},pg=Ft.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?t.nodeName!=="HTML":!1},Xa=Ft.setDocument=function(e){var t,n=e?e.ownerDocument||e:Wr,r=n.defaultView;function a(i){try{return i.top}catch{}return null}return n===mr||n.nodeType!==9||!n.documentElement?mr:(mr=n,Bu=n.documentElement,ca=!pg(n),r&&r!==a(r)&&(r.addEventListener?r.addEventListener("unload",function(){Xa()},!1):r.attachEvent&&r.attachEvent("onunload",function(){Xa()})),En.attributes=!0,En.getElementsByTagName=!0,En.getElementsByClassName=Cc.test(n.getElementsByClassName),En.getById=!0,jt.find.ID=function(i,s){if(typeof s.getElementById!==Mu&&ca){var u=s.getElementById(i);return u&&u.parentNode?[u]:[]}},jt.filter.ID=function(i){var s=i.replace(ei,ti);return function(u){return u.getAttribute("id")===s}},jt.find.TAG=En.getElementsByTagName?function(i,s){if(typeof s.getElementsByTagName!==Mu)return s.getElementsByTagName(i)}:function(i,s){var u,l=[],v=0,g=s.getElementsByTagName(i);if(i==="*"){for(;u=g[v++];)u.nodeType===1&&l.push(u);return l}return g},jt.find.CLASS=En.getElementsByClassName&&function(i,s){if(ca)return s.getElementsByClassName(i)},ho=[],Ja=[],En.disconnectedMatch=!0,Ja=Ja.length&&new RegExp(Ja.join("|")),ho=ho.length&&new RegExp(ho.join("|")),t=Cc.test(Bu.compareDocumentPosition),fs=t||Cc.test(Bu.contains)?function(i,s){var u=i.nodeType===9?i.documentElement:i,l=s&&s.parentNode;return i===l||!!(l&&l.nodeType===1&&(u.contains?u.contains(l):i.compareDocumentPosition&&i.compareDocumentPosition(l)&16))}:function(i,s){if(s){for(;s=s.parentNode;)if(s===i)return!0}return!1},yc=t?function(i,s){if(i===s)return po=!0,0;var u=!i.compareDocumentPosition-!s.compareDocumentPosition;return u||(u=(i.ownerDocument||i)===(s.ownerDocument||s)?i.compareDocumentPosition(s):1,u&1||!En.sortDetached&&s.compareDocumentPosition(i)===u?i===n||i.ownerDocument===Wr&&fs(Wr,i)?-1:s===n||s.ownerDocument===Wr&&fs(Wr,s)?1:Ga?Di.call(Ga,i)-Di.call(Ga,s):0:u&4?-1:1)}:function(i,s){if(i===s)return po=!0,0;var u,l=0,v=i.parentNode,g=s.parentNode,m=[i],C=[s];if(!v||!g)return i===n?-1:s===n?1:v?-1:g?1:Ga?Di.call(Ga,i)-Di.call(Ga,s):0;if(v===g)return Sg(i,s);for(u=i;u=u.parentNode;)m.unshift(u);for(u=s;u=u.parentNode;)C.unshift(u);for(;m[l]===C[l];)l++;return l?Sg(m[l],C[l]):m[l]===Wr?-1:C[l]===Wr?1:0},n)},Ft.matches=function(e,t){return Ft(e,null,null,t)},Ft.matchesSelector=function(e,t){if((e.ownerDocument||e)!==mr&&Xa(e),t=t.replace(zx,"='$1']"),En.matchesSelector&&ca&&(!ho||!ho.test(t))&&(!Ja||!Ja.test(t)))try{var n=$x.call(e,t);if(n||En.disconnectedMatch||e.document&&e.document.nodeType!==11)return n}catch{}return Ft(t,mr,null,[e]).length>0},Ft.contains=function(e,t){return(e.ownerDocument||e)!==mr&&Xa(e),fs(e,t)},Ft.attr=function(e,t){(e.ownerDocument||e)!==mr&&Xa(e);var n=jt.attrHandle[t.toLowerCase()],r=n&&Lx.call(jt.attrHandle,t.toLowerCase())?n(e,t,!ca):void 0;return r!==void 0?r:En.attributes||!ca?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},Ft.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},Ft.uniqueSort=function(e){var t,n=[],r=0,a=0;if(po=!En.detectDuplicates,Ga=!En.sortStable&&e.slice(0),e.sort(yc),po){for(;t=e[a++];)t===e[a]&&(r=n.push(a));for(;r--;)e.splice(n[r],1)}return Ga=null,e},Ru=Ft.getText=function(e){var t,n="",r=0,a=e.nodeType;if(a){if(a===1||a===9||a===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=Ru(e)}else if(a===3||a===4)return e.nodeValue}else for(;t=e[r++];)n+=Ru(t);return n},jt=Ft.selectors={cacheLength:50,createPseudo:Yr,match:Fu,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ei,ti),e[3]=(e[3]||e[4]||e[5]||"").replace(ei,ti),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1].slice(0,3)==="nth"?(e[3]||Ft.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd")),e[5]=+(e[7]+e[8]||e[3]==="odd")):e[3]&&Ft.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return Fu.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&Wx.test(n)&&(t=ls(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ei,ti).toLowerCase();return e==="*"?function(){return!0}:function(n){return n.nodeName&&n.nodeName.toLowerCase()===t}},CLASS:function(e){var t=gg[e+" "];return t||(t=new RegExp("(^|"+rn+")"+e+"("+rn+"|$)"))&&gg(e,function(n){return t.test(typeof n.className=="string"&&n.className||typeof n.getAttribute!==Mu&&n.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var a=Ft.attr(r,e);return a==null?t==="!=":t?(a+="",t==="="?a===n:t==="!="?a!==n:t==="^="?n&&a.indexOf(n)===0:t==="*="?n&&a.indexOf(n)>-1:t==="$="?n&&a.slice(-n.length)===n:t==="~="?(" "+a+" ").indexOf(n)>-1:t==="|="?a===n||a.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,a){var i=e.slice(0,3)!=="nth",s=e.slice(-4)!=="last",u=t==="of-type";return r===1&&a===0?function(l){return!!l.parentNode}:function(l,v,g){var m,C,x,D,k,T,F=i!==s?"nextSibling":"previousSibling",R=l.parentNode,G=u&&l.nodeName.toLowerCase(),K=!g&&!u;if(R){if(i){for(;F;){for(x=l;x=x[F];)if(u?x.nodeName.toLowerCase()===G:x.nodeType===1)return!1;T=F=e==="only"&&!T&&"nextSibling"}return!0}if(T=[s?R.firstChild:R.lastChild],s&&K){for(C=R[Mn]||(R[Mn]={}),m=C[e]||[],k=m[0]===da&&m[1],D=m[0]===da&&m[2],x=k&&R.childNodes[k];x=++k&&x&&x[F]||(D=k=0)||T.pop();)if(x.nodeType===1&&++D&&x===l){C[e]=[da,k,D];break}}else if(K&&(m=(l[Mn]||(l[Mn]={}))[e])&&m[0]===da)D=m[1];else for(;(x=++k&&x&&x[F]||(D=k=0)||T.pop())&&!((u?x.nodeName.toLowerCase()===G:x.nodeType===1)&&++D&&(K&&((x[Mn]||(x[Mn]={}))[e]=[da,D]),x===l)););return D-=a,D===r||D%r===0&&D/r>=0}}},PSEUDO:function(e,t){var n,r=jt.pseudos[e]||jt.setFilters[e.toLowerCase()]||Ft.error("unsupported pseudo: "+e);return r[Mn]?r(t):r.length>1?(n=[e,e,"",t],jt.setFilters.hasOwnProperty(e.toLowerCase())?Yr(function(a,i){for(var s,u=r(a,t),l=u.length;l--;)s=Di.call(a,u[l]),a[s]=!(i[s]=u[l])}):function(a){return r(a,0,n)}):r}},pseudos:{not:Yr(function(e){var t=[],n=[],r=bc(e.replace($u,"$1"));return r[Mn]?Yr(function(a,i,s,u){for(var l,v=r(a,null,u,[]),g=a.length;g--;)(l=v[g])&&(a[g]=!(i[g]=l))}):function(a,i,s){return t[0]=a,r(t,null,s,n),t[0]=null,!n.pop()}}),has:Yr(function(e){return function(t){return Ft(e,t).length>0}}),contains:Yr(function(e){return e=e.replace(ei,ti),function(t){return(t.textContent||t.innerText||Ru(t)).indexOf(e)>-1}}),lang:Yr(function(e){return Yx.test(e||"")||Ft.error("unsupported lang: "+e),e=e.replace(ei,ti).toLowerCase(),function(t){var n;do if(n=ca?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||n.indexOf(e+"-")===0;while((t=t.parentNode)&&t.nodeType===1);return!1}}),target:function(e){var t=window.location&&window.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===Bu},focus:function(e){return e===mr.activeElement&&(!mr.hasFocus||mr.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&!!e.checked||t==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!jt.pseudos.empty(e)},header:function(e){return qx.test(e.nodeName)},input:function(e){return Kx.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&e.type==="button"||t==="button"},text:function(e){var t;return e.nodeName.toLowerCase()==="input"&&e.type==="text"&&((t=e.getAttribute("type"))==null||t.toLowerCase()==="text")},first:Oi(function(){return[0]}),last:Oi(function(e,t){return[t-1]}),eq:Oi(function(e,t,n){return[n<0?n+t:n]}),even:Oi(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:Oi(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:Oi(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:Oi(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},jt.pseudos.nth=jt.pseudos.eq,_e(["radio","checkbox","file","password","image"],function(e){jt.pseudos[e]=Jx(e)}),_e(["submit","reset"],function(e){jt.pseudos[e]=Qx(e)});function xg(){}xg.prototype=jt.filters=jt.pseudos,jt.setFilters=new xg,ls=Ft.tokenize=function(e,t){var n,r,a,i,s,u,l,v=mg[e+" "];if(v)return t?0:v.slice(0);for(s=e,u=[],l=jt.preFilter;s;){(!n||(r=Ux.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),u.push(a=[])),n=!1,(r=jx.exec(s))&&(n=r.shift(),a.push({value:n,type:r[0].replace($u," ")}),s=s.slice(n.length));for(i in jt.filter)jt.filter.hasOwnProperty(i)&&(r=Fu[i].exec(s))&&(!l[i]||(r=l[i](r)))&&(n=r.shift(),a.push({value:n,type:i,matches:r}),s=s.slice(n.length));if(!n)break}return t?s.length:s?Ft.error(e):mg(e,u).slice(0)};function Lu(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function xc(e,t,n){var r=t.dir,a=n&&r==="parentNode",i=Fx++;return t.first?function(s,u,l){for(;s=s[r];)if(s.nodeType===1||a)return e(s,u,l)}:function(s,u,l){var v,g,m=[da,i];if(l){for(;s=s[r];)if((s.nodeType===1||a)&&e(s,u,l))return!0}else for(;s=s[r];)if(s.nodeType===1||a){if(g=s[Mn]||(s[Mn]={}),(v=g[r])&&v[0]===da&&v[1]===i)return m[2]=v[2];if(g[r]=m,m[2]=e(s,u,l))return!0}}}function Dc(e){return e.length>1?function(t,n,r){for(var a=e.length;a--;)if(!e[a](t,n,r))return!1;return!0}:e[0]}function Zx(e,t,n){for(var r=0,a=t.length;r<a;r++)Ft(e,t[r],n);return n}function _u(e,t,n,r,a){for(var i,s=[],u=0,l=e.length,v=t!=null;u<l;u++)(i=e[u])&&(!n||n(i,r,a))&&(s.push(i),v&&t.push(u));return s}function kc(e,t,n,r,a,i){return r&&!r[Mn]&&(r=kc(r)),a&&!a[Mn]&&(a=kc(a,i)),Yr(function(s,u,l,v){var g,m,C,x=[],D=[],k=u.length,T=s||Zx(t||"*",l.nodeType?[l]:l,[]),F=e&&(s||!t)?_u(T,x,e,l,v):T,R=n?a||(s?e:k||r)?[]:u:F;if(n&&n(F,R,l,v),r)for(g=_u(R,D),r(g,[],l,v),m=g.length;m--;)(C=g[m])&&(R[D[m]]=!(F[D[m]]=C));if(s){if(a||e){if(a){for(g=[],m=R.length;m--;)(C=R[m])&&g.push(F[m]=C);a(null,R=[],g,v)}for(m=R.length;m--;)(C=R[m])&&(g=a?Di.call(s,C):x[m])>-1&&(s[g]=!(u[g]=C))}}else R=_u(R===u?R.splice(k,R.length):R),a?a(null,u,R,v):Za.apply(u,R)})}function Oc(e){for(var t,n,r,a=e.length,i=jt.relative[e[0].type],s=i||jt.relative[" "],u=i?1:0,l=xc(function(m){return m===t},s,!0),v=xc(function(m){return Di.call(t,m)>-1},s,!0),g=[function(m,C,x){var D=!i&&(x||C!==Iu)||((t=C).nodeType?l(m,C,x):v(m,C,x));return t=null,D}];u<a;u++)if(n=jt.relative[e[u].type])g=[xc(Dc(g),n)];else{if(n=jt.filter[e[u].type].apply(null,e[u].matches),n[Mn]){for(r=++u;r<a&&!jt.relative[e[r].type];r++);return kc(u>1&&Dc(g),u>1&&Lu(e.slice(0,u-1).concat({value:e[u-2].type===" "?"*":""})).replace($u,"$1"),n,u<r&&Oc(e.slice(u,r)),r<a&&Oc(e=e.slice(r)),r<a&&Lu(e))}g.push(n)}return Dc(g)}function eD(e,t){var n=t.length>0,r=e.length>0,a=function(i,s,u,l,v){var g,m,C,x=0,D="0",k=i&&[],T=[],F=Iu,R=i||r&&jt.find.TAG("*",v),G=da+=F==null?1:Math.random()||.1,K=R.length;for(v&&(Iu=s!==mr&&s);D!==K&&(g=R[D])!=null;D++){if(r&&g){for(m=0;C=e[m++];)if(C(g,s,u)){l.push(g);break}v&&(da=G)}n&&((g=!C&&g)&&x--,i&&k.push(g))}if(x+=D,n&&D!==x){for(m=0;C=t[m++];)C(k,T,s,u);if(i){if(x>0)for(;D--;)k[D]||T[D]||(T[D]=_x.call(l));T=_u(T)}Za.apply(l,T),v&&!i&&T.length>0&&x+t.length>1&&Ft.uniqueSort(l)}return v&&(da=G,Iu=F),k};return n?Yr(a):a}bc=Ft.compile=function(e,t){var n,r=[],a=[],i=bg[e+" "];if(!i){for(t||(t=ls(e)),n=t.length;n--;)i=Oc(t[n]),i[Mn]?r.push(i):a.push(i);i=bg(e,eD(a,r)),i.selector=e}return i},hg=Ft.select=function(e,t,n,r){var a,i,s,u,l,v=typeof e=="function"&&e,g=!r&&ls(e=v.selector||e);if(n=n||[],g.length===1){if(i=g[0]=g[0].slice(0),i.length>2&&(s=i[0]).type==="ID"&&En.getById&&t.nodeType===9&&ca&&jt.relative[i[1].type]){if(t=(jt.find.ID(s.matches[0].replace(ei,ti),t)||[])[0],t)v&&(t=t.parentNode);else return n;e=e.slice(i.shift().value.length)}for(a=Fu.needsContext.test(e)?0:i.length;a--&&(s=i[a],!jt.relative[u=s.type]);)if((l=jt.find[u])&&(r=l(s.matches[0].replace(ei,ti),wc.test(i[0].type)&&Sc(t.parentNode)||t))){if(i.splice(a,1),e=r.length&&Lu(i),!e)return Za.apply(n,r),n;break}}return(v||bc(e,g))(r,t,!ca,n,wc.test(e)&&Sc(t.parentNode)||t),n},En.sortStable=Mn.split("").sort(yc).join("")===Mn,En.detectDuplicates=!!po,Xa(),En.sortDetached=!0;var Dg=document,Tc=Array.prototype.push,tD=Array.prototype.slice,nD=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,cs=vo.Event,rD=he.makeMap("children,contents,next,prev"),ds=function(e){return typeof e<"u"},Ac=function(e){return typeof e=="string"},aD=function(e){return e&&e===e.window},kg=function(e,t){t=t||Dg;var n=t.createElement("div"),r=t.createDocumentFragment();n.innerHTML=e;for(var a;a=n.firstChild;)r.appendChild(a);return r},go=function(e,t,n,r){var a;if(Ac(t))t=kg(t,Rc(e[0]));else if(t.length&&!t.nodeType){if(t=dt.makeArray(t),r)for(a=t.length-1;a>=0;a--)go(e,t[a],n,r);else for(a=0;a<t.length;a++)go(e,t[a],n,r);return e}if(t.nodeType)for(a=e.length;a--;)n.call(e[a],t);return e},Og=function(e,t){return e&&t&&(" "+e.className+" ").indexOf(" "+t+" ")!==-1},Tg=function(e,t,n){var r,a;return t=dt(t)[0],e.each(function(){var i=this;(!n||r!==i.parentNode)&&(r=i.parentNode,a=t.cloneNode(!1),i.parentNode.insertBefore(a,i)),a.appendChild(i)}),e},iD=he.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),oD=he.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),sD={for:"htmlFor",class:"className",readonly:"readOnly"},uD={float:"cssFloat"},Nc={},Pc={},br=function(e,t){return new dt.fn.init(e,t)},lD=function(e,t){var n;if(t.indexOf)return t.indexOf(e);for(n=t.length;n--;)if(t[n]===e)return n;return-1},fD=/^\s*|\s*$/g,Ag=function(e){return e==null?"":(""+e).replace(fD,"")},Aa=function(e,t){var n,r,a,i;if(e)if(n=e.length,n===void 0){for(r in e)if(e.hasOwnProperty(r)&&(i=e[r],t.call(i,r,i)===!1))break}else for(a=0;a<n&&(i=e[a],t.call(i,a,i)!==!1);a++);return e},Ng=function(e,t){var n=[];return Aa(e,function(r,a){t(a,r)&&n.push(a)}),n},Rc=function(e){return e?e.nodeType===9?e:e.ownerDocument:Dg};br.fn=br.prototype={constructor:br,selector:"",context:null,length:0,init:function(e,t){var n=this,r,a;if(!e)return n;if(e.nodeType)return n.context=n[0]=e,n.length=1,n;if(t&&t.nodeType)n.context=t;else{if(t)return dt(e).attr(t);n.context=t=document}if(Ac(e))if(n.selector=e,e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3?r=[null,e,null]:r=nD.exec(e),r)if(r[1])for(a=kg(e,Rc(t)).firstChild;a;)Tc.call(n,a),a=a.nextSibling;else{if(a=Rc(t).getElementById(r[2]),!a)return n;if(a.id!==r[2])return n.find(e);n.length=1,n[0]=a}else return dt(t).find(e);else this.add(e,!1);return n},toArray:function(){return he.toArray(this)},add:function(e,t){var n=this,r,a;if(Ac(e))return n.add(dt(e));if(t!==!1)for(r=dt.unique(n.toArray().concat(dt.makeArray(e))),n.length=r.length,a=0;a<r.length;a++)n[a]=r[a];else Tc.apply(n,dt.makeArray(e));return n},attr:function(e,t){var n=this,r;if(typeof e=="object")Aa(e,function(a,i){n.attr(a,i)});else if(ds(t))this.each(function(){var a;if(this.nodeType===1){if(a=Nc[e],a&&a.set){a.set(this,t);return}t===null?this.removeAttribute(e,2):this.setAttribute(e,t,2)}});else{if(n[0]&&n[0].nodeType===1){if(r=Nc[e],r&&r.get)return r.get(n[0],e);if(oD[e])return n.prop(e)?e:void 0;t=n[0].getAttribute(e,2),t===null&&(t=void 0)}return t}return n},removeAttr:function(e){return this.attr(e,null)},prop:function(e,t){var n=this;if(e=sD[e]||e,typeof e=="object")Aa(e,function(r,a){n.prop(r,a)});else if(ds(t))this.each(function(){this.nodeType===1&&(this[e]=t)});else return n[0]&&n[0].nodeType&&e in n[0]?n[0][e]:t;return n},css:function(e,t){var n=this,r,a,i=function(u){return u.replace(/-(\D)/g,function(l,v){return v.toUpperCase()})},s=function(u){return u.replace(/[A-Z]/g,function(l){return"-"+l})};if(typeof e=="object")Aa(e,function(u,l){n.css(u,l)});else if(ds(t))e=i(e),typeof t=="number"&&!iD[e]&&(t=t.toString()+"px"),n.each(function(){var u=this.style;if(a=Pc[e],a&&a.set){a.set(this,t);return}try{this.style[uD[e]||e]=t}catch{}(t===null||t==="")&&(u.removeProperty?u.removeProperty(s(e)):u.removeAttribute(e))});else{if(r=n[0],a=Pc[e],a&&a.get)return a.get(r);if(r.ownerDocument.defaultView)try{return r.ownerDocument.defaultView.getComputedStyle(r,null).getPropertyValue(s(e))}catch{return}else return r.currentStyle?r.currentStyle[i(e)]:""}return n},remove:function(){for(var e=this,t,n=this.length;n--;)t=e[n],cs.clean(t),t.parentNode&&t.parentNode.removeChild(t);return this},empty:function(){for(var e=this,t,n=this.length;n--;)for(t=e[n];t.firstChild;)t.removeChild(t.firstChild);return this},html:function(e){var t=this,n;if(ds(e)){n=t.length;try{for(;n--;)t[n].innerHTML=e}catch{dt(t[n]).empty().append(e)}return t}return t[0]?t[0].innerHTML:""},text:function(e){var t=this,n;if(ds(e)){for(n=t.length;n--;)"innerText"in t[n]?t[n].innerText=e:t[0].textContent=e;return t}return t[0]?t[0].innerText||t[0].textContent:""},append:function(){return go(this,arguments,function(e){(this.nodeType===1||this.host&&this.host.nodeType===1)&&this.appendChild(e)})},prepend:function(){return go(this,arguments,function(e){(this.nodeType===1||this.host&&this.host.nodeType===1)&&this.insertBefore(e,this.firstChild)},!0)},before:function(){var e=this;return e[0]&&e[0].parentNode?go(e,arguments,function(t){this.parentNode.insertBefore(t,this)}):e},after:function(){var e=this;return e[0]&&e[0].parentNode?go(e,arguments,function(t){this.parentNode.insertBefore(t,this.nextSibling)},!0):e},appendTo:function(e){return dt(e).append(this),this},prependTo:function(e){return dt(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return Tg(this,e)},wrapAll:function(e){return Tg(this,e,!0)},wrapInner:function(e){return this.each(function(){dt(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){dt(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),dt(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,t){var n=this;return typeof e!="string"||(e.indexOf(" ")!==-1?Aa(e.split(" "),function(){n.toggleClass(this,t)}):n.each(function(r,a){var i=Og(a,e);if(i!==t){var s=a.className;i?a.className=Ag((" "+s+" ").replace(" "+e+" "," ")):a.className+=s?" "+e:e}})),n},hasClass:function(e){return Og(this[0],e)},each:function(e){return Aa(this,e)},on:function(e,t){return this.each(function(){cs.bind(this,e,t)})},off:function(e,t){return this.each(function(){cs.unbind(this,e,t)})},trigger:function(e){return this.each(function(){typeof e=="object"?cs.fire(this,e.type,e):cs.fire(this,e)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return dt(tD.apply(this,arguments))},eq:function(e){return e===-1?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var t,n,r=[];for(t=0,n=this.length;t<n;t++)dt.find(e,this[t],r);return dt(r)},filter:function(e){return dt(typeof e=="function"?Ng(this.toArray(),function(t,n){return e(n,t)}):dt.filter(e,this.toArray()))},closest:function(e){var t=[];return e instanceof dt&&(e=e[0]),this.each(function(n,r){for(;r;){if(typeof e=="string"&&dt(r).is(e)){t.push(r);break}else if(r===e){t.push(r);break}r=r.parentNode}}),dt(t)},offset:function(e){var t,n,r,a=0,i=0,s;return e?this.css(e):(t=this[0],t&&(n=t.ownerDocument,r=n.documentElement,t.getBoundingClientRect&&(s=t.getBoundingClientRect(),a=s.left+(r.scrollLeft||n.body.scrollLeft)-r.clientLeft,i=s.top+(r.scrollTop||n.body.scrollTop)-r.clientTop)),{left:a,top:i})},push:Tc,sort:Array.prototype.sort,splice:Array.prototype.splice},he.extend(br,{extend:he.extend,makeArray:function(e){return aD(e)||e.nodeType?[e]:he.toArray(e)},inArray:lD,isArray:he.isArray,each:Aa,trim:Ag,grep:Ng,find:Ft,expr:Ft.selectors,unique:Ft.uniqueSort,text:Ft.getText,contains:Ft.contains,filter:function(e,t,n){var r=t.length;for(n&&(e=":not("+e+")");r--;)t[r].nodeType!==1&&t.splice(r,1);return t.length===1?t=dt.find.matchesSelector(t[0],e)?[t[0]]:[]:t=dt.find.matches(e,t),t}});var Pg=function(e,t,n){var r=[],a=e[t];for(typeof n!="string"&&n instanceof dt&&(n=n[0]);a&&a.nodeType!==9&&!(n!==void 0&&(a===n||typeof n=="string"&&dt(a).is(n)));)a.nodeType===1&&r.push(a),a=a[t];return r},Ic=function(e,t,n,r){var a=[];for(r instanceof dt&&(r=r[0]);e;e=e[t])if(!(n&&e.nodeType!==n)){if(r!==void 0&&(e===r||typeof r=="string"&&dt(e).is(r)))break;a.push(e)}return a},Rg=function(e,t,n){for(e=e[t];e;e=e[t])if(e.nodeType===n)return e;return null};Aa({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return Pg(e,"parentNode")},next:function(e){return Rg(e,"nextSibling",1)},prev:function(e){return Rg(e,"previousSibling",1)},children:function(e){return Ic(e.firstChild,"nextSibling",1)},contents:function(e){return he.toArray((e.nodeName==="iframe"?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,t){br.fn[e]=function(n){var r=this,a=[];r.each(function(){var s=t.call(a,this,n,a);s&&(dt.isArray(s)?a.push.apply(a,s):a.push(s))}),this.length>1&&(rD[e]||(a=dt.unique(a)),e.indexOf("parents")===0&&(a=a.reverse()));var i=dt(a);return n?i.filter(n):i}}),Aa({parentsUntil:function(e,t){return Pg(e,"parentNode",t)},nextUntil:function(e,t){return Ic(e,"nextSibling",1,t).slice(1)},prevUntil:function(e,t){return Ic(e,"previousSibling",1,t).slice(1)}},function(e,t){br.fn[e]=function(n,r){var a=this,i=[];a.each(function(){var u=t.call(i,this,n,i);u&&(dt.isArray(u)?i.push.apply(i,u):i.push(u))}),this.length>1&&(i=dt.unique(i),(e.indexOf("parents")===0||e==="prevUntil")&&(i=i.reverse()));var s=dt(i);return r?s.filter(r):s}}),br.fn.is=function(e){return!!e&&this.filter(e).length>0},br.fn.init.prototype=br.fn,br.overrideDefaults=function(e){var t,n=function(r,a){return t=t||e(),arguments.length===0&&(r=t.element),a||(a=t.context),new n.fn.init(r,a)};return dt.extend(n,this),n},br.attrHooks=Nc,br.cssHooks=Pc;var dt=br,vs=he.each,cD=he.grep,Bc=pt.ie,dD=/^([a-z0-9],?)+$/i,vD=function(e,t,n){var r=t.keep_values,a={set:function(s,u,l){t.url_converter&&u!==null&&(u=t.url_converter.call(t.url_converter_scope||n(),u,l,s[0])),s.attr("data-mce-"+l,u).attr(l,u)},get:function(s,u){return s.attr("data-mce-"+u)||s.attr(u)}},i={style:{set:function(s,u){if(u!==null&&typeof u=="object"){s.css(u);return}r&&s.attr("data-mce-style",u),u!==null&&typeof u=="string"?(s.removeAttr("style"),s.css(e.parse(u))):s.attr("style",u)},get:function(s){var u=s.attr("data-mce-style")||s.attr("style");return u=e.serialize(e.parse(u),s[0].nodeName),u}}};return r&&(i.href=i.src=a),i},Ig=function(e,t){var n=t.attr("style"),r=e.serialize(e.parse(n),t[0].nodeName);r||(r=null),t.attr("data-mce-style",r)},mo=function(e,t){var n=0,r,a;if(e)for(r=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)a=e.nodeType,!(t&&a===3&&(a===r||!e.nodeValue.length))&&(n++,r=a);return n},zt=function(e,t){t===void 0&&(t={});var n={},r=window,a={},i=0,s=!0,u=!0,l=Qh.forElement(Z.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),v=[],g=t.schema?t.schema:qa({}),m=hc({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),C=t.ownEvents?new vo:vo.Event,x=g.getBlockElements(),D=dt.overrideDefaults(function(){return{context:e,element:Ki.getRoot()}}),k=function(z){if(typeof z=="string")return!!x[z];if(z){var ue=z.nodeType;if(ue)return!!(ue===1&&x[z.nodeName])}return!1},T=function(z){return z&&e&&ce(z)?e.getElementById(z):z},F=function(z){return D(typeof z=="string"?T(z):z)},R=function(z,ue,Re){var Fe,vt,At=F(z);return At.length&&(Fe=g1[ue],Fe&&Fe.get?vt=Fe.get(At,ue):vt=At.attr(ue)),typeof vt>"u"&&(vt=Re||""),vt},G=function(z){var ue=T(z);return ue?ue.attributes:[]},K=function(z,ue,Re){Re===""&&(Re=null);var Fe=F(z),vt=Fe.attr(ue);if(Fe.length){var At=g1[ue];At&&At.set?At.set(Fe,Re,ue):Fe.attr(ue,Re),vt!==Re&&t.onSetAttrib&&t.onSetAttrib({attrElm:Fe,attrName:ue,attrValue:Re})}},V=function(z,ue){if(!Bc||z.nodeType!==1||ue)return z.cloneNode(ue);var Re=e.createElement(z.nodeName);return vs(G(z),function(Fe){K(Re,Fe.nodeName,R(z,Fe.nodeName))}),Re},ne=function(){return t.root_element||e.body},ve=function(z){var ue=Bh(z);return{x:ue.x,y:ue.y,w:ue.width,h:ue.height}},Oe=function(z,ue){return dS(e.body,T(z),ue)},nt=function(z,ue,Re){var Fe=ce(ue)?F(z).css(ue,Re):F(z).css(ue);t.update_styles&&Ig(m,Fe)},ze=function(z,ue){var Re=F(z).css(ue);t.update_styles&&Ig(m,Re)},me=function(z,ue,Re){var Fe=F(z);return Re?Fe.css(ue):(ue=ue.replace(/-(\D)/g,function(vt,At){return At.toUpperCase()}),ue==="float"&&(ue=pt.browser.isIE()?"styleFloat":"cssFloat"),Fe[0]&&Fe[0].style?Fe[0].style[ue]:void 0)},Ze=function(z){var ue,Re;return z=T(z),ue=me(z,"width"),Re=me(z,"height"),ue.indexOf("px")===-1&&(ue=0),Re.indexOf("px")===-1&&(Re=0),{w:parseInt(ue,10)||z.offsetWidth||z.clientWidth,h:parseInt(Re,10)||z.offsetHeight||z.clientHeight}},Ie=function(z){z=T(z);var ue=Oe(z),Re=Ze(z);return{x:ue.x,y:ue.y,w:Re.w,h:Re.h}},He=function(z,ue){var Re;if(!z)return!1;if(!Array.isArray(z)){if(ue==="*")return z.nodeType===1;if(dD.test(ue)){var Fe=ue.toLowerCase().split(/,/),vt=z.nodeName.toLowerCase();for(Re=Fe.length-1;Re>=0;Re--)if(Fe[Re]===vt)return!0;return!1}if(z.nodeType&&z.nodeType!==1)return!1}var At=Array.isArray(z)?z:[z];return Ft(ue,At[0].ownerDocument||At[0],null,At).length>0},Pe=function(z,ue,Re,Fe){var vt=[],At,Kt=T(z);for(Fe=Fe===void 0,Re=Re||(ne().nodeName!=="BODY"?ne().parentNode:null),he.is(ue,"string")&&(At=ue,ue==="*"?ue=function(pi){return pi.nodeType===1}:ue=function(pi){return He(pi,At)});Kt&&!(Kt===Re||ae(Kt.nodeType)||Gf(Kt)||Xf(Kt));){if(!ue||typeof ue=="function"&&ue(Kt))if(Fe)vt.push(Kt);else return[Kt];Kt=Kt.parentNode}return Fe?vt:null},Le=function(z,ue,Re){var Fe=Pe(z,ue,Re,!1);return Fe&&Fe.length>0?Fe[0]:null},Ye=function(z,ue,Re){var Fe=ue;if(z){for(typeof ue=="string"&&(Fe=function(vt){return He(vt,ue)}),z=z[Re];z;z=z[Re])if(typeof Fe=="function"&&Fe(z))return z}return null},we=function(z,ue){return Ye(z,ue,"nextSibling")},We=function(z,ue){return Ye(z,ue,"previousSibling")},mt=function(z,ue){return Ft(z,T(ue)||t.root_element||e,[])},kt=function(z,ue,Re){var Fe,vt=typeof z=="string"?T(z):z;if(!vt)return!1;if(he.isArray(vt)&&(vt.length||vt.length===0))return Fe=[],vs(vt,function(Kt,pi){Kt&&Fe.push(ue.call(Re,typeof Kt=="string"?T(Kt):Kt,pi))}),Fe;var At=Re||this;return ue.call(At,vt)},Dt=function(z,ue){F(z).each(function(Re,Fe){vs(ue,function(vt,At){K(Fe,At,vt)})})},pn=function(z,ue){var Re=F(z);Bc?Re.each(function(Fe,vt){if(vt.canHaveHTML!==!1){for(;vt.firstChild;)vt.removeChild(vt.firstChild);try{vt.innerHTML="<br>"+ue,vt.removeChild(vt.firstChild)}catch{dt("<div></div>").html("<br>"+ue).contents().slice(1).appendTo(vt)}return ue}}):Re.html(ue)},Xt=function(z,ue,Re,Fe,vt){return kt(z,function(At){var Kt=typeof ue=="string"?e.createElement(ue):ue;return Dt(Kt,Re),Fe&&(typeof Fe!="string"&&Fe.nodeType?Kt.appendChild(Fe):typeof Fe=="string"&&pn(Kt,Fe)),vt?Kt:At.appendChild(Kt)})},Fn=function(z,ue,Re){return Xt(e.createElement(z),z,ue,Re,!0)},ar=Ya.decode,Se=Ya.encodeAllRaw,Be=function(z,ue,Re){var Fe="",vt;Fe+="<"+z;for(vt in ue)wt(ue,vt)&&(Fe+=" "+vt+'="'+Se(ue[vt])+'"');return typeof Re<"u"?Fe+">"+Re+"</"+z+">":Fe+" />"},Xe=function(z){var ue,Re=e.createElement("div"),Fe=e.createDocumentFragment();for(Fe.appendChild(Re),z&&(Re.innerHTML=z);ue=Re.firstChild;)Fe.appendChild(ue);return Fe.removeChild(Re),Fe},ie=function(z,ue){var Re=F(z);return ue?Re.each(function(){for(var Fe;Fe=this.firstChild;)Fe.nodeType===3&&Fe.data.length===0?this.removeChild(Fe):this.parentNode.insertBefore(Fe,this)}).remove():Re.remove(),Re.length>1?Re.toArray():Re[0]},Te=function(z){return kt(z,function(ue){var Re,Fe=ue.attributes;for(Re=Fe.length-1;Re>=0;Re--)ue.removeAttributeNode(Fe.item(Re))})},xe=function(z){return m.parse(z)},Je=function(z,ue){return m.serialize(z,ue)},et=function(z){var ue,Re;if(Ki!==zt.DOM&&e===document){if(n[z])return;n[z]=!0}Re=e.getElementById("mceDefaultStyles"),Re||(Re=e.createElement("style"),Re.id="mceDefaultStyles",Re.type="text/css",ue=e.getElementsByTagName("head")[0],ue.firstChild?ue.insertBefore(Re,ue.firstChild):ue.appendChild(Re)),Re.styleSheet?Re.styleSheet.cssText+=z:Re.appendChild(e.createTextNode(z))},Mt=function(z){z||(z=""),_e(z.split(","),function(ue){a[ue]=!0,l.load(ue,pe)})},un=function(z,ue,Re){F(z).toggleClass(ue,Re).each(function(){this.className===""&&dt(this).attr("class",null)})},an=function(z,ue){F(z).addClass(ue)},$a=function(z,ue){un(z,ue,!1)},Ln=function(z,ue){return F(z).hasClass(ue)},zn=function(z){F(z).show()},ln=function(z){F(z).hide()},dr=function(z){return F(z).css("display")==="none"},Wn=function(z){return(z||"mce_")+i++},Sa=function(z){var ue=typeof z=="string"?T(z):z;return lt(ue)?ue.outerHTML:dt("<div></div>").append(dt(ue).clone()).html()},Lt=function(z,ue){F(z).each(function(){try{if("outerHTML"in this){this.outerHTML=ue;return}}catch{}ie(dt(this).html(ue),!0)})},Vt=function(z,ue){var Re=T(ue);return kt(z,function(Fe){var vt=Re.parentNode,At=Re.nextSibling;return At?vt.insertBefore(Fe,At):vt.appendChild(Fe),Fe})},fn=function(z,ue,Re){return kt(ue,function(Fe){return he.is(Fe,"array")&&(z=z.cloneNode(!0)),Re&&vs(cD(Fe.childNodes),function(vt){z.appendChild(vt)}),Fe.parentNode.replaceChild(z,Fe)})},Qr=function(z,ue){var Re;return z.nodeName!==ue.toUpperCase()&&(Re=Fn(ue),vs(G(z),function(Fe){K(Re,Fe.nodeName,R(z,Fe.nodeName))}),fn(Re,z,!0)),Re||z},Zr=function(z,ue){for(var Re=z,Fe;Re;){for(Fe=ue;Fe&&Re!==Fe;)Fe=Fe.parentNode;if(Re===Fe)break;Re=Re.parentNode}return!Re&&z.ownerDocument?z.ownerDocument.documentElement:Re},ea=function(z){return m.toHex(he.trim(z))},vi=function(z){if(lt(z)){var ue=z.nodeName.toLowerCase()==="a"&&!R(z,"href")&&R(z,"id");if(R(z,"name")||R(z,"data-mce-bookmark")||ue)return!0}return!1},pp=function(z,ue){var Re,Fe,vt=0;if(vi(z))return!1;if(z=z.firstChild,z){var At=new Cn(z,z.parentNode),Kt=g?g.getWhiteSpaceElements():{};ue=ue||(g?g.getNonEmptyElements():null);do{if(Re=z.nodeType,lt(z)){var pi=z.getAttribute("data-mce-bogus");if(pi){z=At.next(pi==="all");continue}if(Fe=z.nodeName.toLowerCase(),ue&&ue[Fe]){if(Fe==="br"){vt++,z=At.next();continue}return!1}if(vi(z))return!1}if(Re===8||Re===3&&!Si(z.nodeValue)||Re===3&&z.parentNode&&Kt[z.parentNode.nodeName]&&Si(z.nodeValue))return!1;z=At.next()}while(z)}return vt<=1},hp=function(){return e.createRange()},LV=function(z,ue,Re){var Fe=hp(),vt,At,Kt;if(z&&ue)return Fe.setStart(z.parentNode,mo(z)),Fe.setEnd(ue.parentNode,mo(ue)),vt=Fe.extractContents(),Fe=hp(),Fe.setStart(ue.parentNode,mo(ue)+1),Fe.setEnd(z.parentNode,mo(z)+1),At=Fe.extractContents(),Kt=z.parentNode,Kt.insertBefore(fc(Ki,vt),z),Re?Kt.insertBefore(Re,z):Kt.insertBefore(ue,z),Kt.insertBefore(fc(Ki,At),z),ie(z),Re||ue},v1=function(z,ue,Re,Fe){if(he.isArray(z)){for(var vt=z.length,At=[];vt--;)At[vt]=v1(z[vt],ue,Re,Fe);return At}t.collect&&(z===e||z===r)&&v.push([z,ue,Re,Fe]);var Kt=C.bind(z,ue,Re,Fe||Ki);return Kt},p1=function(z,ue,Re){if(he.isArray(z)){for(var Fe=z.length,vt=[];Fe--;)vt[Fe]=p1(z[Fe],ue,Re);return vt}else{if(v.length>0&&(z===e||z===r))for(var Fe=v.length;Fe--;){var At=v[Fe];z===At[0]&&(!ue||ue===At[1])&&(!Re||Re===At[2])&&C.unbind(At[0],At[1],At[2])}return C.unbind(z,ue,Re)}},_V=function(z,ue,Re){return C.fire(z,ue,Re)},h1=function(z){if(z&&lt(z)){var ue=z.getAttribute("data-mce-contenteditable");return ue&&ue!=="inherit"?ue:z.contentEditable!=="inherit"?z.contentEditable:null}else return null},VV=function(z){for(var ue=ne(),Re=null;z&&z!==ue&&(Re=h1(z),Re===null);z=z.parentNode);return Re},HV=function(){if(v.length>0)for(var z=v.length;z--;){var ue=v[z];C.unbind(ue[0],ue[1],ue[2])}Ut(a,function(Re,Fe){l.unload(Fe),delete a[Fe]}),Ft.setDocument&&Ft.setDocument()},UV=function(z,ue){if(Bc){for(;z;){if(ue===z)return!0;z=z.parentNode}return!1}else return z===ue||ue.contains(z)},jV=function(z){return"startContainer: "+z.startContainer.nodeName+", startOffset: "+z.startOffset+", endContainer: "+z.endContainer.nodeName+", endOffset: "+z.endOffset},Ki={doc:e,settings:t,win:r,files:a,stdMode:s,boxModel:u,styleSheetLoader:l,boundEvents:v,styles:m,schema:g,events:C,isBlock:k,$:D,$$:F,root:null,clone:V,getRoot:ne,getViewPort:ve,getRect:Ie,getSize:Ze,getParent:Le,getParents:Pe,get:T,getNext:we,getPrev:We,select:mt,is:He,add:Xt,create:Fn,createHTML:Be,createFragment:Xe,remove:ie,setStyle:nt,getStyle:me,setStyles:ze,removeAllAttribs:Te,setAttrib:K,setAttribs:Dt,getAttrib:R,getPos:Oe,parseStyle:xe,serializeStyle:Je,addStyle:et,loadCSS:Mt,addClass:an,removeClass:$a,hasClass:Ln,toggleClass:un,show:zn,hide:ln,isHidden:dr,uniqueId:Wn,setHTML:pn,getOuterHTML:Sa,setOuterHTML:Lt,decode:ar,encode:Se,insertAfter:Vt,replace:fn,rename:Qr,findCommonAncestor:Zr,toHex:ea,run:kt,getAttribs:G,isEmpty:pp,createRng:hp,nodeIndex:mo,split:LV,bind:v1,unbind:p1,fire:_V,getContentEditable:h1,getContentEditableParent:VV,destroy:HV,isChildOf:UV,dumpRng:jV},g1=vD(m,t,Y(Ki));return Ki};zt.DOM=zt(document),zt.nodeIndex=mo;var pD=zt.DOM,Mc=he.each,hD=he.grep,gD=0,Bg=1,Vu=2,Mg=3,Na=function(){function e(t){t===void 0&&(t={}),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0,this.settings=t}return e.prototype._setReferrerPolicy=function(t){this.settings.referrerPolicy=t},e.prototype.loadScript=function(t,n,r){var a=pD,i,s=function(){a.remove(v),i&&(i.onerror=i.onload=i=null)},u=function(){s(),n()},l=function(){s(),ge(r)?r():typeof console<"u"&&console.log&&console.log("Failed to load script: "+t)},v=a.uniqueId();i=document.createElement("script"),i.id=v,i.type="text/javascript",i.src=he._addCacheSuffix(t),this.settings.referrerPolicy&&a.setAttrib(i,"referrerpolicy",this.settings.referrerPolicy),i.onload=u,i.onerror=l,(document.getElementsByTagName("head")[0]||document.body).appendChild(i)},e.prototype.isDone=function(t){return this.states[t]===Vu},e.prototype.markDone=function(t){this.states[t]=Vu},e.prototype.add=function(t,n,r,a){var i=this.states[t];this.queue.push(t),i===void 0&&(this.states[t]=gD),n&&(this.scriptLoadedCallbacks[t]||(this.scriptLoadedCallbacks[t]=[]),this.scriptLoadedCallbacks[t].push({success:n,failure:a,scope:r||this}))},e.prototype.load=function(t,n,r,a){return this.add(t,n,r,a)},e.prototype.remove=function(t){delete this.states[t],delete this.scriptLoadedCallbacks[t]},e.prototype.loadQueue=function(t,n,r){this.loadScripts(this.queue,t,n,r)},e.prototype.loadScripts=function(t,n,r,a){var i=this,s=[],u=function(v,g){Mc(i.scriptLoadedCallbacks[g],function(m){ge(m[v])&&m[v].call(m.scope)}),i.scriptLoadedCallbacks[g]=void 0};i.queueLoadedCallbacks.push({success:n,failure:a,scope:r||this});var l=function(){var v=hD(t);if(t.length=0,Mc(v,function(m){if(i.states[m]===Vu){u("success",m);return}if(i.states[m]===Mg){u("failure",m);return}i.states[m]!==Bg&&(i.states[m]=Bg,i.loading++,i.loadScript(m,function(){i.states[m]=Vu,i.loading--,u("success",m),l()},function(){i.states[m]=Mg,i.loading--,s.push(m),u("failure",m),l()}))}),!i.loading){var g=i.queueLoadedCallbacks.slice(0);i.queueLoadedCallbacks.length=0,Mc(g,function(m){s.length===0?ge(m.success)&&m.success.call(m.scope):ge(m.failure)&&m.failure.call(m.scope,s)})}};l()},e.ScriptLoader=new e,e}(),Hn=function(e){var t=e,n=function(){return t},r=function(a){t=a};return{get:n,set:r}},mD=function(e){return be(e)&&$e(e,"raw")},bD=function(e){return le(e)&&e.length>1},ps={},$c=Hn("en"),$g=function(){return Ve(ps,$c.get())},yD=function(){return Zi(ps,function(e){return st({},e)})},CD=function(e){e&&$c.set(e)},wD=function(){return $c.get()},ED=function(e,t){var n=ps[e];n||(ps[e]=n={}),Ut(t,function(r,a){n[a.toLowerCase()]=r})},SD=function(e){var t=$g().getOr({}),n=function(l){return ge(l)?Object.prototype.toString.call(l):r(l)?"":""+l},r=function(l){return l===""||l===null||l===void 0},a=function(l){var v=n(l);return Ve(t,v.toLowerCase()).map(n).getOr(v)},i=function(l){return l.replace(/{context:\w+}$/,"")};if(r(e))return"";if(mD(e))return n(e.raw);if(bD(e)){var s=e.slice(1),u=a(e[0]).replace(/\{([0-9]+)\}/g,function(l,v){return $e(s,v)?n(s[v]):l});return i(u)}return i(a(e))},xD=function(){return $g().bind(function(e){return Ve(e,"_dir")}).exists(function(e){return e==="rtl"})},DD=function(e){return $e(ps,e)},Kr={getData:yD,setCode:CD,getCode:wD,add:ED,translate:SD,isRtl:xD,hasCode:DD},ur=function(){var e=[],t={},n={},r=[],a=function(k,T){var F=it(r,function(R){return R.name===k&&R.state===T});_e(F,function(R){return R.callback()})},i=function(k){if(n[k])return n[k].instance},s=function(k){var T;return n[k]&&(T=n[k].dependencies),T||[]},u=function(k,T){ur.languageLoad!==!1&&D(k,function(){var F=Kr.getCode(),R=","+(T||"")+",";!F||T&&R.indexOf(","+F+",")===-1||Na.ScriptLoader.add(t[k]+"/langs/"+F+".js")},"loaded")},l=function(k,T,F){var R=T;return e.push(R),n[k]={instance:R,dependencies:F},a(k,"added"),R},v=function(k){delete t[k],delete n[k]},g=function(k,T){return typeof T=="object"?T:typeof k=="string"?{prefix:"",resource:T,suffix:""}:{prefix:k.prefix,resource:T,suffix:k.suffix}},m=function(k,T){var F=t[k];_e(T,function(R){Na.ScriptLoader.add(F+"/"+R)})},C=function(k,T,F,R){var G=s(k);_e(G,function(K){var V=g(T,K);x(V.resource,V,void 0,void 0)}),F&&(R?F.call(R):F.call(Na))},x=function(k,T,F,R,G){if(!t[k]){var K=typeof T=="string"?T:T.prefix+T.resource+T.suffix;K.indexOf("/")!==0&&K.indexOf("://")===-1&&(K=ur.baseURL+"/"+K),t[k]=K.substring(0,K.lastIndexOf("/"));var V=function(){a(k,"loaded"),C(k,T,F,R)};n[k]?V():Na.ScriptLoader.add(K,V,R,G)}},D=function(k,T,F){F===void 0&&(F="added"),$e(n,k)&&F==="added"||$e(t,k)&&F==="loaded"?T():r.push({name:k,state:F,callback:T})};return{items:e,urls:t,lookup:n,_listeners:r,get:i,dependencies:s,requireLangPack:u,add:l,remove:v,createUrl:g,addComponents:m,load:x,waitFor:D}};ur.languageLoad=!0,ur.baseURL="",ur.PluginManager=ur(),ur.ThemeManager=ur();var kD=function(e){var t=Hn(S.none()),n=function(){return t.get().each(e)},r=function(){n(),t.set(S.none())},a=function(){return t.get().isSome()},i=function(){return t.get()},s=function(u){n(),t.set(S.some(u))};return{clear:r,isSet:a,get:i,set:s}},bo=function(){var e=kD(pe),t=function(n){return e.get().each(n)};return st(st({},e),{on:t})},Fc=function(e,t){var n=null,r=function(){de(n)||(clearTimeout(n),n=null)},a=function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];de(n)&&(n=setTimeout(function(){n=null,e.apply(null,i)},t))};return{cancel:r,throttle:a}},Fg=function(e,t){var n=null,r=function(){de(n)||(clearTimeout(n),n=null)},a=function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];r(),n=setTimeout(function(){n=null,e.apply(null,i)},t)};return{cancel:r,throttle:a}},Lc=function(e,t){var n=is(e,t);return n===void 0||n===""?[]:n.split(" ")},OD=function(e,t,n){var r=Lc(e,t),a=r.concat([n]);return ua(e,t,a.join(" ")),!0},TD=function(e,t,n){var r=it(Lc(e,t),function(a){return a!==n});return r.length>0?ua(e,t,r.join(" ")):Ua(e,t),!1},Hu=function(e){return e.dom.classList!==void 0},AD=function(e){return Lc(e,"class")},ND=function(e,t){return OD(e,"class",t)},PD=function(e,t){return TD(e,"class",t)},Uu=function(e,t){Hu(e)?e.dom.classList.add(t):ND(e,t)},RD=function(e){var t=Hu(e)?e.dom.classList:AD(e);t.length===0&&Ua(e,"class")},ID=function(e,t){if(Hu(e)){var n=e.dom.classList;n.remove(t)}else PD(e,t);RD(e)},Lg=function(e,t){return Hu(e)&&e.dom.classList.contains(t)},_g=function(e,t){var n=[];return _e(Pr(e),function(r){t(r)&&(n=n.concat([r])),n=n.concat(_g(r,t))}),n},rr=function(e,t){return NE(t,e)},_c=Y("mce-annotation"),hs=Y("data-mce-annotation"),ju=Y("data-mce-annotation-uid"),Vg=function(e,t){var n=e.selection.getRng(),r=Z.fromDom(n.startContainer),a=Z.fromDom(e.getBody()),i=t.fold(function(){return"."+_c()},function(v){return"["+hs()+'="'+v+'"]'}),s=cu(r,n.startOffset).getOr(r),u=ec(s,i,function(v){return Yt(v,a)}),l=function(v,g){return iS(v,g)?S.some(is(v,g)):S.none()};return u.bind(function(v){return l(v,""+ju()).bind(function(g){return l(v,""+hs()).map(function(m){var C=MD(e,g);return{uid:g,name:m,elements:C}})})})},BD=function(e){return Ur(e)&&Lg(e,_c())},MD=function(e,t){var n=Z.fromDom(e.getBody());return rr(n,"["+ju()+'="'+t+'"]')},$D=function(e,t){var n=Z.fromDom(e.getBody()),r=rr(n,"["+hs()+'="'+t+'"]'),a={};return _e(r,function(i){var s=is(i,ju()),u=Ve(a,s).getOr([]);a[s]=u.concat([i])}),a},FD=function(e,t){var n=Hn({}),r=function(){return{listeners:[],previous:bo()}},a=function(g,m){i(g,function(C){return m(C),C})},i=function(g,m){var C=n.get(),x=Ve(C,g).getOrThunk(r),D=m(x);C[g]=D,n.set(C)},s=function(g,m,C){a(g,function(x){_e(x.listeners,function(D){return D(!0,g,{uid:m,nodes:xt(C,function(k){return k.dom})})})})},u=function(g){a(g,function(m){_e(m.listeners,function(C){return C(!1,g)})})},l=Fg(function(){var g=n.get(),m=ht(bn(g));_e(m,function(C){i(C,function(x){var D=x.previous.get();return Vg(e,S.some(C)).fold(function(){D.isSome()&&(u(C),x.previous.clear())},function(k){var T=k.uid,F=k.name,R=k.elements;mu(D,T)||(s(F,T,R),x.previous.set(T))}),{previous:x.previous,listeners:x.listeners}})})},30);e.on("remove",function(){l.cancel()}),e.on("NodeChange",function(){l.throttle()});var v=function(g,m){i(g,function(C){return{previous:C.previous,listeners:C.listeners.concat([m])}})};return{addListener:v}},LD=function(e,t){var n=function(r){return S.from(r.attr(hs())).bind(t.lookup)};e.on("init",function(){e.serializer.addNodeFilter("span",function(r){_e(r,function(a){n(a).each(function(i){i.persistent===!1&&a.unwrap()})})})})},_D=function(){var e={},t=function(r,a){e[r]={name:r,settings:a}},n=function(r){return Ve(e,r).map(function(a){return a.settings})};return{register:t,lookup:n}},Hg=0,Ug=function(e){var t=new Date,n=t.getTime(),r=Math.floor(Math.random()*1e9);return Hg++,e+"_"+r+Hg+String(n)},VD=function(e,t){_e(t,function(n){Uu(e,n)})},HD=function(e,t){var n=t||document,r=n.createElement("div");return r.innerHTML=e,Pr(Z.fromDom(r))},UD=function(e){return xt(e,Z.fromDom)},jD=function(e){return e.dom.innerHTML},jg=function(e,t){var n=Ch(e),r=n.dom,a=Z.fromDom(r.createDocumentFragment()),i=HD(t,r);du(a,i),Wf(e),Pn(e,a)},zg=function(e,t){return Z.fromDom(e.dom.cloneNode(t))},yo=function(e){return zg(e,!1)},Wg=function(e){return zg(e,!0)},Yg=function(e,t,n){n===void 0&&(n=N);var r=new Cn(e,t),a=function(i){var s;do s=r[i]();while(s&&!Ge(s)&&!n(s));return S.from(s).filter(Ge)};return{current:function(){return S.from(r.current()).filter(Ge)},next:function(){return a("next")},prev:function(){return a("prev")},prev2:function(){return a("prev2")}}},Kg=function(e,t){var n=t||function(s){return e.isBlock(s)||sn(s)||Jt(s)},r=function(s,u,l,v){if(Ge(s)){var g=v(s,u,s.data);if(g!==-1)return S.some({container:s,offset:g})}return l().bind(function(m){return r(m.container,m.offset,l,v)})},a=function(s,u,l,v){var g=Yg(s,v,n);return r(s,u,function(){return g.prev().map(function(m){return{container:m,offset:m.length}})},l).getOrNull()},i=function(s,u,l,v){var g=Yg(s,v,n);return r(s,u,function(){return g.next().map(function(m){return{container:m,offset:0}})},l).getOrNull()};return{backwards:a,forwards:i}},Co=Math.round,Ti=function(e){return e?{left:Co(e.left),top:Co(e.top),bottom:Co(e.bottom),right:Co(e.right),width:Co(e.width),height:Co(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},qg=function(e,t){return e=Ti(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e},zD=function(e,t){return e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right},Gg=function(e,t,n){return e>=0&&e<=Math.min(t.height,n.height)/2},wo=function(e,t){var n=Math.min(t.height/2,e.height/2);return e.bottom-n<t.top?!0:e.top>t.bottom?!1:Gg(t.top-e.bottom,e,t)},Eo=function(e,t){return e.top>t.bottom?!0:e.bottom<t.top?!1:Gg(t.bottom-e.top,e,t)},Xg=function(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom},WD=function(e,t,n){return Math.min(Math.max(e,t),n)},zu=function(e){var t=e.startContainer,n=e.startOffset;return t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},ni=function(e,t){if(lt(e)&&e.hasChildNodes()){var n=e.childNodes,r=WD(t,0,n.length-1);return n[r]}else return e},YD=function(e,t){if(!(t<0&&lt(e)&&e.hasChildNodes()))return ni(e,t)},KD=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),Jg=function(e){return typeof e=="string"&&e.charCodeAt(0)>=768&&KD.test(e)},qD=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(n){for(var r=0;r<e.length;r++)if(e[r](n))return!0;return!1}},GD=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(n){for(var r=0;r<e.length;r++)if(!e[r](n))return!1;return!0}},Qg=lt,XD=fa,Zg=hu("display","block table"),JD=hu("float","left right"),gs=GD(Qg,XD,w(JD)),QD=w(hu("white-space","pre pre-line pre-wrap")),ms=Ge,Vc=sn,em=zt.nodeIndex,Wu=YD,Hc=function(e){return"createRange"in e?e.createRange():zt.DOM.createRng()},Uc=function(e){return e&&/[\r\n\t ]/.test(e)},tm=function(e){return!!e.setStart&&!!e.setEnd},jc=function(e){var t=e.startContainer,n=e.startOffset;if(Uc(e.toString())&&QD(t.parentNode)&&Ge(t)){var r=t.data;if(Uc(r[n-1])||Uc(r[n+1]))return!0}return!1},ZD=function(e){var t=e.ownerDocument,n=Hc(t),r=t.createTextNode(sr),a=e.parentNode;a.insertBefore(r,e),n.setStart(r,0),n.setEnd(r,1);var i=Ti(n.getBoundingClientRect());return a.removeChild(r),i},ek=function(e){var t=e.startContainer,n=e.endContainer,r=e.startOffset,a=e.endOffset;if(t===n&&Ge(n)&&r===0&&a===1){var i=e.cloneRange();return i.setEndAfter(n),ri(i)}else return null},nm=function(e){return e.left===0&&e.right===0&&e.top===0&&e.bottom===0},ri=function(e){var t,n=e.getClientRects();return n.length>0?t=Ti(n[0]):t=Ti(e.getBoundingClientRect()),!tm(e)&&Vc(e)&&nm(t)?ZD(e):nm(t)&&tm(e)?ek(e):t},Ai=function(e,t){var n=qg(e,t);return n.width=1,n.right=n.left+1,n},tk=function(e){var t=[],n=function(l){l.height!==0&&(t.length>0&&zD(l,t[t.length-1])||t.push(l))},r=function(l,v){var g=Hc(l.ownerDocument);if(v<l.data.length){if(Jg(l.data[v]))return t;if(Jg(l.data[v-1])&&(g.setStart(l,v),g.setEnd(l,v+1),!jc(g)))return n(Ai(ri(g),!1)),t}v>0&&(g.setStart(l,v-1),g.setEnd(l,v),jc(g)||n(Ai(ri(g),!1))),v<l.data.length&&(g.setStart(l,v),g.setEnd(l,v+1),jc(g)||n(Ai(ri(g),!0)))},a=e.container(),i=e.offset();if(ms(a))return r(a,i),t;if(Qg(a))if(e.isAtEnd()){var s=Wu(a,i);ms(s)&&r(s,s.data.length),gs(s)&&!Vc(s)&&n(Ai(ri(s),!1))}else{var s=Wu(a,i);if(ms(s)&&r(s,0),gs(s)&&e.isAtEnd())return n(Ai(ri(s),!1)),t;var u=Wu(e.container(),e.offset()-1);gs(u)&&!Vc(u)&&(Zg(u)||Zg(s)||!gs(s))&&n(Ai(ri(u),!1)),gs(s)&&n(Ai(ri(s),!0))}return t},fe=function(e,t,n){var r=function(){return ms(e),t===0},a=function(){return ms(e)?t>=e.data.length:t>=e.childNodes.length},i=function(){var g=Hc(e.ownerDocument);return g.setStart(e,t),g.setEnd(e,t),g},s=function(){return n||(n=tk(fe(e,t))),n},u=function(){return s().length>0},l=function(g){return g&&e===g.container()&&t===g.offset()},v=function(g){return Wu(e,g?t-1:t)};return{container:Y(e),offset:Y(t),toRange:i,getClientRects:s,isVisible:u,isAtStart:r,isAtEnd:a,isEqual:l,getNode:v}};fe.fromRangeStart=function(e){return fe(e.startContainer,e.startOffset)},fe.fromRangeEnd=function(e){return fe(e.endContainer,e.endOffset)},fe.after=function(e){return fe(e.parentNode,em(e)+1)},fe.before=function(e){return fe(e.parentNode,em(e))},fe.isAbove=function(e,t){return nr(bt(t.getClientRects()),Ht(e.getClientRects()),wo).getOr(!1)},fe.isBelow=function(e,t){return nr(Ht(t.getClientRects()),bt(e.getClientRects()),Eo).getOr(!1)},fe.isAtStart=function(e){return e?e.isAtStart():!1},fe.isAtEnd=function(e){return e?e.isAtEnd():!1},fe.isTextPosition=function(e){return e?Ge(e.container()):!1},fe.isElementPosition=function(e){return fe.isTextPosition(e)===!1};var Yu=function(e,t){Ge(t)&&t.data.length===0&&e.remove(t)},nk=function(e,t,n){t.insertNode(n),Yu(e,n.previousSibling),Yu(e,n.nextSibling)},rk=function(e,t,n){var r=S.from(n.firstChild),a=S.from(n.lastChild);t.insertNode(n),r.each(function(i){return Yu(e,i.previousSibling)}),a.each(function(i){return Yu(e,i.nextSibling)})},zc=function(e,t,n){Xf(n)?rk(e,t,n):nk(e,t,n)},qr=Ge,rm=Ei,am=zt.nodeIndex,im=function(e){var t=e.parentNode;return rm(t)?im(t):t},Wc=function(e){return e?aa(e.childNodes,function(t,n){return rm(n)&&n.nodeName!=="BR"?t=t.concat(Wc(n)):t.push(n),t},[]):[]},ak=function(e,t){for(;(e=e.previousSibling)&&qr(e);)t+=e.data.length;return t},om=function(e){return function(t){return e===t}},ik=function(e){var t,n;t=Wc(im(e)),n=ka(t,om(e),e),t=t.slice(0,n+1);var r=aa(t,function(a,i,s){return qr(i)&&qr(t[s-1])&&a++,a},0);return t=Vn(t,Rr([e.nodeName])),n=ka(t,om(e),e),n-r},sm=function(e){var t;return qr(e)?t="text()":t=e.nodeName.toLowerCase(),t+"["+ik(e)+"]"},ok=function(e,t,n){var r=[];for(t=t.parentNode;t!==e&&!(n&&n(t));t=t.parentNode)r.push(t);return r},um=function(e,t){var n,r,a=[],i,s,u;return n=t.container(),r=t.offset(),qr(n)?i=ak(n,r):(s=n.childNodes,r>=s.length?(i="after",r=s.length-1):i="before",n=s[r]),a.push(sm(n)),u=ok(e,n),u=Vn(u,w(Ei)),a=a.concat(Wt(u,function(l){return sm(l)})),a.reverse().join("/")+","+i},sk=function(e,t,n){var r=Wc(e);return r=Vn(r,function(a,i){return!qr(a)||!qr(r[i-1])}),r=Vn(r,Rr([t])),r[n]},uk=function(e,t){for(var n=e,r=0,a;qr(n);){if(a=n.data.length,t>=r&&t<=r+a){e=n,t=t-r;break}if(!qr(n.nextSibling)){e=n,t=a;break}r+=a,n=n.nextSibling}return qr(e)&&t>e.data.length&&(t=e.data.length),fe(e,t)},lm=function(e,t){var n;if(!t)return null;var r=t.split(","),a=r[0].split("/");n=r.length>1?r[1]:"before";var i=aa(a,function(s,u){var l=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(u);return l?(l[1]==="text()"&&(l[1]="#text"),sk(s,l[1],parseInt(l[2],10))):null},e);return i?qr(i)?uk(i,parseInt(n,10)):(n==="after"?n=am(i)+1:n=am(i),fe(i.parentNode,n)):null},Ku=Jt,lk=function(e,t,n){var r,a;for(a=e(t.data.slice(0,n)).length,r=t.previousSibling;r&&Ge(r);r=r.previousSibling)a+=e(r.data).length;return a},fm=function(e,t,n,r,a){var i=r[a?"startContainer":"endContainer"],s=r[a?"startOffset":"endOffset"],u=[],l,v=0,g=e.getRoot();for(Ge(i)?u.push(n?lk(t,i,s):s):(l=i.childNodes,s>=l.length&&l.length&&(v=1,s=Math.max(0,l.length-1)),u.push(e.nodeIndex(l[s],n)+v));i&&i!==g;i=i.parentNode)u.push(e.nodeIndex(i,n));return u},fk=function(e,t,n,r){var a=t.dom,i={};return i.start=fm(a,e,n,r,!0),t.isCollapsed()||(i.end=fm(a,e,n,r,!1)),tg(r)&&(i.isFakeCaret=!0),i},Yc=function(e,t,n){var r=0;return he.each(e.select(t),function(a){if(a.getAttribute("data-mce-bogus")!=="all"){if(a===n)return!1;r++}}),r},cm=function(e,t){var n,r,a,i=t?"start":"end";n=e[i+"Container"],r=e[i+"Offset"],lt(n)&&n.nodeName==="TR"&&(a=n.childNodes,n=a[Math.min(t?r:r-1,a.length-1)],n&&(r=t?0:n.childNodes.length,e["set"+(t?"Start":"End")](n,r)))},dm=function(e){return cm(e,!0),cm(e,!1),e},vm=function(e,t){var n;if(lt(e)&&(e=ni(e,t),Ku(e)))return e;if(gr(e)&&(Ge(e)&&uo(e)&&(e=e.parentNode),n=e.previousSibling,Ku(n)||(n=e.nextSibling,Ku(n))))return n},ck=function(e){return vm(e.startContainer,e.startOffset)||vm(e.endContainer,e.endOffset)},pm=function(e,t,n){var r=n.getNode(),a=r?r.nodeName:null,i=n.getRng();if(Ku(r)||a==="IMG")return{name:a,index:Yc(n.dom,a,r)};var s=ck(i);return s?(a=s.tagName,{name:a,index:Yc(n.dom,a,s)}):fk(e,n,t,i)},dk=function(e){var t=e.getRng();return{start:um(e.dom.getRoot(),fe.fromRangeStart(t)),end:um(e.dom.getRoot(),fe.fromRangeEnd(t))}},vk=function(e){return{rng:e.getRng()}},hm=function(e,t,n){var r={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return n?e.create("span",r,"&#xFEFF;"):e.create("span",r)},gm=function(e,t){var n=e.dom,r=e.getRng(),a=n.uniqueId(),i=e.isCollapsed(),s=e.getNode(),u=s.nodeName;if(u==="IMG")return{name:u,index:Yc(n,u,s)};var l=dm(r.cloneRange());if(!i){l.collapse(!1);var v=hm(n,a+"_end",t);zc(n,l,v)}r=dm(r),r.collapse(!0);var g=hm(n,a+"_start",t);return zc(n,r,g),e.moveToBookmark({id:a,keep:!0}),{id:a}},pk=function(e,t,n){return t===2?pm(Wa,n,e):t===3?dk(e):t?vk(e):gm(e,!1)},mm=h(pm,Ee,!0),hk=zt.DOM,gk="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow",bm=function(e,t,n){var r=e.getParam(t,n);if(r.indexOf("=")!==-1){var a=e.getParam(t,"","hash");return Ve(a,e.id).getOr(n)}else return r},mk=function(e){return e.getParam("iframe_attrs",{})},bk=function(e){return e.getParam("doctype","<!DOCTYPE html>")},yk=function(e){return e.getParam("document_base_url","")},Ck=function(e){return bm(e,"body_id","tinymce")},wk=function(e){return bm(e,"body_class","")},ym=function(e){return e.getParam("content_security_policy","")},Ek=function(e){return e.getParam("br_in_pre",!0)},$n=function(e){if(e.getParam("force_p_newlines",!1))return"p";var t=e.getParam("forced_root_block","p");return t===!1?"":t===!0?"p":t},bs=function(e){return e.getParam("forced_root_block_attrs",{})},Sk=function(e){return e.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},xk=function(e){return e.getParam("no_newline_selector","")},Dk=function(e){return e.getParam("keep_styles",!0)},kk=function(e){return e.getParam("end_container_on_empty_block",!1)},Ok=function(e){return he.explode(e.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large"))},Tk=function(e){return he.explode(e.getParam("font_size_classes",""))},Ak=function(e){return e.getParam("images_dataimg_filter",M,"function")},Cm=function(e){return e.getParam("automatic_uploads",!0,"boolean")},Nk=function(e){return e.getParam("images_reuse_filename",!1,"boolean")},Pk=function(e){return e.getParam("images_replace_blob_uris",!0,"boolean")},wm=function(e){return e.getParam("icons","","string")},Rk=function(e){return e.getParam("icons_url","","string")},Ik=function(e){return e.getParam("images_upload_url","","string")},Bk=function(e){return e.getParam("images_upload_base_path","","string")},Mk=function(e){return e.getParam("images_upload_credentials",!1,"boolean")},$k=function(e){return e.getParam("images_upload_handler",null,"function")},Fk=function(e){return e.getParam("content_css_cors",!1,"boolean")},Em=function(e){return e.getParam("referrer_policy","","string")},Sm=function(e){return e.getParam("language","en","string")},Lk=function(e){return e.getParam("language_url","","string")},xm=function(e){return e.getParam("indent_use_margin",!1)},_k=function(e){return e.getParam("indentation","40px","string")},Vk=function(e){var t=e.getParam("content_css");return ce(t)?xt(t.split(","),_f):le(t)?t:t===!1||e.inline?[]:["default"]},Dm=function(e){var t=e.getParam("font_css",[]);return le(t)?t:xt(t.split(","),_f)},Hk=function(e){return e.getParam("directionality",Kr.isRtl()?"rtl":void 0)},Uk=function(e){return e.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string")},km=function(e){var t=e.getParam("object_resizing");return t===!1||pt.iOS?!1:ce(t)?t:"table,img,figure.image,div,video,iframe"},jk=function(e){return e.getParam("resize_img_proportional",!0,"boolean")},zk=function(e){return e.getParam("placeholder",hk.getAttrib(e.getElement(),"placeholder"),"string")},Om=function(e){return e.getParam("event_root")},Wk=function(e){return e.getParam("service_message")},ys=function(e){return e.getParam("theme")},Yk=function(e){return e.getParam("validate")},Cs=function(e){return e.getParam("inline_boundaries")!==!1},Kk=function(e){return e.getParam("formats")},qk=function(e){var t=e.getParam("preview_styles",gk);return ce(t)?t:""},Gk=function(e){return e.getParam("format_empty_lines",!1,"boolean")},Xk=function(e){return e.getParam("custom_ui_selector","","string")},Jk=function(e){return e.getParam("theme_url")},Qk=function(e){return e.getParam("inline")},Zk=function(e){return e.getParam("hidden_input")},eO=function(e){return e.getParam("submit_patch")},tO=function(e){return e.getParam("encoding")==="xml"},nO=function(e){return e.getParam("add_form_submit_trigger")},rO=function(e){return e.getParam("add_unload_trigger")},aO=function(e){return $n(e)!==""},iO=function(e){return e.getParam("custom_undo_redo_levels",0,"number")},oO=function(e){return e.getParam("disable_nodechange")},sO=function(e){return e.getParam("readonly")},uO=function(e){return e.getParam("content_css_cors")},Kc=function(e){return e.getParam("plugins","","string")},lO=function(e){return e.getParam("external_plugins")},fO=function(e){return e.getParam("block_unsupported_drop",!0,"boolean")},cO=function(e){return e.getParam("visual",!0,"boolean")},dO=function(e){return e.getParam("visual_table_class","mce-item-table","string")},vO=function(e){return e.getParam("visual_anchor_class","mce-item-anchor","string")},pO=function(e){return e.getParam("iframe_aria_text","Rich Text Area. Press ALT-0 for help.","string")},hO=lt,Tm=Ge,Am=function(e){var t=e.parentNode;t&&t.removeChild(e)},Nm=function(e){var t=Wa(e);return{count:e.length-t.length,text:t}},Pm=function(e){for(var t;(t=e.data.lastIndexOf(An))!==-1;)e.deleteData(t,1)},Rm=function(e,t){return Ni(e),t},gO=function(e,t){var n=Nm(e.data.substr(0,t.offset())),r=Nm(e.data.substr(t.offset())),a=n.text+r.text;return a.length>0?(Pm(e),fe(e,t.offset()-n.count)):t},mO=function(e,t){var n=t.container(),r=Qt(ot(n.childNodes),e).map(function(a){return a<t.offset()?fe(n,t.offset()-1):t}).getOr(t);return Ni(e),r},bO=function(e,t){return Tm(e)&&t.container()===e?gO(e,t):Rm(e,t)},yO=function(e,t){return t.container()===e.parentNode?mO(e,t):Rm(e,t)},CO=function(e,t){return fe.isTextPosition(t)?bO(e,t):yO(e,t)},Ni=function(e){hO(e)&&gr(e)&&(eg(e)?e.removeAttribute("data-mce-caret"):Am(e)),Tm(e)&&(Pm(e),e.data.length===0&&Am(e))},qc=Ar().browser,wO=Jt,EO=Ir,SO=gu,xO="*[contentEditable=false],video,audio,embed,object",Im=function(e,t,n){var r=qg(t.getBoundingClientRect(),n),a,i;if(e.tagName==="BODY"){var s=e.ownerDocument.documentElement;a=e.scrollLeft||s.scrollLeft,i=e.scrollTop||s.scrollTop}else{var u=e.getBoundingClientRect();a=e.scrollLeft-u.left,i=e.scrollTop-u.top}r.left+=a,r.right+=a,r.top+=i,r.bottom+=i,r.width=1;var l=t.offsetWidth-t.clientWidth;return l>0&&(n&&(l*=-1),r.left+=l,r.right+=l),r},DO=function(e){for(var t=rr(Z.fromDom(e),xO),n=0;n<t.length;n++){var r=t[n].dom,a=r.previousSibling;if(ku(a)){var i=a.data;i.length===1?a.parentNode.removeChild(a):a.deleteData(i.length-1,1)}if(a=r.nextSibling,Du(a)){var i=a.data;i.length===1?a.parentNode.removeChild(a):a.deleteData(0,1)}}},kO=function(e,t,n,r){var a=bo(),i,s,u=$n(e),l=u.length>0?u:"p",v=function(k,T){var F;if(g(),SO(T))return null;if(n(T)){s=WS(l,T,k);var R=Im(t,T,k);dt(s).css("top",R.top);var G=dt('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(st({},R)).appendTo(t)[0];a.set({caret:G,element:T,before:k}),k&&dt(G).addClass("mce-visual-caret-before"),m(),F=T.ownerDocument.createRange(),F.setStart(s,0),F.setEnd(s,0)}else return s=jS(T,k),F=T.ownerDocument.createRange(),ws(s.nextSibling)?(F.setStart(s,0),F.setEnd(s,0)):(F.setStart(s,1),F.setEnd(s,1)),F;return F},g=function(){DO(t),s&&(Ni(s),s=null),a.on(function(k){dt(k.caret).remove(),a.clear()}),i&&(In.clearInterval(i),i=void 0)},m=function(){i=In.setInterval(function(){r()?dt("div.mce-visual-caret",t).toggleClass("mce-visual-caret-hidden"):dt("div.mce-visual-caret",t).addClass("mce-visual-caret-hidden")},500)},C=function(){a.on(function(k){var T=Im(t,k.element,k.before);dt(k.caret).css(st({},T))})},x=function(){return In.clearInterval(i)},D=function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"};return{show:v,hide:g,getCss:D,reposition:C,destroy:x}},Bm=function(){return qc.isIE()||qc.isEdge()||qc.isFirefox()},ws=function(e){return wO(e)||EO(e)},Pi=function(e){return ws(e)||ro(e)&&Bm()},Gc=Jt,OO=Ir,TO=hu("display","block table table-cell table-caption list-item"),Mm=gr,$m=uo,Fm=lt,AO=fa,So=function(e){return e>0},Ri=function(e){return e<0},qu=function(e,t){for(var n;n=e(t);)if(!$m(n))return n;return null},xo=function(e,t,n,r,a){var i=new Cn(e,r),s=Gc(e)||$m(e);if(Ri(t)){if(s&&(e=qu(i.prev.bind(i),!0),n(e)))return e;for(;e=qu(i.prev.bind(i),a);)if(n(e))return e}if(So(t)){if(s&&(e=qu(i.next.bind(i),!0),n(e)))return e;for(;e=qu(i.next.bind(i),a);)if(n(e))return e}return null},ai=function(e,t){for(;e&&e!==t;){if(TO(e))return e;e=e.parentNode}return null},va=function(e,t,n){return ai(e.container(),n)===ai(t.container(),n)},Xc=function(e,t){if(!t)return null;var n=t.container(),r=t.offset();return Fm(n)?n.childNodes[r+e]:null},Lm=function(e,t){var n=t.ownerDocument.createRange();return e?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),n},NO=function(e,t,n){return ai(t,e)===ai(n,e)},_m=function(e,t,n){for(var r=e?"previousSibling":"nextSibling";n&&n!==t;){var a=n[r];if(Mm(a)&&(a=a[r]),Gc(a)||OO(a)){if(NO(t,a,n))return a;break}if(AO(a))break;n=n.parentNode}return null},Es=h(Lm,!0),Ss=h(Lm,!1),Jc=function(e,t,n){var r,a=h(_m,!0,t),i=h(_m,!1,t),s=n.startContainer,u=n.startOffset;if(uo(s)){Fm(s)||(s=s.parentNode);var l=s.getAttribute("data-mce-caret");if(l==="before"&&(r=s.nextSibling,Pi(r)))return Es(r);if(l==="after"&&(r=s.previousSibling,Pi(r)))return Ss(r)}if(!n.collapsed)return n;if(Ge(s)){if(Mm(s)){if(e===1){if(r=i(s),r)return Es(r);if(r=a(s),r)return Ss(r)}if(e===-1){if(r=a(s),r)return Ss(r);if(r=i(s),r)return Es(r)}return n}if(ku(s)&&u>=s.data.length-1)return e===1&&(r=i(s),r)?Es(r):n;if(Du(s)&&u<=1)return e===-1&&(r=a(s),r)?Ss(r):n;if(u===s.data.length)return r=i(s),r?Es(r):n;if(u===0)return r=a(s),r?Ss(r):n}return n},Vm=function(e,t){return S.from(Xc(e?0:-1,t)).filter(Gc)},xs=function(e,t,n){var r=Jc(e,t,n);return e===-1?fe.fromRangeStart(r):fe.fromRangeEnd(r)},Gu=function(e){return S.from(e.getNode()).map(Z.fromDom)},PO=function(e){return S.from(e.getNode(!0)).map(Z.fromDom)},Qc=function(e,t){for(;t=e(t);)if(t.isVisible())return t;return t},Xu=function(e,t){var n=va(e,t);return!n&&sn(e.getNode())?!0:n},Sn;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(Sn||(Sn={}));var RO=Jt,pa=Ge,Hm=lt,Zc=sn,Do=fa,Um=nx,Ju=Ou,IO=function(e,t){for(var n=[];e&&e!==t;)n.push(e),e=e.parentNode;return n},jm=function(e,t){return e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null},zm=function(e,t){if(So(e)){if(Do(t.previousSibling)&&!pa(t.previousSibling))return fe.before(t);if(pa(t))return fe(t,0)}if(Ri(e)){if(Do(t.nextSibling)&&!pa(t.nextSibling))return fe.after(t);if(pa(t))return fe(t,t.data.length)}return Ri(e)?Zc(t)?fe.before(t):fe.after(t):fe.before(t)},BO=function(e,t){var n=t.nextSibling;return n&&Do(n)?pa(n)?fe(n,0):fe.before(n):ed(Sn.Forwards,fe.after(t),e)},ed=function(e,t,n){var r,a,i,s;if(!Hm(n)||!t)return null;if(t.isEqual(fe.after(n))&&n.lastChild){if(s=fe.after(n.lastChild),Ri(e)&&Do(n.lastChild)&&Hm(n.lastChild))return Zc(n.lastChild)?fe.before(n.lastChild):s}else s=t;var u=s.container(),l=s.offset();if(pa(u)){if(Ri(e)&&l>0)return fe(u,--l);if(So(e)&&l<u.length)return fe(u,++l);r=u}else{if(Ri(e)&&l>0&&(a=jm(u,l-1),Do(a)))return!Um(a)&&(i=xo(a,e,Ju,a),i)?pa(i)?fe(i,i.data.length):fe.after(i):pa(a)?fe(a,a.data.length):fe.before(a);if(So(e)&&l<u.childNodes.length&&(a=jm(u,l),Do(a)))return Zc(a)?BO(n,a):!Um(a)&&(i=xo(a,e,Ju,a),i)?pa(i)?fe(i,0):fe.before(i):pa(a)?fe(a,0):fe.after(a);r=a||s.getNode()}if((So(e)&&s.isAtEnd()||Ri(e)&&s.isAtStart())&&(r=xo(r,e,M,n,!0),Ju(r,n)))return zm(e,r);a=xo(r,e,Ju,n);var v=ia(it(IO(u,n),RO));return v&&(!a||!v.contains(a))?(So(e)?s=fe.after(v):s=fe.before(v),s):a?zm(e,a):null},Gr=function(e){return{next:function(t){return ed(Sn.Forwards,t,e)},prev:function(t){return ed(Sn.Backwards,t,e)}}},MO=function(e,t,n){var r=e?fe.before(n):fe.after(n);return yr(e,t,r)},$O=function(e){return sn(e)?fe.before(e):fe.after(e)},Wm=function(e){return fe.isTextPosition(e)?e.offset()===0:fa(e.getNode())},Ym=function(e){if(fe.isTextPosition(e)){var t=e.container();return e.offset()===t.data.length}else return fa(e.getNode(!0))},Km=function(e,t){return!fe.isTextPosition(e)&&!fe.isTextPosition(t)&&e.getNode()===t.getNode(!0)},FO=function(e){return!fe.isTextPosition(e)&&sn(e.getNode())},LO=function(e,t,n){return e?!Km(t,n)&&!FO(t)&&Ym(t)&&Wm(n):!Km(n,t)&&Wm(t)&&Ym(n)},yr=function(e,t,n){var r=Gr(t);return S.from(e?r.next(n):r.prev(n))},Qu=function(e,t,n){return yr(e,t,n).bind(function(r){return va(n,r,t)&&LO(e,n,r)?yr(e,t,r):S.some(r)})},qm=function(e,t,n,r){return Qu(e,t,n).bind(function(a){return r(a)?qm(e,t,a,r):S.some(a)})},ko=function(e,t){var n=e?t.firstChild:t.lastChild;return Ge(n)?S.some(fe(n,e?0:n.data.length)):n?fa(n)?S.some(e?fe.before(n):$O(n)):MO(e,t,n):S.none()},Xr=h(yr,!0),ha=h(yr,!1),Jn=h(ko,!0),ga=h(ko,!1),Gm="_mce_caret",ma=function(e){return lt(e)&&e.id===Gm},Ii=function(e,t){for(;t&&t!==e;){if(t.id===Gm)return t;t=t.parentNode}return null},_O=function(e){return ce(e.start)},VO=function(e){return $e(e,"rng")},HO=function(e){return $e(e,"id")},UO=function(e){return $e(e,"name")},Xm=function(e){return he.isArray(e.start)},Jm=function(e,t){return lt(t)&&e.isBlock(t)&&!t.innerHTML&&!pt.ie&&(t.innerHTML='<br data-mce-bogus="1" />'),t},jO=function(e,t){var n,r=e.createRng();return n=lm(e.getRoot(),t.start),r.setStart(n.container(),n.offset()),n=lm(e.getRoot(),t.end),r.setEnd(n.container(),n.offset()),r},zO=function(e,t){var n=e.ownerDocument.createTextNode(An);e.appendChild(n),t.setStart(n,0),t.setEnd(n,0)},WO=function(e){return e.hasChildNodes()===!1},YO=function(e,t){return ga(e).fold(N,function(n){return t.setStart(n.container(),n.offset()),t.setEnd(n.container(),n.offset()),!0})},Qm=function(e,t,n){return WO(t)&&Ii(e,t)?(zO(t,n),!0):!1},Zm=function(e,t,n,r){var a=n[t?"start":"end"],i,s,u,l,v=e.getRoot();if(a){for(u=a[0],s=v,i=a.length-1;i>=1;i--){if(l=s.childNodes,Qm(v,s,r))return!0;if(a[i]>l.length-1)return Qm(v,s,r)?!0:YO(s,r);s=l[a[i]]}s.nodeType===3&&(u=Math.min(a[0],s.nodeValue.length)),s.nodeType===1&&(u=Math.min(a[0],s.childNodes.length)),t?r.setStart(s,u):r.setEnd(s,u)}return!0},td=function(e){return Ge(e)&&e.data.length>0},eb=function(e,t,n){var r=e.get(n.id+"_"+t),a,i,s,u,l=n.keep,v,g;if(r){if(a=r.parentNode,t==="start"?(l?r.hasChildNodes()?(a=r.firstChild,i=1):td(r.nextSibling)?(a=r.nextSibling,i=0):td(r.previousSibling)?(a=r.previousSibling,i=r.previousSibling.data.length):(a=r.parentNode,i=e.nodeIndex(r)+1):i=e.nodeIndex(r),v=a,g=i):(l?r.hasChildNodes()?(a=r.firstChild,i=1):td(r.previousSibling)?(a=r.previousSibling,i=r.previousSibling.data.length):(a=r.parentNode,i=e.nodeIndex(r)):i=e.nodeIndex(r),v=a,g=i),!l){for(u=r.previousSibling,s=r.nextSibling,he.each(he.grep(r.childNodes),function(m){Ge(m)&&(m.nodeValue=m.nodeValue.replace(/\uFEFF/g,""))});r=e.get(n.id+"_"+t);)e.remove(r,!0);u&&s&&u.nodeType===s.nodeType&&Ge(u)&&!pt.opera&&(i=u.nodeValue.length,u.appendData(s.nodeValue),e.remove(s),v=u,g=i)}return S.some(fe(v,g))}else return S.none()},KO=function(e,t){var n=e.createRng();return Zm(e,!0,t,n)&&Zm(e,!1,t,n)?S.some(n):S.none()},qO=function(e,t){var n=eb(e,"start",t),r=eb(e,"end",t);return nr(n,r.or(n),function(a,i){var s=e.createRng();return s.setStart(Jm(e,a.container()),a.offset()),s.setEnd(Jm(e,i.container()),i.offset()),s})},GO=function(e,t){return S.from(e.select(t.name)[t.index]).map(function(n){var r=e.createRng();return r.selectNode(n),r})},XO=function(e,t){var n=e.dom;if(t){if(Xm(t))return KO(n,t);if(_O(t))return S.some(jO(n,t));if(HO(t))return qO(n,t);if(UO(t))return GO(n,t);if(VO(t))return S.some(t.rng)}return S.none()},JO=function(e,t,n){return pk(e,t,n)},QO=function(e,t){XO(e,t).each(function(n){e.setRng(n)})},Cr=function(e){return lt(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark"},ZO=function(e){return function(t){return e===t}},Ds=ZO(sr),Oo=function(e){return e!==""&&` \f
\r	\v`.indexOf(e)!==-1},nd=function(e){return!Oo(e)&&!Ds(e)},Zu=function(e){return!!e.nodeType},eT=function(e){return e&&/^(IMG)$/.test(e.nodeName)},tb=function(e,t,n){var r=n.startOffset,a=n.startContainer;if(!(a===n.endContainer&&eT(a.childNodes[r]))&&lt(a)){var i=a.childNodes,s=void 0;r<i.length?(a=i[r],s=new Cn(a,e.getParent(a,e.isBlock))):(a=i[i.length-1],s=new Cn(a,e.getParent(a,e.isBlock)),s.next(!0));for(var u=s.current();u;u=s.next())if(Ge(u)&&!id(u)){n.setStart(u,0),t.setRng(n);return}}},rd=function(e,t,n){if(e){var r=t?"nextSibling":"previousSibling";for(e=n?e:e[r];e;e=e[r])if(lt(e)||!id(e))return e}},ad=function(e,t){return Zu(t)&&(t=t.nodeName),!!e.schema.getTextBlockElements()[t.toLowerCase()]},To=function(e,t,n){return e.schema.isValidChild(t,n)},id=function(e,t){if(t===void 0&&(t=!1),P(e)&&Ge(e)){var n=t?e.data.replace(/ /g," "):e.data;return Si(n)}else return!1},tT=function(e){return P(e)&&Ge(e)&&e.length===0},Pa=function(e,t){return ge(e)?e=e(t):P(t)&&(e=e.replace(/%(\w+)/g,function(n,r){return t[r]||n})),e},od=function(e,t){return e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()},sd=function(e,t,n){return(n==="color"||n==="backgroundColor")&&(t=e.toHex(t)),n==="fontWeight"&&t===700&&(t="bold"),n==="fontFamily"&&(t=t.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+t},el=function(e,t,n){return sd(e,e.getStyle(t,n),n)},nb=function(e,t){var n;return e.getParent(t,function(r){return n=e.getStyle(r,"text-decoration"),n&&n!=="none"}),n},tl=function(e,t,n){return e.getParents(t,n,e.getRoot())},nT=function(e,t){var n=function(r){var a=function(i){return i.length>1&&i.charAt(0)==="%"};return _t(["styles","attributes"],function(i){return Ve(r,i).exists(function(s){var u=le(s)?s:Ne(s);return _t(u,a)})})};return _t(e.formatter.get(t),n)},rT=function(e,t,n){var r=["inline","block","selector","attributes","styles","classes"],a=function(i){return L(i,function(s,u){return _t(r,function(l){return l===u})})};return _t(e.formatter.get(t),function(i){var s=a(i);return _t(e.formatter.get(n),function(u){var l=a(u);return ft(s,l)})})},ba=function(e){return wt(e,"block")},lr=function(e){return wt(e,"selector")},xn=function(e){return wt(e,"inline")},aT=function(e){return lr(e)&&xn(e)&&mu(Ve(e,"mixed"),!0)},ud=function(e){return lr(e)&&e.expand!==!1&&!xn(e)},Ao=Cr,rb=tl,ab=id,iT=ad,oT=function(e){return sn(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling},ib=function(e,t){for(var n=t;n;){if(lt(n)&&e.getContentEditable(n))return e.getContentEditable(n)==="false"?n:t;n=n.parentNode}return t},ob=function(e,t,n,r){for(var a=t.data,i=n;e?i>=0:i<a.length;e?i--:i++)if(r(a.charAt(i)))return e?i+1:i;return-1},sT=function(e,t,n){return ob(e,t,n,function(r){return Ds(r)||Oo(r)})},uT=function(e,t,n){return ob(e,t,n,nd)},sb=function(e,t,n,r,a,i){var s,u=e.getParent(n,e.isBlock)||t,l=function(g,m,C){var x=Kg(e),D=a?x.backwards:x.forwards;return S.from(D(g,m,function(k,T){return Ao(k.parentNode)?-1:(s=k,C(a,k,T))},u))},v=l(n,r,sT);return v.bind(function(g){return i?l(g.container,g.offset+(a?-1:0),uT):S.some(g)}).orThunk(function(){return s?S.some({container:s,offset:a?0:s.length}):S.none()})},ub=function(e,t,n,r,a){Ge(r)&&Wp(r.data)&&r[a]&&(r=r[a]);for(var i=rb(e,r),s=0;s<i.length;s++)for(var u=0;u<t.length;u++){var l=t[u];if(!(P(l.collapsed)&&l.collapsed!==n.collapsed)&&lr(l)&&e.is(i[s],l.selector))return i[s]}return r},lb=function(e,t,n,r){var a=n,i=e.dom,s=i.getRoot(),u=t[0];if(ba(u)&&(a=u.wrapper?null:i.getParent(n,u.block,s)),!a){var l=i.getParent(n,"LI,TD,TH");a=i.getParent(Ge(n)?n.parentNode:n,function(v){return v!==s&&iT(e,v)},l)}if(a&&ba(u)&&u.wrapper&&(a=rb(i,a,"ul,ol").reverse()[0]||a),!a)for(a=n;a[r]&&!i.isBlock(a[r])&&(a=a[r],!od(a,"br")););return a||n},fb=function(e,t,n,r){var a=n.parentNode;return P(n[r])?!1:a===t||ae(a)||e.isBlock(a)?!0:fb(e,t,a,r)},nl=function(e,t,n,r,a){var i=n,s=a?"previousSibling":"nextSibling",u=e.getRoot();if(Ge(n)&&!ab(n)&&(a?r>0:r<n.data.length))return n;for(;;){if(!t[0].block_expand&&e.isBlock(i))return i;for(var l=i[s];l;l=l[s]){var v=Ge(l)&&!fb(e,u,l,s);if(!Ao(l)&&!oT(l)&&!ab(l,v))return i}if(i===u||i.parentNode===u){n=i;break}i=i.parentNode}return n},cb=function(e){return Ao(e.parentNode)||Ao(e)},No=function(e,t,n,r){r===void 0&&(r=!1);var a=t.startContainer,i=t.startOffset,s=t.endContainer,u=t.endOffset,l=e.dom,v=n[0];if(lt(a)&&a.hasChildNodes()&&(a=ni(a,i),Ge(a)&&(i=0)),lt(s)&&s.hasChildNodes()&&(s=ni(s,t.collapsed?u:u-1),Ge(s)&&(u=s.nodeValue.length)),a=ib(l,a),s=ib(l,s),cb(a)&&(a=Ao(a)?a:a.parentNode,t.collapsed?a=a.previousSibling||a:a=a.nextSibling||a,Ge(a)&&(i=t.collapsed?a.length:0)),cb(s)&&(s=Ao(s)?s:s.parentNode,t.collapsed?s=s.nextSibling||s:s=s.previousSibling||s,Ge(s)&&(u=t.collapsed?0:s.length)),t.collapsed){var g=sb(l,e.getBody(),a,i,!0,r);g.each(function(C){var x=C.container,D=C.offset;a=x,i=D});var m=sb(l,e.getBody(),s,u,!1,r);m.each(function(C){var x=C.container,D=C.offset;s=x,u=D})}return(xn(v)||v.block_expand)&&((!xn(v)||!Ge(a)||i===0)&&(a=nl(l,n,a,i,!0)),(!xn(v)||!Ge(s)||u===s.nodeValue.length)&&(s=nl(l,n,s,u,!1))),ud(v)&&(a=ub(l,n,t,a,"previousSibling"),s=ub(l,n,t,s,"nextSibling")),(ba(v)||lr(v))&&(a=lb(e,n,a,"previousSibling"),s=lb(e,n,s,"nextSibling"),ba(v)&&(l.isBlock(a)||(a=nl(l,n,a,i,!0)),l.isBlock(s)||(s=nl(l,n,s,u,!1)))),lt(a)&&(i=l.nodeIndex(a),a=a.parentNode),lt(s)&&(u=l.nodeIndex(s)+1,s=s.parentNode),{startContainer:a,startOffset:i,endContainer:s,endOffset:u}},ks=function(e,t,n){var r=t.startOffset,a=ni(t.startContainer,r),i=t.endOffset,s=ni(t.endContainer,i-1),u=function(k){var T=k[0];Ge(T)&&T===a&&r>=T.data.length&&k.splice(0,1);var F=k[k.length-1];return i===0&&k.length>0&&F===s&&Ge(F)&&k.splice(k.length-1,1),k},l=function(k,T,F){for(var R=[];k&&k!==F;k=k[T])R.push(k);return R},v=function(k,T){return e.getParent(k,function(F){return F.parentNode===T},T)},g=function(k,T,F){for(var R=F?"nextSibling":"previousSibling",G=k,K=G.parentNode;G&&G!==T;G=K){K=G.parentNode;var V=l(G===k?G:G[R],R);V.length&&(F||V.reverse(),n(u(V)))}};if(a===s)return n(u([a]));var m=e.findCommonAncestor(a,s);if(e.isChildOf(a,s))return g(a,m,!0);if(e.isChildOf(s,a))return g(s,m);var C=v(a,m)||a,x=v(s,m)||s;g(a,C,!0);var D=l(C===a?C:C.nextSibling,"nextSibling",x===s?x.nextSibling:x);D.length&&n(u(D)),g(s,x)},ld=function(e){var t=[];if(e)for(var n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},lT=function(e){return Tr(e,function(t){var n=zu(t);return n?[Z.fromDom(n)]:[]})},fT=function(e){return ld(e).length>1},cT=function(e){return it(lT(e),Eu)},dT=function(e){return rr(e,"td[data-mce-selected],th[data-mce-selected]")},db=function(e,t){var n=dT(t);return n.length>0?n:cT(e)},Po=function(e){return db(ld(e.selection.getSel()),Z.fromDom(e.getBody()))},Os=function(e,t){return Cu(e,"table",t)},vT=function(e){var t=e.startContainer,n=e.startOffset;return Ge(t)?n===0?S.some(Z.fromDom(t)):S.none():S.from(t.childNodes[n]).map(Z.fromDom)},pT=function(e){var t=e.endContainer,n=e.endOffset;return Ge(t)?n===t.data.length?S.some(Z.fromDom(t)):S.none():S.from(t.childNodes[n-1]).map(Z.fromDom)},vb=function(e){return xh(e).fold(Y([e]),function(t){return[e].concat(vb(t))})},fd=function(e){return jf(e).fold(Y([e]),function(t){return yn(t)==="br"?Ci(t).map(function(n){return[e].concat(fd(n))}).getOr([]):[e].concat(fd(t))})},cd=function(e,t){return nr(vT(t),pT(t),function(n,r){var a=St(vb(e),h(Yt,n)),i=St(fd(e),h(Yt,r));return a.isSome()&&i.isSome()}).getOr(!1)},dd=function(e,t,n,r){var a=n,i=new Cn(n,a),s=L(e.schema.getMoveCaretBeforeOnEnterElements(),function(u,l){return!qe(["td","th","table"],l.toLowerCase())});do{if(Ge(n)&&he.trim(n.nodeValue).length!==0){r?t.setStart(n,0):t.setEnd(n,n.nodeValue.length);return}if(s[n.nodeName]){r?t.setStartBefore(n):n.nodeName==="BR"?t.setEndBefore(n):t.setEndAfter(n);return}}while(n=r?i.next():i.prev());a.nodeName==="BODY"&&(r?t.setStart(a,0):t.setEnd(a,a.childNodes.length))},rl=function(e){var t=e.selection.getSel();return t&&t.rangeCount>0},vd=function(e,t){var n=Po(e);n.length>0?_e(n,function(r){var a=r.dom,i=e.dom.createRng();i.setStartBefore(a),i.setEndAfter(a),t(i,!0)}):t(e.selection.getRng(),!1)},pd=function(e,t,n){var r=gm(e,t);n(r),e.moveToBookmark(r)},hT=function(e,t){var n=function(i){if(!e(i))throw new Error("Can only get "+t+" value of a "+t+" node");return r(i).getOr("")},r=function(i){return e(i)?S.from(i.dom.nodeValue):S.none()},a=function(i,s){if(!e(i))throw new Error("Can only set raw "+t+" value of a "+t+" node");i.dom.nodeValue=s};return{get:n,getOption:r,set:a}},gT=hT(Nr,"text"),hd=function(e){return gT.get(e)},mT=function(e){return Nr(e)&&hd(e)===An},bT=function(e,t,n,r){return jr(t).fold(function(){return"skipping"},function(a){return r==="br"||mT(t)?"valid":BD(t)?"existing":ma(t.dom)?"caret":!To(e,n,r)||!To(e,yn(a),n)?"invalid-child":"valid"})},yT=function(e,t){var n=No(e,t,[{inline:"span"}]);t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),e.selection.setRng(t)},pb=function(e,t,n,r){var a=t.uid,i=a===void 0?Ug("mce-annotation"):a,s=Rf(t,["uid"]),u=Z.fromTag("span",e);Uu(u,_c()),ua(u,""+ju(),i),ua(u,""+hs(),n);var l=r(i,s),v=l.attributes,g=v===void 0?{}:v,m=l.classes,C=m===void 0?[]:m;return Ha(u,g),VD(u,C),u},CT=function(e,t,n,r,a){var i=[],s=pb(e.getDoc(),a,n,r),u=bo(),l=function(){u.clear()},v=function(){return u.get().getOrThunk(function(){var x=yo(s);return i.push(x),u.set(x),x})},g=function(x){_e(x,m)},m=function(x){var D=bT(e,x,"span",yn(x));switch(D){case"invalid-child":{l();var k=Pr(x);g(k),l();break}case"valid":{var T=v();KE(x,T);break}}},C=function(x){var D=xt(x,Z.fromDom);g(D)};return ks(e.dom,t,function(x){l(),C(x)}),i},wT=function(e,t,n,r){e.undoManager.transact(function(){var a=e.selection,i=a.getRng(),s=Po(e).length>0;if(i.collapsed&&!s&&yT(e,i),a.getRng().collapsed&&!s){var u=pb(e.getDoc(),r,t,n.decorate);jg(u,sr),a.getRng().insertNode(u.dom),a.select(u.dom)}else pd(a,!1,function(){vd(e,function(l){CT(e,l,t,n.decorate,r)})})})},hb=function(e){var t=_D();LD(e,t);var n=FD(e);return{register:function(r,a){t.register(r,a)},annotate:function(r,a){t.lookup(r).each(function(i){wT(e,r,i,a)})},annotationChanged:function(r,a){n.addListener(r,a)},remove:function(r){Vg(e,S.some(r)).each(function(a){var i=a.elements;_e(i,Ah)})},getAll:function(r){var a=$D(e,r);return Zi(a,function(i){return xt(i,function(s){return s.dom})})}}},Ts=function(e){return{getBookmark:h(JO,e),moveToBookmark:h(QO,e)}};Ts.isBookmarkNode=Cr;var Ro=function(e,t){for(;t&&t!==e;){if(sa(t)||Jt(t))return t;t=t.parentNode}return null},gd=function(e,t,n){if(n.collapsed)return!1;if(pt.browser.isIE()&&n.startOffset===n.endOffset-1&&n.startContainer===n.endContainer){var r=n.startContainer.childNodes[n.startOffset];if(lt(r))return _t(r.getClientRects(),function(a){return Xg(a,e,t)})}return _t(n.getClientRects(),function(a){return Xg(a,e,t)})},ET=function(e,t){return e.fire("PreProcess",t)},ST=function(e,t){return e.fire("PostProcess",t)},xT=function(e){return e.fire("remove")},DT=function(e){return e.fire("detach")},kT=function(e,t){return e.fire("SwitchMode",{mode:t})},OT=function(e,t,n,r,a){e.fire("ObjectResizeStart",{target:t,width:n,height:r,origin:a})},TT=function(e,t,n,r,a){e.fire("ObjectResized",{target:t,width:n,height:r,origin:a})},AT=function(e){return e.fire("PreInit")},NT=function(e){return e.fire("PostRender")},PT=function(e){return e.fire("Init")},RT=function(e,t){return e.fire("PlaceholderToggle",{state:t})},gb=function(e,t,n){return e.fire(t,n)},mb=function(e,t,n,r){return e.fire("FormatApply",{format:t,node:n,vars:r})},md=function(e,t,n,r){return e.fire("FormatRemove",{format:t,node:n,vars:r})},rt={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||rt.metaKeyPressed(e)},metaKeyPressed:function(e){return pt.mac?e.metaKey:e.ctrlKey&&!e.altKey}},IT=Jt,bb=function(e,t){var n="data-mce-selected",r=t.dom,a=he.each,i,s,u,l,v,g,m,C,x,D,k,T,F,R,G,K=t.getDoc(),V=document,ne=Math.abs,ve=Math.round,Oe=t.getBody(),nt,ze,me={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},Ze=function(ie){return ie&&(ie.nodeName==="IMG"||t.dom.is(ie,"figure.image"))},Ie=function(ie){return Ir(ie)||r.hasClass(ie,"mce-preview-object")},He=function(ie,Te){if(ie.type==="longpress"||ie.type.indexOf("touch")===0){var xe=ie.touches[0];return Ze(ie.target)&&!gd(xe.clientX,xe.clientY,Te)}else return Ze(ie.target)&&!gd(ie.clientX,ie.clientY,Te)},Pe=function(ie){var Te=ie.target;He(ie,t.selection.getRng())&&!ie.isDefaultPrevented()&&t.selection.select(Te)},Le=function(ie){return r.is(ie,"figure.image")?[ie.querySelector("img")]:r.hasClass(ie,"mce-preview-object")&&P(ie.firstElementChild)?[ie,ie.firstElementChild]:[ie]},Ye=function(ie){var Te=km(t);return!Te||ie.getAttribute("data-mce-resize")==="false"||ie===t.getBody()?!1:r.hasClass(ie,"mce-preview-object")?eo(Z.fromDom(ie.firstElementChild),Te):eo(Z.fromDom(ie),Te)},we=function(ie){return Ie(ie)?r.create("img",{src:pt.transparentSrc}):ie.cloneNode(!0)},We=function(ie,Te,xe){if(P(xe)){var Je=Le(ie);_e(Je,function(et){et.style[Te]||!t.schema.isValid(et.nodeName.toLowerCase(),Te)?r.setStyle(et,Te,xe):r.setAttrib(et,Te,""+xe)})}},mt=function(ie,Te,xe){We(ie,"width",Te),We(ie,"height",xe)},kt=function(ie){var Te,xe,Je,et,Mt;Te=ie.screenX-g,xe=ie.screenY-m,R=Te*l[2]+D,G=xe*l[3]+k,R=R<5?5:R,G=G<5?5:G,(Ze(i)||Ie(i))&&jk(t)!==!1?Je=!rt.modifierPressed(ie):Je=rt.modifierPressed(ie),Je&&(ne(Te)>ne(xe)?(G=ve(R*T),R=ve(G/T)):(R=ve(G/T),G=ve(R*T))),mt(s,R,G),et=l.startPos.x+Te,Mt=l.startPos.y+xe,et=et>0?et:0,Mt=Mt>0?Mt:0,r.setStyles(u,{left:et,top:Mt,display:"block"}),u.innerHTML=R+" &times; "+G,l[2]<0&&s.clientWidth<=R&&r.setStyle(s,"left",C+(D-R)),l[3]<0&&s.clientHeight<=G&&r.setStyle(s,"top",x+(k-G)),Te=Oe.scrollWidth-nt,xe=Oe.scrollHeight-ze,Te+xe!==0&&r.setStyles(u,{left:et-Te,top:Mt-xe}),F||(OT(t,i,D,k,"corner-"+l.name),F=!0)},Dt=function(){var ie=F;F=!1,ie&&(We(i,"width",R),We(i,"height",G)),r.unbind(K,"mousemove",kt),r.unbind(K,"mouseup",Dt),V!==K&&(r.unbind(V,"mousemove",kt),r.unbind(V,"mouseup",Dt)),r.remove(s),r.remove(u),r.remove(v),pn(i),ie&&(TT(t,i,R,G,"corner-"+l.name),r.setAttrib(i,"style",r.getAttrib(i,"style"))),t.nodeChanged()},pn=function(ie){Se();var Te=r.getPos(ie,Oe),xe=Te.x,Je=Te.y,et=ie.getBoundingClientRect(),Mt=et.width||et.right-et.left,un=et.height||et.bottom-et.top;i!==ie&&(Xt(),i=ie,R=G=0);var an=t.fire("ObjectSelected",{target:ie}),$a=r.getAttrib(i,n,"1");Ye(ie)&&!an.isDefaultPrevented()?a(me,function(Ln,zn){var ln,dr=function(Wn){var Sa=Le(i)[0];g=Wn.screenX,m=Wn.screenY,D=Sa.clientWidth,k=Sa.clientHeight,T=k/D,l=Ln,l.name=zn,l.startPos={x:Mt*Ln[0]+xe,y:un*Ln[1]+Je},nt=Oe.scrollWidth,ze=Oe.scrollHeight,v=r.add(Oe,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),r.setStyles(v,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),s=we(i),r.addClass(s,"mce-clonedresizable"),r.setAttrib(s,"data-mce-bogus","all"),s.contentEditable="false",r.setStyles(s,{left:xe,top:Je,margin:0}),mt(s,Mt,un),s.removeAttribute(n),Oe.appendChild(s),r.bind(K,"mousemove",kt),r.bind(K,"mouseup",Dt),V!==K&&(r.bind(V,"mousemove",kt),r.bind(V,"mouseup",Dt)),u=r.add(Oe,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},D+" &times; "+k)};ln=r.get("mceResizeHandle"+zn),ln&&r.remove(ln),ln=r.add(Oe,"div",{id:"mceResizeHandle"+zn,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+zn+"-resize; margin:0; padding:0"}),pt.ie===11&&(ln.contentEditable=!1),r.bind(ln,"mousedown",function(Wn){Wn.stopImmediatePropagation(),Wn.preventDefault(),dr(Wn)}),Ln.elm=ln,r.setStyles(ln,{left:Mt*Ln[0]+xe-ln.offsetWidth/2,top:un*Ln[1]+Je-ln.offsetHeight/2})}):Xt(),r.getAttrib(i,n)||i.setAttribute(n,$a)},Xt=function(){Se(),i&&i.removeAttribute(n),Ut(me,function(ie,Te){var xe=r.get("mceResizeHandle"+Te);xe&&(r.unbind(xe),r.remove(xe))})},Fn=function(ie){var Te,xe,Je=function(et,Mt){if(et)do if(et===Mt)return!0;while(et=et.parentNode)};if(!(F||t.removed)){if(a(r.select("img[data-mce-selected],hr[data-mce-selected]"),function(et){et.removeAttribute(n)}),xe=ie.type==="mousedown"?ie.target:e.getNode(),xe=r.$(xe).closest("table,img,figure.image,hr,video,span.mce-preview-object")[0],Je(xe,Oe)&&(Be(),Te=e.getStart(!0),Je(Te,xe)&&Je(e.getEnd(!0),xe))){pn(xe);return}Xt()}},ar=function(ie){return IT(Ro(t.getBody(),ie))},Se=function(){Ut(me,function(ie){ie.elm&&(r.unbind(ie.elm),delete ie.elm)})},Be=function(){try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};t.on("init",function(){if(Be(),pt.browser.isIE()||pt.browser.isEdge()){t.on("mousedown click",function(xe){var Je=xe.target,et=Je.nodeName;!F&&/^(TABLE|IMG|HR)$/.test(et)&&!ar(Je)&&(xe.button!==2&&t.selection.select(Je,et==="TABLE"),xe.type==="mousedown"&&t.nodeChanged())});var ie=function(xe){var Je=function(et){In.setEditorTimeout(t,function(){return t.selection.select(et)})};if(ar(xe.target)||Ir(xe.target)){xe.preventDefault(),Je(xe.target);return}/^(TABLE|IMG|HR)$/.test(xe.target.nodeName)&&(xe.preventDefault(),xe.target.tagName==="IMG"&&Je(xe.target))};r.bind(Oe,"mscontrolselect",ie),t.on("remove",function(){return r.unbind(Oe,"mscontrolselect",ie)})}var Te=In.throttle(function(xe){t.composing||Fn(xe)});t.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",Te),t.on("keyup compositionend",function(xe){i&&i.nodeName==="TABLE"&&Te(xe)}),t.on("hide blur",Xt),t.on("contextmenu longpress",Pe,!0)}),t.on("remove",Se);var Xe=function(){i=s=v=null};return{isResizable:Ye,showResizeRect:pn,hideResizeRect:Xt,updateResizeRect:Fn,destroy:Xe}},BT=function(e){return sa(e)||Jt(e)},MT=function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null},$T=function(e,t,n){var r,a=n.elementFromPoint(e,t),i=n.body.createTextRange();if((!a||a.tagName==="HTML")&&(a=n.body),i.moveToElementText(a),r=he.toArray(i.getClientRects()),r=r.sort(function(s,u){return s=Math.abs(Math.max(s.top-t,s.bottom-t)),u=Math.abs(Math.max(u.top-t,u.bottom-t)),s-u}),r.length>0){t=(r[0].bottom+r[0].top)/2;try{return i.moveToPoint(e,t),i.collapse(!0),i}catch{}}return null},FT=function(e,t){var n=e&&e.parentElement?e.parentElement():null;return Jt(MT(n,t,BT))?null:e},bd=function(e,t,n){var r,a,i=n;if(i.caretPositionFromPoint)a=i.caretPositionFromPoint(e,t),a&&(r=n.createRange(),r.setStart(a.offsetNode,a.offset),r.collapse(!0));else if(i.caretRangeFromPoint)r=i.caretRangeFromPoint(e,t);else if(i.body.createTextRange){r=i.body.createTextRange();try{r.moveToPoint(e,t),r.collapse(!0)}catch{r=$T(e,t,n)}return FT(r,n.body)}return r},yd=function(e,t){return e&&t&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset},LT=function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null},yb=function(e,t,n){return LT(e,t,n)!==null},_T=function(e,t,n){return yb(e,t,function(r){return r.nodeName===n})},Cd=function(e){return e&&e.nodeName==="TABLE"},VT=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},HT=function(e,t){return gr(e)&&yb(e,t,ma)===!1},Cb=function(e,t,n){for(var r=new Cn(t,e.getParent(t.parentNode,e.isBlock)||e.getRoot());t=r[n?"prev":"next"]();)if(sn(t))return!0},UT=function(e,t){return e.previousSibling&&e.previousSibling.nodeName===t},jT=function(e,t){for(;t&&t!==e;){if(Jt(t))return!0;t=t.parentNode}return!1},wd=function(e,t,n,r,a){var i,s=e.getRoot(),u,l=e.schema.getNonEmptyElements(),v=e.getParent(a.parentNode,e.isBlock)||s;if(r&&sn(a)&&t&&e.isEmpty(v))return S.some(fe(a.parentNode,e.nodeIndex(a)));for(var g=new Cn(a,v);u=g[r?"prev":"next"]();){if(e.getContentEditableParent(u)==="false"||HT(u,s))return S.none();if(Ge(u)&&u.nodeValue.length>0)return _T(u,s,"A")===!1?S.some(fe(u,r?u.nodeValue.length:0)):S.none();if(e.isBlock(u)||l[u.nodeName.toLowerCase()])return S.none();i=u}return n&&i?S.some(fe(i,0)):S.none()},wb=function(e,t,n,r){var a,i,s=e.getRoot(),u,l,v=!1;a=r[(n?"start":"end")+"Container"],i=r[(n?"start":"end")+"Offset"];var g=lt(a)&&i===a.childNodes.length,m=e.schema.getNonEmptyElements();if(l=n,gr(a))return S.none();if(lt(a)&&i>a.childNodes.length-1&&(l=!1),Gf(a)&&(a=s,i=0),a===s){if(l&&(u=a.childNodes[i>0?i-1:0],u&&(gr(u)||m[u.nodeName]||Cd(u))))return S.none();if(a.hasChildNodes()){if(i=Math.min(!l&&i>0?i-1:i,a.childNodes.length-1),a=a.childNodes[i],i=Ge(a)&&g?a.data.length:0,!t&&a===s.lastChild&&Cd(a)||jT(s,a)||gr(a))return S.none();if(a.hasChildNodes()&&Cd(a)===!1){u=a;var C=new Cn(a,s);do{if(Jt(u)||gr(u)){v=!1;break}if(Ge(u)&&u.nodeValue.length>0){i=l?0:u.nodeValue.length,a=u,v=!0;break}if(m[u.nodeName.toLowerCase()]&&!VT(u)){i=e.nodeIndex(u),a=u.parentNode,l||i++,v=!0;break}}while(u=l?C.next():C.prev())}}}return t&&(Ge(a)&&i===0&&wd(e,g,t,!0,a).each(function(x){a=x.container(),i=x.offset(),v=!0}),lt(a)&&(u=a.childNodes[i],u||(u=a.childNodes[i-1]),u&&sn(u)&&!UT(u,"A")&&!Cb(e,u,!1)&&!Cb(e,u,!0)&&wd(e,g,t,!0,u).each(function(x){a=x.container(),i=x.offset(),v=!0}))),l&&!t&&Ge(a)&&i===a.nodeValue.length&&wd(e,g,t,!1,a).each(function(x){a=x.container(),i=x.offset(),v=!0}),v?S.some(fe(a,i)):S.none()},al=function(e,t){var n=t.collapsed,r=t.cloneRange(),a=fe.fromRangeStart(t);return wb(e,n,!0,r).each(function(i){(!n||!fe.isAbove(a,i))&&r.setStart(i.container(),i.offset())}),n||wb(e,n,!1,r).each(function(i){r.setEnd(i.container(),i.offset())}),n&&r.collapse(!0),yd(t,r)?S.none():S.some(r)},il=function(e,t){return e.splitText(t)},ol=function(e){var t=e.startContainer,n=e.startOffset,r=e.endContainer,a=e.endOffset;return t===r&&Ge(t)?n>0&&n<t.nodeValue.length&&(r=il(t,n),t=r.previousSibling,a>n?(a=a-n,t=r=il(r,a).previousSibling,a=r.nodeValue.length,n=0):a=0):(Ge(t)&&n>0&&n<t.nodeValue.length&&(t=il(t,n),n=0),Ge(r)&&a>0&&a<r.nodeValue.length&&(r=il(r,a).previousSibling,a=r.nodeValue.length)),{startContainer:t,startOffset:n,endContainer:r,endOffset:a}},As=function(e){var t=function(a,i){return ks(e,a,i)},n=ol,r=function(a){return al(e,a).fold(N,function(i){return a.setStart(i.startContainer,i.startOffset),a.setEnd(i.endContainer,i.endOffset),!0})};return{walk:t,split:n,normalize:r}};As.compareRanges=yd,As.getCaretRangeFromPoint=bd,As.getSelectedNode=zu,As.getNode=ni;var zT=function(e,t){var n=function(u,l){if(!Ue(l)&&!l.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+l);var v=u.dom;bu(v)&&(v.style[e]=l+"px")},r=function(u){var l=t(u);if(l<=0||l===null){var v=Ta(u,e);return parseFloat(v)||0}return l},a=r,i=function(u,l){return Gt(l,function(v,g){var m=Ta(u,g),C=m===void 0?0:parseInt(m,10);return isNaN(C)?v:v+C},0)},s=function(u,l,v){var g=i(u,v),m=l>g?l-g:0;return m};return{set:n,get:r,getOuter:a,aggregate:i,max:s}},WT=zT("height",function(e){var t=e.dom;return rs(e)?t.getBoundingClientRect().height:t.offsetHeight}),YT=function(e){return WT.get(e)},Eb=function(e,t){var n=e.view(t);return n.fold(Y([]),function(r){var a=e.owner(r),i=Eb(e,a);return[r].concat(i)})},KT=function(e,t){var n=t.owner(e);return Eb(t,n)},qT=function(e){var t,n=e.dom===document?S.none():S.from((t=e.dom.defaultView)===null||t===void 0?void 0:t.frameElement);return n.map(Z.fromDom)},GT=function(e){return to(e)},XT=Object.freeze({__proto__:null,view:qT,owner:GT}),JT=function(e){var t=Z.fromDom(document),n=Kf(t),r=KT(e,XT),a=Yf(e),i=_n(r,function(s,u){var l=Yf(u);return{left:s.left+l.left,top:s.top+l.top}},{left:0,top:0});return no(i.left+a.left+n.left,i.top+a.top+n.top)},Ed=function(e){return yn(e)==="textarea"},QT=function(e,t){var n=e.fire("ScrollIntoView",t);return n.isDefaultPrevented()},ZT=function(e,t){e.fire("AfterScrollIntoView",t)},eA=function(e,t){var n=Pr(e);if(n.length===0||Ed(e))return{element:e,offset:t};if(t<n.length&&!Ed(n[t]))return{element:n[t],offset:0};var r=n[n.length-1];return Ed(r)?{element:e,offset:t}:yn(r)==="img"?{element:r,offset:1}:Nr(r)?{element:r,offset:hd(r).length}:{element:r,offset:Pr(r).length}},Sb=function(e,t){var n=XE(e),r=YT(e);return{element:e,bottom:n.top+r,height:r,pos:n,cleanup:t}},tA=function(e,t){var n=eA(e,t),r=Z.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+An+"</span>");return zr(n.element,r),Sb(r,function(){return Tn(r)})},nA=function(e){return Sb(Z.fromDom(e),pe)},xb=function(e,t,n,r){aA(e,function(a,i){return rA(e,t,n,r)},n)},Db=function(e,t,n,r,a){var i={elm:r.element.dom,alignToTop:a};if(!QT(e,i)){var s=Kf(t).top;n(t,s,r,a),ZT(e,i)}},rA=function(e,t,n,r){var a=Z.fromDom(e.getBody()),i=Z.fromDom(e.getDoc());lS(a);var s=tA(Z.fromDom(n.startContainer),n.startOffset);Db(e,i,t,s,r),s.cleanup()},kb=function(e,t,n,r){var a=Z.fromDom(e.getDoc());Db(e,a,n,nA(t),r)},aA=function(e,t,n){var r=n.startContainer,a=n.startOffset,i=n.endContainer,s=n.endOffset;t(Z.fromDom(r),Z.fromDom(i));var u=e.dom.createRng();u.setStart(r,a),u.setEnd(i,s),e.selection.setRng(n)},Sd=function(e,t,n,r){var a=e.pos;if(n)Ph(a.left,a.top,r);else{var i=a.top-t+e.height;Ph(a.left,i,r)}},Ob=function(e,t,n,r,a){var i=n+t,s=r.pos.top,u=r.bottom,l=u-s>=n;if(s<t)Sd(r,n,a!==!1,e);else if(s>i){var v=l?a!==!1:a===!0;Sd(r,n,v,e)}else u>i&&!l&&Sd(r,n,a===!0,e)},Tb=function(e,t,n,r){var a=e.dom.defaultView.innerHeight;Ob(e,t,a,n,r)},Ab=function(e,t,n,r){var a=e.dom.defaultView.innerHeight;Ob(e,t,a,n,r);var i=JT(n.element),s=Bh(window);i.top<s.y?Rh(n.element,r!==!1):i.top>s.bottom&&Rh(n.element,r===!0)},iA=function(e,t,n){return xb(e,Tb,t,n)},oA=function(e,t,n){return kb(e,t,Tb,n)},sA=function(e,t,n){return xb(e,Ab,t,n)},uA=function(e,t,n){return kb(e,t,Ab,n)},lA=function(e,t,n){var r=e.inline?oA:uA;r(e,t,n)},Ns=function(e,t,n){var r=e.inline?iA:sA;r(e,t,n)},fA=function(){return Z.fromDom(document)},cA=function(e){return e.dom.focus()},Nb=function(e){var t=wi(e).dom;return e.dom===t.activeElement},xd=function(e){return e===void 0&&(e=fA()),S.from(e.dom.activeElement).map(Z.fromDom)},dA=function(e){return xd(wi(e)).filter(function(t){return e.dom.contains(t.dom)})},vA=function(e,t,n,r){return{start:e,soffset:t,finish:n,foffset:r}},pA={create:vA},Dd=ja.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),hA=function(e,t,n,r){return e.fold(t,n,r)},gA=function(e){return e.fold(Ee,Ee,Ee)},mA=Dd.before,bA=Dd.on,yA=Dd.after,CA={before:mA,on:bA,after:yA,cata:hA,getStart:gA},sl=ja.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),wA=function(e){return sl.exact(e.start,e.soffset,e.finish,e.foffset)},EA=function(e){return e.match({domRange:function(t){return Z.fromDom(t.startContainer)},relative:function(t,n){return CA.getStart(t)},exact:function(t,n,r,a){return t}})},SA=sl.domRange,xA=sl.relative,DA=sl.exact,kA=function(e){var t=EA(e);return wh(t)},OA=pA.create,Pb={domRange:SA,relative:xA,exact:DA,exactFromRange:wA,getWin:kA,range:OA},TA=Ar().browser,Rb=function(e,t){var n=Nr(t)?hd(t).length:Pr(t).length+1;return e>n?n:e<0?0:e},AA=function(e){return Pb.range(e.start,Rb(e.soffset,e.start),e.finish,Rb(e.foffset,e.finish))},Ib=function(e,t){return!pu(t.dom)&&(Va(e,t)||Yt(e,t))},kd=function(e){return function(t){return Ib(e,t.start)&&Ib(e,t.finish)}},Bb=function(e){return e.inline===!0||TA.isIE()},Mb=function(e){return Pb.range(Z.fromDom(e.startContainer),e.startOffset,Z.fromDom(e.endContainer),e.endOffset)},NA=function(e){var t=e.getSelection(),n=!t||t.rangeCount===0?S.none():S.from(t.getRangeAt(0));return n.map(Mb)},PA=function(e){var t=wh(e);return NA(t.dom).filter(kd(e))},RA=function(e,t){return S.from(t).filter(kd(e)).map(AA)},IA=function(e){var t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),S.some(t)}catch{return S.none()}},ul=function(e){var t=Bb(e)?PA(Z.fromDom(e.getBody())):S.none();e.bookmark=t.isSome()?t:e.bookmark},BA=function(e,t){var n=Z.fromDom(e.getBody()),r=Bb(e)?S.from(t):S.none(),a=r.map(Mb).filter(kd(n));e.bookmark=a.isSome()?a:e.bookmark},Od=function(e){var t=e.bookmark?e.bookmark:S.none();return t.bind(function(n){return RA(Z.fromDom(e.getBody()),n)}).bind(IA)},MA=function(e){Od(e).each(function(t){return e.selection.setRng(t)})},$A=function(e){var t=e.className.toString();return t.indexOf("tox-")!==-1||t.indexOf("mce-")!==-1},$b={isEditorUIElement:$A},FA=function(e){return e.type==="nodechange"&&e.selectionChange},LA=function(e,t){var n=function(){t.throttle()};zt.DOM.bind(document,"mouseup",n),e.on("remove",function(){zt.DOM.unbind(document,"mouseup",n)})},_A=function(e){e.on("focusout",function(){ul(e)})},VA=function(e,t){e.on("mouseup touchend",function(n){t.throttle()})},HA=function(e,t){var n=Ar().browser;n.isIE()?_A(e):VA(e,t),e.on("keyup NodeChange",function(r){FA(r)||ul(e)})},UA=function(e){var t=Fc(function(){ul(e)},0);e.on("init",function(){e.inline&&LA(e,t),HA(e,t)}),e.on("remove",function(){t.cancel()})},Ps,Td=zt.DOM,jA=function(e){return $b.isEditorUIElement(e)},zA=function(e){var t=e.classList;return t!==void 0?t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"):!1},ll=function(e,t){var n=Xk(e),r=Td.getParent(t,function(a){return jA(a)||(n?e.dom.is(a,n):!1)});return r!==null},WA=function(e){try{var t=wi(Z.fromDom(e.getElement()));return xd(t).fold(function(){return document.body},function(n){return n.dom})}catch{return document.body}},YA=function(e,t){var n=t.editor;UA(n),n.on("focusin",function(){var r=e.focusedEditor;r!==n&&(r&&r.fire("blur",{focusedEditor:n}),e.setActive(n),e.focusedEditor=n,n.fire("focus",{blurredEditor:r}),n.focus(!0))}),n.on("focusout",function(){In.setEditorTimeout(n,function(){var r=e.focusedEditor;!ll(n,WA(n))&&r===n&&(n.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})}),Ps||(Ps=function(r){var a=e.activeEditor;a&&WE(r).each(function(i){i.ownerDocument===document&&i!==document.body&&!ll(a,i)&&e.focusedEditor===a&&(a.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})},Td.bind(document,"focusin",Ps))},KA=function(e,t){e.focusedEditor===t.editor&&(e.focusedEditor=null),e.activeEditor||(Td.unbind(document,"focusin",Ps),Ps=null)},qA=function(e){e.on("AddEditor",h(YA,e)),e.on("RemoveEditor",h(KA,e))},GA=function(e,t){return e.dom.getParent(t,function(n){return e.dom.getContentEditable(n)==="true"})},XA=function(e){return e.collapsed?S.from(ni(e.startContainer,e.startOffset)).map(Z.fromDom):S.none()},JA=function(e,t){return XA(t).bind(function(n){return LS(n)?S.some(n):Va(e,n)===!1?S.some(e):S.none()})},Fb=function(e,t){JA(Z.fromDom(e.getBody()),t).bind(function(n){return Jn(n.dom)}).fold(function(){e.selection.normalize()},function(n){return e.selection.setRng(n.toRange())})},Ad=function(e){if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},QA=function(e){return Nb(e)||dA(e).isSome()},ZA=function(e){return e.iframeElement&&Nb(Z.fromDom(e.iframeElement))},eN=function(e){var t=e.getBody();return t&&QA(Z.fromDom(t))},tN=function(e){var t=wi(Z.fromDom(e.getElement()));return xd(t).filter(function(n){return!zA(n.dom)&&ll(e,n.dom)}).isSome()},Bi=function(e){return e.inline?eN(e):ZA(e)},nN=function(e){return Bi(e)||tN(e)},rN=function(e){var t=e.selection,n=e.getBody(),r=t.getRng();e.quirks.refreshContentEditable(),e.bookmark!==void 0&&Bi(e)===!1&&Od(e).each(function(i){e.selection.setRng(i),r=i});var a=GA(e,t.getNode());if(e.$.contains(n,a)){Ad(a),Fb(e,r),Nd(e);return}e.inline||(pt.opera||Ad(n),e.getWin().focus()),(pt.gecko||e.inline)&&(Ad(n),Fb(e,r)),Nd(e)},Nd=function(e){return e.editorManager.setActive(e)},aN=function(e,t){e.removed||(t?Nd(e):rN(e))},Lb=function(e,t,n,r,a){var i=n?t.startContainer:t.endContainer,s=n?t.startOffset:t.endOffset;return S.from(i).map(Z.fromDom).map(function(u){return!r||!t.collapsed?cu(u,a(u,s)).getOr(u):u}).bind(function(u){return Ur(u)?S.some(u):jr(u).filter(Ur)}).map(function(u){return u.dom}).getOr(e)},_b=function(e,t,n){return Lb(e,t,!0,n,function(r,a){return Math.min(Dh(r),a)})},Vb=function(e,t,n){return Lb(e,t,!1,n,function(r,a){return a>0?a-1:a})},Hb=function(e,t){for(var n=e;e&&Ge(e)&&e.length===0;)e=t?e.nextSibling:e.previousSibling;return e||n},iN=function(e,t){var n,r,a;if(!t)return e;r=t.startContainer,a=t.endContainer;var i=t.startOffset,s=t.endOffset;return n=t.commonAncestorContainer,!t.collapsed&&(r===a&&s-i<2&&r.hasChildNodes()&&(n=r.childNodes[i]),r.nodeType===3&&a.nodeType===3&&(r.length===i?r=Hb(r.nextSibling,!0):r=r.parentNode,s===0?a=Hb(a.previousSibling,!1):a=a.parentNode,r&&r===a))?r:n&&n.nodeType===3?n.parentNode:n},oN=function(e,t,n,r){var a,i=[],s=e.getRoot();if(n=e.getParent(n||_b(s,t,t.collapsed),e.isBlock),r=e.getParent(r||Vb(s,t,t.collapsed),e.isBlock),n&&n!==s&&i.push(n),n&&r&&n!==r){a=n;for(var u=new Cn(n,s);(a=u.next())&&a!==r;)e.isBlock(a)&&i.push(a)}return r&&n!==r&&r!==s&&i.push(r),i},sN=function(e,t,n){return S.from(t).map(function(r){var a=e.nodeIndex(r),i=e.createRng();return i.setStart(r.parentNode,a),i.setEnd(r.parentNode,a+1),n&&(dd(e,i,r,!0),dd(e,i,r,!1)),i})},Pd=function(e,t){return xt(t,function(n){var r=e.fire("GetSelectionRange",{range:n});return r.range!==n?r.range:n})},uN={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},fl=function(e,t,n){var r=n?"lastChild":"firstChild",a=n?"prev":"next";if(e[r])return e[r];if(e!==t){var i=e[a];if(i)return i;for(var s=e.parent;s&&s!==t;s=s.parent)if(i=s[a],i)return i}},lN=function(e){if(!Si(e.value))return!1;var t=e.parent;return!(t&&(t.name!=="span"||t.attr("style"))&&/^[ ]+$/.test(e.value))},Ub=function(e){var t=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t},Br=function(){function e(t,n){this.name=t,this.type=n,n===1&&(this.attributes=[],this.attributes.map={})}return e.create=function(t,n){var r=new e(t,uN[t]||1);return n&&Ut(n,function(a,i){r.attr(i,a)}),r},e.prototype.replace=function(t){var n=this;return t.parent&&t.remove(),n.insert(t,n),n.remove(),n},e.prototype.attr=function(t,n){var r=this,a;if(typeof t!="string")return t!=null&&Ut(t,function(s,u){r.attr(u,s)}),r;if(a=r.attributes){if(n!==void 0){if(n===null){if(t in a.map){delete a.map[t];for(var i=a.length;i--;)if(a[i].name===t)return a.splice(i,1),r}return r}if(t in a.map){for(var i=a.length;i--;)if(a[i].name===t){a[i].value=n;break}}else a.push({name:t,value:n});return a.map[t]=n,r}return a.map[t]}},e.prototype.clone=function(){var t=this,n=new e(t.name,t.type),r;if(r=t.attributes){var a=[];a.map={};for(var i=0,s=r.length;i<s;i++){var u=r[i];u.name!=="id"&&(a[a.length]={name:u.name,value:u.value},a.map[u.name]=u.value)}n.attributes=a}return n.value=t.value,n.shortEnded=t.shortEnded,n},e.prototype.wrap=function(t){var n=this;return n.parent.insert(t,n),t.append(n),n},e.prototype.unwrap=function(){for(var t=this,n=t.firstChild;n;){var r=n.next;t.insert(n,t,!0),n=r}t.remove()},e.prototype.remove=function(){var t=this,n=t.parent,r=t.next,a=t.prev;return n&&(n.firstChild===t?(n.firstChild=r,r&&(r.prev=null)):a.next=r,n.lastChild===t?(n.lastChild=a,a&&(a.next=null)):r.prev=a,t.parent=t.next=t.prev=null),t},e.prototype.append=function(t){var n=this;t.parent&&t.remove();var r=n.lastChild;return r?(r.next=t,t.prev=r,n.lastChild=t):n.lastChild=n.firstChild=t,t.parent=n,t},e.prototype.insert=function(t,n,r){t.parent&&t.remove();var a=n.parent||this;return r?(n===a.firstChild?a.firstChild=t:n.prev.next=t,t.prev=n.prev,t.next=n,n.prev=t):(n===a.lastChild?a.lastChild=t:n.next.prev=t,t.next=n.next,t.prev=n,n.next=t),t.parent=a,t},e.prototype.getAll=function(t){for(var n=this,r=[],a=n.firstChild;a;a=fl(a,n))a.name===t&&r.push(a);return r},e.prototype.children=function(){for(var t=this,n=[],r=t.firstChild;r;r=r.next)n.push(r);return n},e.prototype.empty=function(){var t=this;if(t.firstChild){for(var n=[],r=t.firstChild;r;r=fl(r,t))n.push(r);for(var a=n.length;a--;){var r=n[a];r.parent=r.firstChild=r.lastChild=r.next=r.prev=null}}return t.firstChild=t.lastChild=null,t},e.prototype.isEmpty=function(t,n,r){n===void 0&&(n={});var a=this,i=a.firstChild;if(Ub(a))return!1;if(i)do{if(i.type===1){if(i.attr("data-mce-bogus"))continue;if(t[i.name]||Ub(i))return!1}if(i.type===8||i.type===3&&!lN(i)||i.type===3&&i.parent&&n[i.parent.name]&&Si(i.value)||r&&r(i))return!1}while(i=fl(i,a));return!0},e.prototype.walk=function(t){return fl(this,null,t)},e}(),fN=function(e){for(var t=/data:[^;<"'\s]+;base64,([a-z0-9\+\/=\s]+)/gi,n=[],r={},a=Ug("img"),i,s=0,u=0;i=t.exec(e);){var l=i[0],v=a+"_"+u++;r[v]=l,s<i.index&&n.push(e.substr(s,i.index-s)),n.push(v),s=i.index+l.length}var g=new RegExp(a+"_[0-9]+","g");return s===0?{prefix:a,uris:r,html:e,re:g}:(s<e.length&&n.push(e.substr(s)),{prefix:a,uris:r,html:n.join(""),re:g})},Rd=function(e,t){return e.replace(t.re,function(n){return Ve(t.uris,n).getOr(n)})},cN=function(e){var t=/data:([^;]+);base64,([a-z0-9\+\/=\s]+)/i.exec(e);return t?S.some({type:t[1],data:decodeURIComponent(t[2])}):S.none()},jb=he.each,dN=he.trim,vN="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),pN={ftp:21,http:80,https:443,mailto:25},hN=["img","video"],gN=function(e,t){return P(e)?!e:P(t)?!qe(hN,t):!0},mN=function(e,t,n){return e.allow_html_data_urls?!1:/^data:image\//i.test(t)?gN(e.allow_svg_data_urls,n)&&/^data:image\/svg\+xml/i.test(t):/^data:/i.test(t)},ii=function(){function e(t,n){t=dN(t),this.settings=n||{};var r=this.settings.base_uri,a=this;if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t)){a.source=t;return}var i=t.indexOf("//")===0;if(t.indexOf("/")===0&&!i&&(t=(r&&r.protocol||"http")+"://mce_host"+t),!/^[\w\-]*:?\/\//.test(t)){var s=this.settings.base_uri?this.settings.base_uri.path:new e(document.location.href).directory;if(this.settings.base_uri&&this.settings.base_uri.protocol=="")t="//mce_host"+a.toAbsPath(s,t);else{var u=/([^#?]*)([#?]?.*)/.exec(t);t=(r&&r.protocol||"http")+"://mce_host"+a.toAbsPath(s,u[1])+u[2]}}t=t.replace(/@@/g,"(mce_at)");var l=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t);jb(vN,function(v,g){var m=l[g];m&&(m=m.replace(/\(mce_at\)/g,"@@")),a[v]=m}),r&&(a.protocol||(a.protocol=r.protocol),a.userInfo||(a.userInfo=r.userInfo),!a.port&&a.host==="mce_host"&&(a.port=r.port),(!a.host||a.host==="mce_host")&&(a.host=r.host),a.source=""),i&&(a.protocol="")}return e.parseDataUri=function(t){var n,r=decodeURIComponent(t).split(","),a=/data:([^;]+)/.exec(r[0]);return a&&(n=a[1]),{type:n,data:r[1]}},e.isDomSafe=function(t,n,r){if(r===void 0&&(r={}),r.allow_script_urls)return!0;var a=Ya.decode(t).replace(/[\s\u0000-\u001F]+/g,"");try{a=decodeURIComponent(a)}catch{a=unescape(a)}return/((java|vb)script|mhtml):/i.test(a)?!1:!mN(r,a,n)},e.getDocumentBaseUrl=function(t){var n;return t.protocol.indexOf("http")!==0&&t.protocol!=="file:"?n=t.href:n=t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(n)&&(n=n.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(n)||(n+="/")),n},e.prototype.setPath=function(t){var n=/^(.*?)\/?(\w+)?$/.exec(t);this.path=n[0],this.directory=n[1],this.file=n[2],this.source="",this.getURI()},e.prototype.toRelative=function(t){var n;if(t==="./")return t;var r=new e(t,{base_uri:this});if(r.host!=="mce_host"&&this.host!==r.host&&r.host||this.port!==r.port||this.protocol!==r.protocol&&r.protocol!=="")return r.getURI();var a=this.getURI(),i=r.getURI();return a===i||a.charAt(a.length-1)==="/"&&a.substr(0,a.length-1)===i?a:(n=this.toRelPath(this.path,r.path),r.query&&(n+="?"+r.query),r.anchor&&(n+="#"+r.anchor),n)},e.prototype.toAbsolute=function(t,n){var r=new e(t,{base_uri:this});return r.getURI(n&&this.isSameOrigin(r))},e.prototype.isSameOrigin=function(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;var n=pN[this.protocol];if(n&&(this.port||n)==(t.port||n))return!0}return!1},e.prototype.toRelPath=function(t,n){var r=0,a="",i,s,u=t.substring(0,t.lastIndexOf("/")).split("/"),l=n.split("/");if(u.length>=l.length){for(i=0,s=u.length;i<s;i++)if(i>=l.length||u[i]!==l[i]){r=i+1;break}}if(u.length<l.length){for(i=0,s=l.length;i<s;i++)if(i>=u.length||u[i]!==l[i]){r=i+1;break}}if(r===1)return n;for(i=0,s=u.length-(r-1);i<s;i++)a+="../";for(i=r-1,s=l.length;i<s;i++)i!==r-1?a+="/"+l[i]:a+=l[i];return a},e.prototype.toAbsPath=function(t,n){var r,a=0,i=[],s,u=/\/$/.test(n)?"/":"",l=t.split("/"),v=n.split("/");for(jb(l,function(g){g&&i.push(g)}),l=i,r=v.length-1,i=[];r>=0;r--)if(!(v[r].length===0||v[r]===".")){if(v[r]===".."){a++;continue}if(a>0){a--;continue}i.push(v[r])}return r=l.length-a,r<=0?s=Me(i).join("/"):s=l.slice(0,r).join("/")+"/"+Me(i).join("/"),s.indexOf("/")!==0&&(s="/"+s),u&&s.lastIndexOf("/")!==s.length-1&&(s+=u),s},e.prototype.getURI=function(t){t===void 0&&(t=!1);var n;return(!this.source||t)&&(n="",t||(this.protocol?n+=this.protocol+"://":n+="//",this.userInfo&&(n+=this.userInfo+"@"),this.host&&(n+=this.host),this.port&&(n+=":"+this.port)),this.path&&(n+=this.path),this.query&&(n+="?"+this.query),this.anchor&&(n+="#"+this.anchor),this.source=n),this.source},e}(),bN=he.makeMap("button,fieldset,form,iframe,img,image,input,object,output,select,textarea"),yN=function(e){return e.indexOf("data-")===0||e.indexOf("aria-")===0},CN=Qo(function(){return document.implementation.createHTMLDocument("parser")}),Id=function(e,t,n){for(var r=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,a=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,i=e.getShortEndedElements(),s=1,u=n;s!==0;)for(r.lastIndex=u;;){var l=r.exec(t);if(l===null)return u;if(l[1]==="!"){yi(l[2],"--")?u=Bd(t,!1,l.index+3):u=Bd(t,!0,l.index+1);break}else{a.lastIndex=r.lastIndex;var v=a.exec(t);if(de(v)||v.index!==r.lastIndex)continue;l[1]==="/"?s-=1:$e(i,l[2])||(s+=1),u=r.lastIndex+v[0].length;break}}return u},wN=function(e,t){return/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(t))},Bd=function(e,t,n){n===void 0&&(n=0);var r=e.toLowerCase();if(r.indexOf("[if ",n)!==-1&&wN(r,n)){var a=r.indexOf("[endif]",n);return r.indexOf(">",a)}else if(t){var i=r.indexOf(">",n);return i!==-1?i:r.length}else{var s=/--!?>/g;s.lastIndex=n;var u=s.exec(e);return u?u.index+u[0].length:r.length}},EN=function(e,t){var n=e.exec(t);if(n){var r=n[1],a=n[2];return typeof r=="string"&&r.toLowerCase()==="data-mce-bogus"?a:null}else return null},cl=function(e,t){t===void 0&&(t=qa()),e=e||{};var n=CN(),r=n.createElement("form");e.fix_self_closing!==!1&&(e.fix_self_closing=!0);var a=e.comment?e.comment:pe,i=e.cdata?e.cdata:pe,s=e.text?e.text:pe,u=e.start?e.start:pe,l=e.end?e.end:pe,v=e.pi?e.pi:pe,g=e.doctype?e.doctype:pe,m=function(x,D){D===void 0&&(D="html");for(var k=x.html,T,F=0,R,G,K=[],V,ne,ve,Oe,nt,ze,me,Ze,Ie,He,Pe,Le,Ye,we,We,mt,kt,Dt=0,pn=Ya.decode,Xt=he.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),Fn=D==="html"?0:1,ar=function(Lt){var Vt,fn;for(Vt=K.length;Vt--&&K[Vt].name!==Lt;);if(Vt>=0){for(fn=K.length-1;fn>=Vt;fn--)Lt=K[fn],Lt.valid&&l(Lt.name);K.length=Vt}},Se=function(Lt,Vt){return s(Rd(Lt,x),Vt)},Be=function(Lt){Lt!==""&&(Lt.charAt(0)===">"&&(Lt=" "+Lt),!e.allow_conditional_comments&&Lt.substr(0,3).toLowerCase()==="[if"&&(Lt=" "+Lt),a(Rd(Lt,x)))},Xe=function(Lt){return Rd(Lt,x)},ie=function(Lt,Vt){var fn=Lt||"",Qr=!yi(fn,"--"),Zr=Bd(k,Qr,Vt);return Lt=k.substr(Vt,Zr-Vt),Be(Qr?fn+Lt:Lt),Zr+1},Te=function(Lt,Vt,fn,Qr,Zr){if(Vt=Vt.toLowerCase(),fn=Xe(Vt in un?Vt:pn(fn||Qr||Zr||"")),an&&!nt&&yN(Vt)===!1){var ea=Pe[Vt];if(!ea&&Le){for(var vi=Le.length;vi--&&(ea=Le[vi],!ea.pattern.test(Vt)););vi===-1&&(ea=null)}if(!ea||ea.validValues&&!(fn in ea.validValues))return}var pp=Vt==="name"||Vt==="id";pp&&Lt in bN&&(fn in n||fn in r)||Xt[Vt]&&!ii.isDomSafe(fn,Lt,e)||nt&&(Vt in Xt||Vt.indexOf("on")===0)||(V.map[Vt]=fn,V.push({name:Vt,value:fn}))},xe=new RegExp(`<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|(?:!(--)?)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_:.]*)(\\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\\s*|\\/)>))`,"g"),Je=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,et=t.getShortEndedElements(),Mt=e.self_closing_elements||t.getSelfClosingElements(),un=t.getBoolAttrs(),an=e.validate,$a=e.remove_internals,Ln=e.fix_self_closing,zn=t.getSpecialElements(),ln=k+">";T=xe.exec(ln);){var dr=T[0];if(F<T.index&&Se(pn(k.substr(F,T.index-F))),R=T[7])R=R.toLowerCase(),R.charAt(0)===":"&&(R=R.substr(1)),ar(R);else if(R=T[8]){if(T.index+dr.length>k.length){Se(pn(k.substr(T.index))),F=T.index+dr.length;continue}R=R.toLowerCase(),R.charAt(0)===":"&&(R=R.substr(1)),ze=R in et,Ln&&Mt[R]&&K.length>0&&K[K.length-1].name===R&&ar(R);var Wn=EN(Je,T[9]);if(Wn!==null){if(Wn==="all"){F=Id(t,k,xe.lastIndex),xe.lastIndex=F;continue}Ze=!1}if(!an||(me=t.getElementRule(R))){if(Ze=!0,an&&(Pe=me.attributes,Le=me.attributePatterns),(He=T[9])?(nt=He.indexOf("data-mce-type")!==-1,nt&&$a&&(Ze=!1),V=[],V.map={},He.replace(Je,function(Lt,Vt,fn,Qr,Zr){return Te(R,Vt,fn,Qr,Zr),""})):(V=[],V.map={}),an&&!nt){if(Ye=me.attributesRequired,we=me.attributesDefault,We=me.attributesForced,mt=me.removeEmptyAttrs,mt&&!V.length&&(Ze=!1),We)for(ne=We.length;ne--;)Ie=We[ne],Oe=Ie.name,kt=Ie.value,kt==="{$uid}"&&(kt="mce_"+Dt++),V.map[Oe]=kt,V.push({name:Oe,value:kt});if(we)for(ne=we.length;ne--;)Ie=we[ne],Oe=Ie.name,Oe in V.map||(kt=Ie.value,kt==="{$uid}"&&(kt="mce_"+Dt++),V.map[Oe]=kt,V.push({name:Oe,value:kt}));if(Ye){for(ne=Ye.length;ne--&&!(Ye[ne]in V.map););ne===-1&&(Ze=!1)}if(Ie=V.map["data-mce-bogus"]){if(Ie==="all"){F=Id(t,k,xe.lastIndex),xe.lastIndex=F;continue}Ze=!1}}Ze&&u(R,V,ze)}else Ze=!1;if(G=zn[R]){G.lastIndex=F=T.index+dr.length,(T=G.exec(k))?(Ze&&(ve=k.substr(F,T.index-F)),F=T.index+T[0].length):(ve=k.substr(F),F=k.length),Ze&&(ve.length>0&&Se(ve,!0),l(R)),xe.lastIndex=F;continue}ze||(!He||He.indexOf("/")!==He.length-1?K.push({name:R,valid:Ze}):Ze&&l(R))}else if(R=T[1])Be(R);else if(R=T[2]){var Sa=Fn===1||e.preserve_cdata||K.length>0&&t.isValidChild(K[K.length-1].name,"#cdata");if(Sa)i(R);else{F=ie("",T.index+2),xe.lastIndex=F;continue}}else if(R=T[3])g(R);else if((R=T[4])||dr==="<!"){F=ie(R,T.index+dr.length),xe.lastIndex=F;continue}else if(R=T[5])if(Fn===1)v(R,T[6]);else{F=ie("?",T.index+2),xe.lastIndex=F;continue}F=T.index+dr.length}for(F<k.length&&Se(pn(k.substr(F))),ne=K.length-1;ne>=0;ne--)R=K[ne],R.valid&&l(R.name)},C=function(x,D){D===void 0&&(D="html"),m(fN(x),D)};return{parse:C}};cl.findEndTag=Id;var SN=function(e,t){var n=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return t.replace(n,"")},zb=function(e,t){for(var n=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,r=e.schema,a=SN(e.getTempAttrs(),t),i=r.getShortEndedElements(),s;s=n.exec(a);){var u=n.lastIndex,l=s[0].length,v=void 0;i[s[1]]?v=u:v=cl.findEndTag(r,a,u),a=a.substring(0,u-l)+a.substring(v),n.lastIndex=u-l}return Wa(a)},xN=zb,DN=function(e,t){var n=$n(e),r=new RegExp("^(<"+n+"[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/"+n+`>[\r
]*|<br \\/>[\r
]*)$`);return t.replace(r,"")},kN=function(e,t){return st(st({},e),{format:t,get:!0,getInner:!0})},ON=function(e,t,n,r){var a=kN(t,n),i=t.no_events?a:e.fire("BeforeGetContent",a),s;return i.format==="raw"?s=he.trim(xN(e.serializer,r.innerHTML)):i.format==="text"?s=e.dom.isEmpty(r)?"":Wa(r.innerText||r.textContent):i.format==="tree"?s=e.serializer.serialize(r,i):s=DN(e,e.serializer.serialize(r,i)),!qe(["text","tree"],i.format)&&!Su(Z.fromDom(r))?i.content=he.trim(s):i.content=s,i.no_events?i.content:e.fire("GetContent",i).content},TN=function(e,t,n){return S.from(e.getBody()).fold(Y(t.format==="tree"?new Br("body",11):""),function(r){return ON(e,t,n,r)})},AN=he.each,Wb=function(e){var t=function(n,r){if(n.nodeName!==r.nodeName)return!1;var a=function(s){var u={};return AN(e.getAttribs(s),function(l){var v=l.nodeName.toLowerCase();v.indexOf("_")!==0&&v!=="style"&&v.indexOf("data-")!==0&&(u[v]=e.getAttrib(s,v))}),u},i=function(s,u){var l,v;for(v in s)if($e(s,v)){if(l=u[v],typeof l>"u"||s[v]!==l)return!1;delete u[v]}for(v in u)if($e(u,v))return!1;return!0};return!i(a(n),a(r))||!i(e.parseStyle(e.getAttrib(n,"style")),e.parseStyle(e.getAttrib(r,"style")))?!1:!Cr(n)&&!Cr(r)};return{compare:t}},Yb=he.makeMap,Kb=function(e){var t=[];e=e||{};var n=e.indent,r=Yb(e.indent_before||""),a=Yb(e.indent_after||""),i=Ya.getEncodeFunc(e.entity_encoding||"raw",e.entities),s=e.element_format==="html";return{start:function(u,l,v){var g,m,C,x;if(n&&r[u]&&t.length>0&&(x=t[t.length-1],x.length>0&&x!==`
`&&t.push(`
`)),t.push("<",u),l)for(g=0,m=l.length;g<m;g++)C=l[g],t.push(" ",C.name,'="',i(C.value,!0),'"');!v||s?t[t.length]=">":t[t.length]=" />",v&&n&&a[u]&&t.length>0&&(x=t[t.length-1],x.length>0&&x!==`
`&&t.push(`
`))},end:function(u){var l;t.push("</",u,">"),n&&a[u]&&t.length>0&&(l=t[t.length-1],l.length>0&&l!==`
`&&t.push(`
`))},text:function(u,l){u.length>0&&(t[t.length]=l?u:i(u))},cdata:function(u){t.push("<![CDATA[",u,"]]>")},comment:function(u){t.push("<!--",u,"-->")},pi:function(u,l){l?t.push("<?",u," ",i(l),"?>"):t.push("<?",u,"?>"),n&&t.push(`
`)},doctype:function(u){t.push("<!DOCTYPE",u,">",n?`
`:"")},reset:function(){t.length=0},getContent:function(){return t.join("").replace(/\n$/,"")}}},Io=function(e,t){t===void 0&&(t=qa());var n=Kb(e);e=e||{},e.validate="validate"in e?e.validate:!0;var r=function(a){var i=e.validate,s={3:function(l){n.text(l.value,l.raw)},8:function(l){n.comment(l.value)},7:function(l){n.pi(l.name,l.value)},10:function(l){n.doctype(l.value)},4:function(l){n.cdata(l.value)},11:function(l){if(l=l.firstChild)do u(l);while(l=l.next)}};n.reset();var u=function(l){var v=s[l.type];if(v)v(l);else{var g=l.name,m=l.shortEnded,C=l.attributes;if(i&&C&&C.length>1){var x=[];x.map={};var D=t.getElementRule(l.name);if(D){for(var k=0,T=D.attributesOrder.length;k<T;k++){var F=D.attributesOrder[k];if(F in C.map){var R=C.map[F];x.map[F]=R,x.push({name:F,value:R})}}for(var k=0,T=C.length;k<T;k++){var F=C[k].name;if(!(F in x.map)){var R=C.map[F];x.map[F]=R,x.push({name:F,value:R})}}C=x}}if(n.start(l.name,C,m),!m){if(l=l.firstChild)do u(l);while(l=l.next);n.end(g)}}};return a.type===1&&!e.inner?u(a):s[11](a),n.getContent()};return{serialize:r}},qb=new Set;(function(){var e=["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"];_e(e,function(t){qb.add(t)})})();var Gb=["font","text-decoration","text-emphasis"],Md=function(e,t){return bn(e.parseStyle(e.getAttrib(t,"style")))},NN=function(e){return qb.has(e)},PN=function(e,t){return Q(Md(e,t),function(n){return!NN(n)})},RN=function(e){return it(e,function(t){return _t(Gb,function(n){return yi(t,n)})})},IN=function(e,t,n){var r=Md(e,t),a=Md(e,n),i=function(s){var u=e.getStyle(t,s),l=e.getStyle(n,s);return lu(u)&&lu(l)&&u!==l};return _t(r,function(s){var u=function(v){return _t(v,function(g){return g===s})};if(!u(a)&&u(Gb)){var l=RN(a);return _t(l,i)}else return i(s)})},Xb=function(e,t,n){return S.from(n.container()).filter(Ge).exists(function(r){var a=e?0:-1;return t(r.data.charAt(n.offset()+a))})},$d=h(Xb,!0,Oo),Fd=h(Xb,!1,Oo),BN=function(e){var t=e.container();return Ge(t)&&(t.data.length===0||xu(t.data)&&Ts.isBookmarkNode(t.parentNode))},oi=function(e,t){return function(n){return S.from(Xc(e?0:-1,n)).filter(t).isSome()}},Jb=function(e){return tS(e)&&Ta(Z.fromDom(e),"display")==="block"},Qb=function(e){return Jt(e)&&!ZE(e)},MN=oi(!0,Jb),$N=oi(!1,Jb),Bo=oi(!0,Ir),Mo=oi(!1,Ir),Zb=oi(!0,ro),ey=oi(!1,ro),si=oi(!0,Qb),ui=oi(!1,Qb),FN=function(e){for(var t=[],n=e.dom;n;)t.push(Z.fromDom(n)),n=n.lastChild;return t},LN=function(e){var t=rr(e,"br"),n=it(FN(e).slice(-1),oo);t.length===n.length&&_e(n,Tn)},Mi=function(e){Wf(e),Pn(e,Z.fromHtml('<br data-mce-bogus="1">'))},_N=function(e){jf(e).each(function(t){Ci(t).each(function(n){la(e)&&oo(t)&&la(n)&&Tn(t)})})},VN=function(e){return e.slice(0,-1)},HN=function(e,t,n){return Va(t,e)?VN(_E(e,function(r){return n(r)||Yt(r,t)})):[]},ty=function(e,t){return HN(e,t,N)},Ra=function(e,t){return[e].concat(ty(e,t))},Ld=function(e,t,n){return qm(e,t,n,BN)},ny=function(e,t){return St(Ra(Z.fromDom(t.container()),e),la)},ry=function(e,t,n){return Ld(e,t.dom,n).forall(function(r){return ny(t,n).fold(function(){return va(r,n,t.dom)===!1},function(a){return va(r,n,t.dom)===!1&&Va(a,Z.fromDom(r.container()))})})},ay=function(e,t,n){return ny(t,n).fold(function(){return Ld(e,t.dom,n).forall(function(r){return va(r,n,t.dom)===!1})},function(r){return Ld(e,r.dom,n).isNone()})},_d=h(ay,!1),iy=h(ay,!0),UN=h(ry,!1),jN=h(ry,!0),zN=function(e){return Gu(e).exists(oo)},dl=function(e,t,n){var r=it(Ra(Z.fromDom(n.container()),t),la),a=bt(r).getOr(t);return yr(e,a.dom,n).filter(zN)},Vd=function(e,t){return Gu(t).exists(oo)||dl(!0,e,t).isSome()},Hd=function(e,t){return PO(t).exists(oo)||dl(!1,e,t).isSome()},WN=h(dl,!1),YN=h(dl,!0),oy=function(e){return fe.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd()},sy=function(e,t){var n=it(Ra(Z.fromDom(t.container()),e),la);return bt(n).getOr(e)},uy=function(e,t){return oy(t)?Fd(t):Fd(t)||ha(sy(e,t).dom,t).exists(Fd)},ly=function(e,t){return oy(t)?$d(t):$d(t)||Xr(sy(e,t).dom,t).exists($d)},KN=function(e){return qe(["pre","pre-wrap"],e)},Ud=function(e){return Gu(e).bind(function(t){return yu(t,Ur)}).exists(function(t){return KN(Ta(t,"white-space"))})},qN=function(e,t){return ha(e.dom,t).isNone()},GN=function(e,t){return Xr(e.dom,t).isNone()},XN=function(e,t){return qN(e,t)||GN(e,t)||_d(e,t)||iy(e,t)||Hd(e,t)||Vd(e,t)},JN=function(e,t){return Ud(t)?!1:XN(e,t)||uy(e,t)||ly(e,t)},vl=function(e,t){return Ud(t)?!1:_d(e,t)||UN(e,t)||Hd(e,t)||uy(e,t)},QN=function(e){var t=e.container(),n=e.offset();return Ge(t)&&n<t.data.length?fe(t,n+1):e},pl=function(e,t){return Ud(t)?!1:iy(e,t)||jN(e,t)||Vd(e,t)||ly(e,t)},fy=function(e,t){return vl(e,t)||pl(e,QN(t))},cy=function(e,t){return Ds(e.charAt(t))},ZN=function(e){var t=e.container();return Ge(t)&&Gn(t.data,sr)},eP=function(e){var t=e.split("");return xt(t,function(n,r){return Ds(n)&&r>0&&r<t.length-1&&nd(t[r-1])&&nd(t[r+1])?" ":n}).join("")},tP=function(e,t){var n=t.data,r=fe(t,0);return cy(n,0)&&!fy(e,r)?(t.data=" "+n.slice(1),!0):!1},nP=function(e){var t=e.data,n=eP(t);return n!==t?(e.data=n,!0):!1},rP=function(e,t){var n=t.data,r=fe(t,n.length-1);return cy(n,n.length-1)&&!fy(e,r)?(t.data=n.slice(0,-1)+" ",!0):!1},aP=function(e,t){return S.some(t).filter(ZN).bind(function(n){var r=n.container(),a=tP(e,r)||nP(r)||rP(e,r);return a?S.some(n):S.none()})},dy=function(e){var t=Z.fromDom(e.getBody());e.selection.isCollapsed()&&aP(t,fe.fromRangeStart(e.selection.getRng())).each(function(n){e.selection.setRng(n.toRange())})},iP=function(e,t,n){var r=Gt(e,function(a,i){return Oo(i)||Ds(i)?a.previousCharIsSpace||a.str===""&&t||a.str.length===e.length-1&&n?{previousCharIsSpace:!1,str:a.str+sr}:{previousCharIsSpace:!0,str:a.str+" "}:{previousCharIsSpace:!1,str:a.str+i}},{previousCharIsSpace:!1,str:""});return r.str},vy=function(e,t,n){if(n!==0){var r=Z.fromDom(e),a=ss(r,la).getOr(r),i=e.data.slice(t,t+n),s=t+n>=e.data.length&&pl(a,fe(e,e.data.length)),u=t===0&&vl(a,fe(e,0));e.replaceData(t,n,iP(i,u,s))}},hl=function(e,t){var n=e.data.slice(t),r=n.length-tE(n).length;vy(e,t,r)},jd=function(e,t){var n=e.data.slice(0,t),r=n.length-zp(n).length;vy(e,t-r,r)},zd=function(e,t,n,r){r===void 0&&(r=!0);var a=zp(e.data).length,i=r?e:t,s=r?t:e;return r?i.appendData(s.data):i.insertData(0,s.data),Tn(Z.fromDom(s)),n&&hl(i,a),i},oP=function(e,t){var n=e.container(),r=e.offset();return fe.isTextPosition(e)===!1&&n===t.parentNode&&r>fe.before(t).offset()},sP=function(e,t){return oP(t,e)?fe(t.container(),t.offset()-1):t},uP=function(e){return Ge(e)?fe(e,0):fe.before(e)},lP=function(e){return Ge(e)?fe(e,e.data.length):fe.after(e)},py=function(e){return fa(e.previousSibling)?S.some(lP(e.previousSibling)):e.previousSibling?ga(e.previousSibling):S.none()},hy=function(e){return fa(e.nextSibling)?S.some(uP(e.nextSibling)):e.nextSibling?Jn(e.nextSibling):S.none()},fP=function(e,t){var n=fe.before(t.previousSibling?t.previousSibling:t.parentNode);return ha(e,n).fold(function(){return Xr(e,fe.after(t))},S.some)},cP=function(e,t){return Xr(e,fe.after(t)).fold(function(){return ha(e,fe.before(t))},S.some)},dP=function(e,t){return py(t).orThunk(function(){return hy(t)}).orThunk(function(){return fP(e,t)})},vP=function(e,t){return hy(t).orThunk(function(){return py(t)}).orThunk(function(){return cP(e,t)})},pP=function(e,t,n){return e?vP(t,n):dP(t,n)},hP=function(e,t,n){return pP(e,t,n).map(h(sP,n))},gy=function(e,t,n){n.fold(function(){e.focus()},function(r){e.selection.setRng(r.toRange(),t)})},gP=function(e){return function(t){return t.dom===e}},mP=function(e,t){return t&&$e(e.schema.getBlockElements(),yn(t))},bP=function(e){if(wn(e)){var t=Z.fromHtml('<br data-mce-bogus="1">');return Wf(e),Pn(e,t),S.some(fe.before(t.dom))}else return S.none()},yP=function(e,t,n){var r=Ci(e).filter(Nr),a=ts(e).filter(Nr);return Tn(e),rS(r,a,t,function(i,s,u){var l=i.dom,v=s.dom,g=l.data.length;return zd(l,v,n),u.container()===v?fe(l,g):u}).orThunk(function(){return n&&(r.each(function(i){return jd(i.dom,i.dom.length)}),a.each(function(i){return hl(i.dom,0)})),t})},CP=function(e,t){return $e(e.schema.getTextInlineElements(),yn(t))},$i=function(e,t,n,r){r===void 0&&(r=!0);var a=hP(t,e.getBody(),n.dom),i=ss(n,h(mP,e),gP(e.getBody())),s=yP(n,a,CP(e,n));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):i.bind(bP).fold(function(){r&&gy(e,t,s)},function(u){r&&gy(e,t,S.some(u))})},wP=function(e){return function(t){return Yt(e,t)}},Wd=function(e){return rr(e,"td,th")},EP=function(e,t){var n=function(v){return Os(Z.fromDom(v),t)},r=n(e.startContainer),a=n(e.endContainer),i=r.isSome(),s=a.isSome(),u=nr(r,a,Yt).getOr(!1),l=!u&&i&&s;return{startTable:r,endTable:a,isStartInTable:i,isEndInTable:s,isSameTable:u,isMultiTable:l}},Yd=function(e,t){return{start:e,end:t}},SP=function(e,t,n){return{rng:e,table:t,cells:n}},Rs=ja.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),gl=function(e,t){return ec(Z.fromDom(e),"td,th",t)},my=function(e){return!Yt(e.start,e.end)},by=function(e,t){return Os(e.start,t).bind(function(n){return Os(e.end,t).bind(function(r){return aS(Yt(n,r),n)})})},xP=function(e,t){return!my(e)&&by(e,t).exists(function(n){var r=n.dom.rows;return r.length===1&&r[0].cells.length===1})},DP=function(e,t){var n=gl(e.startContainer,t),r=gl(e.endContainer,t);return nr(n,r,Yd)},kP=function(e){return function(t){return Os(t,e).bind(function(n){return Ht(Wd(n)).map(function(r){return Yd(t,r)})})}},OP=function(e){return function(t){return Os(t,e).bind(function(n){return bt(Wd(n)).map(function(r){return Yd(r,t)})})}},Kd=function(e){return function(t){return by(t,e).map(function(n){return SP(t,n,Wd(n))})}},yy=function(e,t,n,r){if(n.collapsed||!e.forall(my))return S.none();if(t.isSameTable){var a=e.bind(Kd(r));return S.some({start:a,end:a})}else{var i=gl(n.startContainer,r),s=gl(n.endContainer,r),u=i.bind(kP(r)).bind(Kd(r)),l=s.bind(OP(r)).bind(Kd(r));return S.some({start:u,end:l})}},Cy=function(e,t){return _r(e,function(n){return Yt(n,t)})},qd=function(e){return nr(Cy(e.cells,e.rng.start),Cy(e.cells,e.rng.end),function(t,n){return e.cells.slice(t,n+1)})},TP=function(e,t,n){return e.exists(function(r){return xP(r,n)&&cd(r.start,t)})},wy=function(e,t){var n=t.startTable,r=t.endTable,a=e.cloneRange();return n.each(function(i){return a.setStartAfter(i.dom)}),r.each(function(i){return a.setEndBefore(i.dom)}),a},AP=function(e,t,n,r){return yy(e,t,n,r).bind(function(a){var i=a.start,s=a.end;return i.or(s)}).bind(function(a){var i=t.isSameTable,s=qd(a).getOr([]);if(i&&a.cells.length===s.length)return S.some(Rs.fullTable(a.table));if(s.length>0){if(i)return S.some(Rs.partialTable(s,S.none()));var u=wy(n,t);return S.some(Rs.partialTable(s,S.some(st(st({},t),{rng:u}))))}else return S.none()})},NP=function(e,t,n,r){return yy(e,t,n,r).bind(function(a){var i=a.start,s=a.end,u=i.bind(qd).getOr([]),l=s.bind(qd).getOr([]);if(u.length>0&&l.length>0){var v=wy(n,t);return S.some(Rs.multiTable(u,l,v))}else return S.none()})},PP=function(e,t){var n=wP(e),r=DP(t,n),a=EP(t,n);return TP(r,t,n)?r.map(function(i){return Rs.singleCellTable(t,i.start)}):a.isMultiTable?NP(r,a,t,n):AP(r,a,t,n)},Ey=function(e){var t=BE(e)?Ci(e):jf(e);return t.bind(Ey).orThunk(function(){return S.some(e)})},Sy=function(e){return _e(e,function(t){Ua(t,"contenteditable"),Mi(t)})},RP=function(e,t){return S.from(e.dom.getParent(t,e.dom.isBlock)).map(Z.fromDom)},IP=function(e,t,n){n.each(function(r){t?Tn(r):(Mi(r),e.selection.setCursorLocation(r.dom,0))})},Gd=function(e,t,n,r){var a=n.cloneRange();r?(a.setStart(n.startContainer,n.startOffset),a.setEndAfter(t.dom.lastChild)):(a.setStartBefore(t.dom.firstChild),a.setEnd(n.endContainer,n.endOffset)),Xd(e,a,t,!1)},xy=function(e){var t=Po(e),n=Z.fromDom(e.selection.getNode());gu(n.dom)&&wn(n)?e.selection.setCursorLocation(n.dom,0):e.selection.collapse(!0),t.length>1&&_t(t,function(r){return Yt(r,n)})&&ua(n,"data-mce-selected","1")},Dy=function(e,t,n){var r=e.selection.getRng(),a=n.bind(function(i){var s=i.rng,u=i.isStartInTable,l=RP(e,u?s.endContainer:s.startContainer);s.deleteContents(),IP(e,u,l.filter(wn));var v=u?t[0]:t[t.length-1];return Gd(e,v,r,u),wn(v)?S.none():S.some(u?t.slice(1):t.slice(0,-1))}).getOr(t);return Sy(a),xy(e),!0},BP=function(e,t,n,r){var a=e.selection.getRng(),i=t[0],s=n[n.length-1];Gd(e,i,a,!0),Gd(e,s,a,!1);var u=wn(i)?t:t.slice(1),l=wn(s)?n:n.slice(0,-1);return Sy(u.concat(l)),r.deleteContents(),xy(e),!0},Xd=function(e,t,n,r){r===void 0&&(r=!0),t.deleteContents();var a=Ey(n).getOr(n),i=Z.fromDom(e.dom.getParent(a.dom,e.dom.isBlock));if(wn(i)&&(Mi(i),r&&e.selection.setCursorLocation(i.dom,0)),!Yt(n,i)){var s=mu(jr(i),n)?[]:VE(i);_e(s.concat(Pr(n)),function(u){!Yt(u,i)&&!Va(u,i)&&wn(u)&&Tn(u)})}return!0},MP=function(e,t){return $i(e,!1,t),!0},$P=function(e,t,n){return PP(t,n).map(function(r){return r.fold(h(Xd,e),h(MP,e),h(Dy,e),h(BP,e))})},FP=function(e,t){return ml(e,t)},LP=function(e,t,n,r){return Jd(t,r).fold(function(){return $P(e,t,n)},function(a){return FP(e,a)}).getOr(!1)},_P=function(e,t,n){var r=Z.fromDom(e.getBody()),a=e.selection.getRng();return n.length!==0?Dy(e,n,S.none()):LP(e,r,a,t)},ky=function(e,t){return St(Ra(t,e),Eu)},Jd=function(e,t){return St(Ra(t,e),FE("caption"))},VP=function(e,t,n,r,a){return Qu(n,e.getBody(),a).bind(function(i){return ky(t,Z.fromDom(i.getNode())).map(function(s){return Yt(s,r)===!1})})},ml=function(e,t){return Mi(t),e.selection.setCursorLocation(t.dom,0),S.some(!0)},HP=function(e,t,n,r){return Jn(e.dom).bind(function(a){return ga(e.dom).map(function(i){return t?n.isEqual(a)&&r.isEqual(i):n.isEqual(i)&&r.isEqual(a)})}).getOr(!0)},UP=function(e,t){return ml(e,t)},jP=function(e,t,n){return Jd(e,Z.fromDom(n.getNode())).map(function(r){return Yt(r,t)===!1})},zP=function(e,t,n,r,a){return Qu(n,e.getBody(),a).bind(function(i){return HP(r,n,a,i)?UP(e,r):jP(t,r,i)}).or(S.some(!0))},WP=function(e,t,n,r){var a=fe.fromRangeStart(e.selection.getRng());return ky(n,r).bind(function(i){return wn(i)?ml(e,i):VP(e,n,t,i,a)}).getOr(!1)},YP=function(e,t,n,r){var a=fe.fromRangeStart(e.selection.getRng());return wn(r)?ml(e,r):zP(e,n,t,r,a)},Oy=function(e,t){return e?Zb(t):ey(t)},KP=function(e,t){var n=fe.fromRangeStart(e.selection.getRng());return Oy(t,n)||yr(t,e.getBody(),n).exists(function(r){return Oy(t,r)})},qP=function(e,t,n){var r=Z.fromDom(e.getBody());return Jd(r,n).fold(function(){return WP(e,t,r,n)||KP(e,t)},function(a){return YP(e,t,r,a).getOr(!1)})},bl=function(e,t){var n=Z.fromDom(e.selection.getStart(!0)),r=Po(e);return e.selection.isCollapsed()&&r.length===0?qP(e,t,n):_P(e,n,r)},GP=function(e,t,n,r){var a=document.createRange();return a.setStart(e,t),a.setEnd(n,r),a},XP=function(e){var t=fe.fromRangeStart(e),n=fe.fromRangeEnd(e),r=e.commonAncestorContainer;return yr(!1,r,n).map(function(a){return!va(t,n,r)&&va(t,a,r)?GP(t.container(),t.offset(),a.container(),a.offset()):e}).getOr(e)},Qd=function(e){return e.collapsed?e:XP(e)},JP=function(e){return e.firstChild&&e.firstChild===e.lastChild},QP=function(e){return e.name==="br"||e.value===sr},ZP=function(e,t){var n=e.getBlockElements();return n[t.name]&&JP(t)&&QP(t.firstChild)},eR=function(e,t){var n=e.getNonEmptyElements();return t&&(t.isEmpty(n)||ZP(e,t))},tR=function(e,t){var n=t.firstChild,r=t.lastChild;return n&&n.name==="meta"&&(n=n.next),r&&r.attr("id")==="mce_marker"&&(r=r.prev),eR(e,r)&&(r=r.prev),!n||n!==r?!1:n.name==="ul"||n.name==="ol"},nR=function(e){var t=e.firstChild,n=e.lastChild;return t&&t.nodeName==="META"&&t.parentNode.removeChild(t),n&&n.id==="mce_marker"&&n.parentNode.removeChild(n),e},rR=function(e,t,n){var r=t.serialize(n),a=e.createFragment(r);return nR(a)},aR=function(e){return it(e.childNodes,function(t){return t.nodeName==="LI"})},iR=function(e){return e.data===sr||sn(e)},oR=function(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&iR(e.firstChild)},sR=function(e){return!e.firstChild||oR(e)},uR=function(e){return e.length>0&&sR(e[e.length-1])?e.slice(0,-1):e},Zd=function(e,t){var n=e.getParent(t,e.isBlock);return n&&n.nodeName==="LI"?n:null},lR=function(e,t){return!!Zd(e,t)},fR=function(e,t){var n=t.cloneRange(),r=t.cloneRange();return n.setStartBefore(e),r.setEndAfter(e),[n.cloneContents(),r.cloneContents()]},cR=function(e,t){var n=fe.before(e),r=Gr(t),a=r.next(n);return a?a.toRange():null},Ty=function(e,t){var n=fe.after(e),r=Gr(t),a=r.prev(n);return a?a.toRange():null},dR=function(e,t,n,r){var a=fR(e,r),i=e.parentNode;return i.insertBefore(a[0],e),he.each(t,function(s){i.insertBefore(s,e)}),i.insertBefore(a[1],e),i.removeChild(e),Ty(t[t.length-1],n)},vR=function(e,t,n){var r=e.parentNode;return he.each(t,function(a){r.insertBefore(a,e)}),cR(e,n)},pR=function(e,t,n,r){return r.insertAfter(t.reverse(),e),Ty(t[0],n)},hR=function(e,t,n,r){var a=rR(t,e,r),i=Zd(t,n.startContainer),s=uR(aR(a.firstChild)),u=1,l=2,v=t.getRoot(),g=function(m){var C=fe.fromRangeStart(n),x=Gr(t.getRoot()),D=m===u?x.prev(C):x.next(C);return D?Zd(t,D.getNode())!==i:!0};return g(u)?vR(i,s,v):g(l)?pR(i,s,v,t):dR(i,s,v,n)},gR=function(e,t,n){var r=Z.fromDom(e.getRoot());return vl(r,fe.fromRangeStart(t))?n=n.replace(/^ /,"&nbsp;"):n=n.replace(/^&nbsp;/," "),pl(r,fe.fromRangeEnd(t))?n=n.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):n=n.replace(/&nbsp;(<br( \/)?>)?$/," "),n},ev=gu,mR=function(e,t,n){if(n!==null){var r=e.getParent(t.endContainer,ev);return n===r&&cd(Z.fromDom(n),t)}else return!1},bR=function(e,t,n){if(n.getAttribute("data-mce-bogus")==="all")n.parentNode.insertBefore(e.dom.createFragment(t),n);else{var r=n.firstChild,a=n.lastChild;!r||r===a&&r.nodeName==="BR"?e.dom.setHTML(n,t):e.selection.setContent(t)}},yR=function(e,t){S.from(e.getParent(t,"td,th")).map(Z.fromDom).each(_N)},CR=function(e,t){var n=e.schema.getTextInlineElements(),r=e.dom;if(t){var a=e.getBody(),i=Wb(r);he.each(r.select("*[data-mce-fragment]"),function(s){var u=P(n[s.nodeName.toLowerCase()]);if(u&&PN(r,s))for(var l=s.parentNode;P(l)&&l!==a;l=l.parentNode){var v=IN(r,s,l);if(v)break;if(i.compare(l,s)){r.remove(s,!0);break}}})}},wR=function(e){for(var t=e;t=t.walk();)t.type===1&&t.attr("data-mce-fragment","1")},ER=function(e){he.each(e.getElementsByTagName("*"),function(t){t.removeAttribute("data-mce-fragment")})},SR=function(e){return!!e.getAttribute("data-mce-fragment")},xR=function(e,t){return t&&!e.schema.getShortEndedElements()[t.nodeName]},DR=function(e,t){var n,r=e.dom,a=e.selection;if(t){a.scrollIntoView(t);var i=Ro(e.getBody(),t);if(r.getContentEditable(i)==="false"){r.remove(t),a.select(i);return}var s=r.createRng(),u=t.previousSibling;if(Ge(u)){if(s.setStart(u,u.nodeValue.length),!pt.ie){var l=t.nextSibling;Ge(l)&&(u.appendData(l.data),l.parentNode.removeChild(l))}}else s.setStartBefore(t),s.setEndBefore(t);var v=function(m){var C=fe.fromRangeStart(m),x=Gr(e.getBody());if(C=x.next(C),C)return C.toRange()},g=r.getParent(t,r.isBlock);r.remove(t),g&&r.isEmpty(g)&&(e.$(g).empty(),s.setStart(g,0),s.setEnd(g,0),!ev(g)&&!SR(g)&&(n=v(s))?(s=n,r.remove(g)):r.add(g,r.create("br",{"data-mce-bogus":"1"}))),a.setRng(s)}},kR=function(e){var t=e.dom,n=Qd(e.selection.getRng());e.selection.setRng(n);var r=t.getParent(n.startContainer,ev);mR(t,n,r)?Xd(e,n,Z.fromDom(r)):e.getDoc().execCommand("Delete",!1,null)},OR=function(e,t,n){var r,a,i,s=e.selection,u=e.dom;/^ | $/.test(t)&&(t=gR(u,s.getRng(),t));var l=e.parser,v=n.merge,g=Io({validate:Yk(e)},e.schema),m='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>',C=e.fire("BeforeSetContent",{content:t,format:"html",selection:!0,paste:n.paste});if(C.isDefaultPrevented()){e.fire("SetContent",{content:C.content,format:"html",selection:!0,paste:n.paste});return}t=C.content,t.indexOf("{$caret}")===-1&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,m),a=s.getRng();var x=a.startContainer||(a.parentElement?a.parentElement():null),D=e.getBody();x===D&&s.isCollapsed()&&u.isBlock(D.firstChild)&&xR(e,D.firstChild)&&u.isEmpty(D.firstChild)&&(a=u.createRng(),a.setStart(D.firstChild,0),a.setEnd(D.firstChild,0),s.setRng(a)),s.isCollapsed()||kR(e),r=s.getNode();var k={context:r.nodeName.toLowerCase(),data:n.data,insert:!0},T=l.parse(t,k);if(n.paste===!0&&tR(e.schema,T)&&lR(u,r)){a=hR(g,u,s.getRng(),T),s.setRng(a),e.fire("SetContent",C);return}if(wR(T),i=T.lastChild,i.attr("id")==="mce_marker"){var F=i;for(i=i.prev;i;i=i.walk(!0))if(i.type===3||!u.isBlock(i.name)){e.schema.isValidChild(i.parent.name,"span")&&i.parent.insert(F,i,i.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(r),!k.invalid)t=g.serialize(T),bR(e,t,r);else{e.selection.setContent(m),r=s.getNode();var R=e.getBody();for(r.nodeType===9?r=i=R:i=r;i!==R;)r=i,i=i.parentNode;t=r===R?R.innerHTML:u.getOuterHTML(r),t=g.serialize(l.parse(t.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return g.serialize(T)}))),r===R?u.setHTML(R,t):u.setOuterHTML(r,t)}CR(e,v),DR(e,u.get("mce_marker")),ER(e.getBody()),yR(u,s.getStart()),e.fire("SetContent",C),e.addVisual()},tv=function(e,t){t(e),e.firstChild&&tv(e.firstChild,t),e.next&&tv(e.next,t)},TR=function(e,t,n){var r={},a={},i=[];n.firstChild&&tv(n.firstChild,function(l){_e(e,function(v){v.name===l.name&&(r[v.name]?r[v.name].nodes.push(l):r[v.name]={filter:v,nodes:[l]})}),_e(t,function(v){typeof l.attr(v.name)=="string"&&(a[v.name]?a[v.name].nodes.push(l):a[v.name]={filter:v,nodes:[l]})})});for(var s in r)$e(r,s)&&i.push(r[s]);for(var u in a)$e(a,u)&&i.push(a[u]);return i},AR=function(e,t,n){var r=TR(e,t,n);_e(r,function(a){_e(a.filter.callbacks,function(i){i(a.nodes,a.filter.name,{})})})},NR="html",nv=function(e){return e instanceof Br},PR=function(e){Bi(e)&&Jn(e.getBody()).each(function(t){var n=t.getNode(),r=ro(n)?Jn(n).getOr(t):t;e.selection.setRng(r.toRange())})},rv=function(e,t,n){e.dom.setHTML(e.getBody(),t),n!==!0&&PR(e)},RR=function(e,t,n,r){if(n.length===0||/^\s+$/.test(n)){var a='<br data-mce-bogus="1">';t.nodeName==="TABLE"?n="<tr><td>"+a+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(n="<li>"+a+"</li>");var i=$n(e);i&&e.schema.isValidChild(t.nodeName.toLowerCase(),i.toLowerCase())?(n=a,n=e.dom.createHTML(i,bs(e),n)):n||(n='<br data-mce-bogus="1">'),rv(e,n,r.no_selection),e.fire("SetContent",r)}else r.format!=="raw"&&(n=Io({validate:e.validate},e.schema).serialize(e.parser.parse(n,{isRootContent:!0,insert:!0}))),r.content=Su(Z.fromDom(t))?n:he.trim(n),rv(e,r.content,r.no_selection),r.no_events||e.fire("SetContent",r);return r.content},IR=function(e,t,n,r){AR(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);var a=Io({validate:e.validate},e.schema).serialize(n);return r.content=Su(Z.fromDom(t))?a:he.trim(a),rv(e,r.content,r.no_selection),r.no_events||e.fire("SetContent",r),n},BR=function(e,t){return st(st({format:NR},e),{set:!0,content:nv(t)?"":t})},MR=function(e,t,n){var r=BR(n,t),a=n.no_events?r:e.fire("BeforeSetContent",r);return nv(t)||(t=a.content),S.from(e.getBody()).fold(Y(t),function(i){return nv(t)?IR(e,i,t,a):RR(e,i,t,a)})},$R=function(e,t){return ES(e,t).isSome()},Ay=function(e){return ge(e)?e:N},FR=function(e,t,n){for(var r=e.dom,a=Ay(n);r.parentNode;){r=r.parentNode;var i=Z.fromDom(r),s=t(i);if(s.isSome())return s;if(a(i))break}return S.none()},av=function(e,t,n){var r=t(e),a=Ay(n);return r.orThunk(function(){return a(e)?S.none():FR(e,t,a)})},iv=od,Ny=function(e,t,n){var r=e.formatter.get(n);if(r)for(var a=0;a<r.length;a++){var i=r[a];if(lr(i)&&i.inherit===!1&&e.dom.is(t,i.selector))return!0}return!1},ov=function(e,t,n,r,a){var i=e.dom.getRoot();return t===i?!1:(t=e.dom.getParent(t,function(s){return Ny(e,s,n)?!0:s.parentNode===i||!!ya(e,s,n,r,!0)}),!!ya(e,t,n,r,a))},sv=function(e,t,n){if(iv(t,n.inline)||iv(t,n.block))return!0;if(n.selector)return t.nodeType===1&&e.is(t,n.selector)},Py=function(e,t,n,r,a,i){var s=n[r];if(ge(n.onmatch))return n.onmatch(t,n,r);if(s){if(j(s.length)){for(var u in s)if($e(s,u)){var l=r==="attributes"?e.getAttrib(t,u):el(e,t,u),v=Pa(s[u],i),g=ae(l)||Wp(l);if(g&&ae(v))continue;if(a&&g&&!n.exact||(!a||n.exact)&&!iv(l,sd(e,v,u)))return!1}}else for(var m=0;m<s.length;m++)if(r==="attributes"?e.getAttrib(t,s[m]):el(e,t,s[m]))return!0}return!0},ya=function(e,t,n,r,a){var i=e.formatter.get(n),s=e.dom;if(i&&t)for(var u=0;u<i.length;u++){var l=i[u];if(sv(e.dom,t,l)&&Py(s,t,l,"attributes",a,r)&&Py(s,t,l,"styles",a,r)){var v=l.classes;if(v){for(var g=0;g<v.length;g++)if(!e.dom.hasClass(t,Pa(v[g],r)))return}return l}}},uv=function(e,t,n,r,a){if(r)return ov(e,r,t,n,a);if(r=e.selection.getNode(),ov(e,r,t,n,a))return!0;var i=e.selection.getStart();return!!(i!==r&&ov(e,i,t,n,a))},LR=function(e,t,n){var r=[],a={},i=e.selection.getStart();return e.dom.getParent(i,function(s){for(var u=0;u<t.length;u++){var l=t[u];!a[l]&&ya(e,s,l,n)&&(a[l]=!0,r.push(l))}},e.dom.getRoot()),r},_R=function(e,t){var n=function(a){return Yt(a,Z.fromDom(e.getBody()))},r=function(a,i){return ya(e,a.dom,i)?S.some(i):S.none()};return S.from(e.selection.getStart(!0)).bind(function(a){return av(Z.fromDom(a),function(i){return on(t,function(s){return r(i,s)})},n)}).getOrNull()},VR=function(e,t){var n=e.formatter.get(t),r=e.dom;if(n)for(var a=e.selection.getStart(),i=tl(r,a),s=n.length-1;s>=0;s--){var u=n[s];if(!lr(u)||P(u.defaultBlock))return!0;for(var l=i.length-1;l>=0;l--)if(r.is(i[l],u.selector))return!0}return!1},HR=function(e,t,n){return Gt(n,function(r,a){var i=nT(e,a);return e.formatter.matchNode(t,a,{},i)?r.concat([a]):r},[])},$o=An,Ry="_mce_caret",UR=function(e,t){return e.importNode(t,!0)},jR=function(e){for(var t=[];e;){if(e.nodeType===3&&e.nodeValue!==$o||e.childNodes.length>1)return[];e.nodeType===1&&t.push(e),e=e.firstChild}return t},Iy=function(e){return jR(e).length>0},By=function(e){if(e){var t=new Cn(e,e);for(e=t.current();e;e=t.next())if(Ge(e))return e}return null},lv=function(e){var t=Z.fromTag("span");return Ha(t,{id:Ry,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Pn(t,Z.fromText($o)),t},zR=function(e){var t=By(e);return t&&t.nodeValue.charAt(0)===$o&&t.deleteData(0,1),t},fv=function(e,t,n){n===void 0&&(n=!0);var r=e.dom,a=e.selection;if(Iy(t))$i(e,!1,Z.fromDom(t),n);else{var i=a.getRng(),s=r.getParent(t,r.isBlock),u=i.startContainer,l=i.startOffset,v=i.endContainer,g=i.endOffset,m=zR(t);r.remove(t,!0),u===m&&l>0&&i.setStart(m,l-1),v===m&&g>0&&i.setEnd(m,g-1),s&&r.isEmpty(s)&&Mi(Z.fromDom(s)),a.setRng(i)}},cv=function(e,t,n){n===void 0&&(n=!0);var r=e.dom,a=e.selection;if(t)fv(e,t,n);else if(t=Ii(e.getBody(),a.getStart()),!t)for(;t=r.get(Ry);)fv(e,t,!1)},WR=function(e,t,n){var r=e.dom,a=r.getParent(n,h(ad,e));a&&r.isEmpty(a)?n.parentNode.replaceChild(t,n):(LN(Z.fromDom(n)),r.isEmpty(n)?n.parentNode.replaceChild(t,n):r.insertAfter(t,n))},My=function(e,t){return e.appendChild(t),t},$y=function(e,t){var n=_n(e,function(r,a){return My(r,a.cloneNode(!1))},t);return My(n,n.ownerDocument.createTextNode($o))},YR=function(e,t,n,r,a,i){var s=e.formatter,u=e.dom,l=it(bn(s.get()),function(C){return C!==r&&!Gn(C,"removeformat")}),v=HR(e,n,l),g=it(v,function(C){return!rT(e,C,r)});if(g.length>0){var m=n.cloneNode(!1);return u.add(t,m),s.remove(r,a,m,i),u.remove(m),S.some(m)}else return S.none()},KR=function(e,t,n){var r,a,i=e.selection,s=i.getRng(),u=s.startOffset,l=s.startContainer,v=l.nodeValue;r=Ii(e.getBody(),i.getStart()),r&&(a=By(r));var g=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(v&&u>0&&u<v.length&&g.test(v.charAt(u))&&g.test(v.charAt(u-1))){var m=i.getBookmark();s.collapse(!0);var C=No(e,s,e.formatter.get(t));C=ol(C),e.formatter.apply(t,n,C),i.moveToBookmark(m)}else(!r||a.nodeValue!==$o)&&(r=UR(e.getDoc(),lv(!0).dom),a=r.firstChild,s.insertNode(r),u=1),e.formatter.apply(t,n,r),i.setCursorLocation(a,u)},qR=function(e,t,n,r){var a=e.dom,i=e.selection,s,u,l,v=[],g=i.getRng(),m=g.startContainer,C=g.startOffset;for(u=m,m.nodeType===3&&(C!==m.nodeValue.length&&(s=!0),u=u.parentNode);u;){if(ya(e,u,t,n,r)){l=u;break}u.nextSibling&&(s=!0),v.push(u),u=u.parentNode}if(l)if(s){var x=i.getBookmark();g.collapse(!0);var D=No(e,g,e.formatter.get(t),!0);D=ol(D),e.formatter.remove(t,n,D,r),i.moveToBookmark(x)}else{var k=Ii(e.getBody(),l),T=lv(!1).dom;WR(e,T,k!==null?k:l);var F=YR(e,T,l,t,n,r),R=$y(v.concat(F.toArray()),T);fv(e,k,!1),i.setCursorLocation(R,1),a.isEmpty(l)&&a.remove(l)}},GR=function(e,t){var n=e.selection,r=e.getBody();cv(e,null,!1),(t===8||t===46)&&n.isCollapsed()&&n.getStart().innerHTML===$o&&cv(e,Ii(r,n.getStart())),(t===37||t===39)&&cv(e,Ii(r,n.getStart()))},XR=function(e){e.on("mouseup keydown",function(t){GR(e,t.keyCode)})},JR=function(e,t){var n=lv(!1),r=$y(t,n.dom);return zr(Z.fromDom(e),n),Tn(Z.fromDom(e)),fe(r,0)},QR=function(e,t){var n=e.schema.getTextInlineElements();return $e(n,yn(t))&&!ma(t.dom)&&!Ei(t.dom)},ZR=function(e){return ma(e.dom)&&Iy(e.dom)},yl={},Fy=Vn,Ly=gt,eI=function(e,t){var n=yl[e];n||(yl[e]=[]),yl[e].push(t)},tI=function(e,t){Ly(yl[e],function(n){n(t)})};eI("pre",function(e){var t=e.selection.getRng(),n,r=function(s){return i(s.previousSibling)&&qn(n,s.previousSibling)!==-1},a=function(s,u){dt(u).remove(),dt(s).append("<br><br>").append(u.childNodes)},i=Rr(["pre"]);t.collapsed||(n=e.selection.getSelectedBlocks(),Ly(Fy(Fy(n,i),r),function(s){a(s.previousSibling,s)}))});var dv=he.each,vv=function(e){return lt(e)&&!Cr(e)&&!ma(e)&&!Ei(e)},_y=function(e,t){for(var n=e;n;n=n[t]){if(Ge(n)&&lu(n.data))return e;if(lt(n)&&!Cr(n))return n}return e},Vy=function(e,t,n){var r=Wb(e);if(t&&n&&(t=_y(t,"previousSibling"),n=_y(n,"nextSibling"),r.compare(t,n))){for(var a=t.nextSibling;a&&a!==n;){var i=a;a=a.nextSibling,t.appendChild(i)}return e.remove(n),he.each(he.grep(n.childNodes),function(s){t.appendChild(s)}),t}return n},Hy=function(e,t,n,r){if(r&&t.merge_siblings!==!1){var a=Vy(e,rd(r),r);Vy(e,a,rd(a,!0))}},nI=function(e,t,n){if(t.clear_child_styles){var r=t.links?"*:not(a)":"*";dv(e.select(r,n),function(a){vv(a)&&dv(t.styles,function(i,s){e.setStyle(a,s,"")})})}},pv=function(e,t,n){dv(e.childNodes,function(r){vv(r)&&(t(r)&&n(r),r.hasChildNodes()&&pv(r,t,n))})},rI=function(e,t){t.nodeName==="SPAN"&&e.getAttribs(t).length===0&&e.remove(t,!0)},Uy=function(e,t){return function(n){return!!(n&&el(e,n,t))}},jy=function(e,t,n){return function(r){e.setStyle(r,t,n),r.getAttribute("style")===""&&r.removeAttribute("style"),rI(e,r)}},Is=ja.generate([{keep:[]},{rename:["name"]},{removed:[]}]),aI=/^(src|href|style)$/,hv=he.each,Fo=od,iI=function(e){return/^(TR|TH|TD)$/.test(e.nodeName)},zy=function(e,t,n){return e.isChildOf(t,n)&&t!==n&&!e.isBlock(n)},Wy=function(e,t,n){var r=t[n?"startContainer":"endContainer"],a=t[n?"startOffset":"endOffset"];if(lt(r)){var i=r.childNodes.length-1;!n&&a&&a--,r=r.childNodes[a>i?i:a]}return Ge(r)&&n&&a>=r.nodeValue.length&&(r=new Cn(r,e.getBody()).next()||r),Ge(r)&&!n&&a===0&&(r=new Cn(r,e.getBody()).prev()||r),r},Yy=function(e,t){var n=t?"firstChild":"lastChild";if(iI(e)&&e[n]){var r=e[n];return e.nodeName==="TR"&&r[n]||r}return e},gv=function(e,t,n,r){var a=e.create(n,r);return t.parentNode.insertBefore(a,t),a.appendChild(t),a},Ky=function(e,t,n,r,a){var i=Z.fromDom(t),s=Z.fromDom(e.create(r,a)),u=n?Sh(i):Eh(i);return du(s,u),n?(zr(i,s),Th(s,i)):(ns(i,s),Pn(s,i)),s.dom},oI=function(e,t,n){if(xn(n)&&Fo(t,n.inline)||ba(n)&&Fo(t,n.block))return!0;if(lr(n))return lt(t)&&e.is(t,n.selector)},sI=function(e,t){return t.links&&e.nodeName==="A"},Cl=function(e,t,n,r){var a=rd(t,n,r);return ae(a)||a.nodeName==="BR"||e.isBlock(a)},uI=function(e,t,n){var r=t.parentNode,a,i=e.dom,s=$n(e);ba(n)&&(s?r===i.getRoot()&&(!n.list_block||!Fo(t,n.list_block))&&_e(ot(t.childNodes),function(u){To(e,s,u.nodeName.toLowerCase())?a?a.appendChild(u):(a=gv(i,u,s),i.setAttribs(a,e.settings.forced_root_block_attrs)):a=null}):i.isBlock(t)&&!i.isBlock(r)&&(!Cl(i,t,!1)&&!Cl(i,t.firstChild,!0,!0)&&t.insertBefore(i.create("br"),t.firstChild),!Cl(i,t,!0)&&!Cl(i,t.lastChild,!1,!0)&&t.appendChild(i.create("br")))),!(aT(n)&&!Fo(n.inline,t))&&i.remove(t,!0)},qy=function(e,t,n,r,a){var i,s=e.dom;if(!oI(s,r,t)&&!sI(r,t))return Is.keep();var u=r;if(xn(t)&&t.remove==="all"&&le(t.preserve_attributes)){var l=it(s.getAttribs(u),function(C){return qe(t.preserve_attributes,C.name.toLowerCase())});if(s.removeAllAttribs(u),_e(l,function(C){return s.setAttrib(u,C.name,C.value)}),l.length>0)return Is.rename("span")}if(t.remove!=="all"){hv(t.styles,function(C,x){C=sd(s,Pa(C,n),x+""),Ue(x)&&(x=C,a=null),(t.remove_similar||!a||Fo(el(s,a,x),C))&&s.setStyle(u,x,""),i=!0}),i&&s.getAttrib(u,"style")===""&&(u.removeAttribute("style"),u.removeAttribute("data-mce-style")),hv(t.attributes,function(C,x){var D;if(C=Pa(C,n),Ue(x)&&(x=C,a=null),t.remove_similar||!a||Fo(s.getAttrib(a,x),C)){if(x==="class"&&(C=s.getAttrib(u,x),C&&(D="",_e(C.split(/\s+/),function(k){/mce\-\w+/.test(k)&&(D+=(D?" ":"")+k)}),D))){s.setAttrib(u,x,D);return}if(aI.test(x)&&u.removeAttribute("data-mce-"+x),x==="style"&&Rr(["li"])(u)&&s.getStyle(u,"list-style-type")==="none"){u.removeAttribute(x),s.setStyle(u,"list-style-type","none");return}x==="class"&&u.removeAttribute("className"),u.removeAttribute(x)}}),hv(t.classes,function(C){C=Pa(C,n),(!a||s.hasClass(a,C))&&s.removeClass(u,C)});for(var v=s.getAttribs(u),g=0;g<v.length;g++){var m=v[g].nodeName;if(m.indexOf("_")!==0&&m.indexOf("data-")!==0)return Is.keep()}}return t.remove!=="none"?(uI(e,u,t),Is.removed()):Is.keep()},Lo=function(e,t,n,r,a){return qy(e,t,n,r,a).fold(N,function(i){return e.dom.rename(r,i),!0},M)},lI=function(e,t,n,r,a){var i;return _e(tl(e.dom,t.parentNode).reverse(),function(s){if(!i&&s.id!=="_start"&&s.id!=="_end"){var u=ya(e,s,n,r,a);u&&u.split!==!1&&(i=s)}}),i},fI=function(e,t,n,r){return qy(e,t,n,r,r).fold(Y(r),function(a){var i=e.dom.createFragment();return i.appendChild(r),e.dom.rename(r,a)},Y(null))},cI=function(e,t,n,r,a,i,s,u){var l,v,g,m=e.dom;if(n){for(var C=n.parentNode,x=r.parentNode;x&&x!==C;x=x.parentNode){l=m.clone(x,!1);for(var D=0;D<t.length&&(l=fI(e,t[D],u,l),l!==null);D++);l&&(v&&l.appendChild(v),g||(g=l),v=l)}i&&(!s.mixed||!m.isBlock(n))&&(r=m.split(n,r)),v&&(a.parentNode.insertBefore(v,a),g.appendChild(a),xn(s)&&Hy(m,s,u,v))}return r},Gy=function(e,t,n,r,a){var i=e.formatter.get(t),s=i[0],u=!0,l=e.dom,v=e.selection,g=function(R){var G=lI(e,R,t,n,a);return cI(e,i,G,R,R,!0,s,n)},m=function(R){return Cr(R)&&lt(R)&&(R.id==="_start"||R.id==="_end")},C=function(R){return _t(i,function(G){return Lo(e,G,n,R,R)})},x=function(R){var G=!0,K=!1;lt(R)&&l.getContentEditable(R)&&(G=u,u=l.getContentEditable(R)==="true",K=!0);var V=ot(R.childNodes);if(u&&!K){var ne=C(R),ve=ne||_t(i,function(me){return sv(l,R,me)}),Oe=R.parentNode;!ve&&P(Oe)&&ud(s)&&C(Oe)}if(s.deep&&V.length){for(var nt=0;nt<V.length;nt++)x(V[nt]);K&&(u=G)}var ze=["underline","line-through","overline"];_e(ze,function(me){lt(R)&&e.dom.getStyle(R,"text-decoration")===me&&R.parentNode&&nb(l,R.parentNode)===me&&Lo(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:me}},null,R)})},D=function(R){var G=l.get(R?"_start":"_end"),K=G[R?"firstChild":"lastChild"];return m(K)&&(K=K[R?"firstChild":"lastChild"]),Ge(K)&&K.data.length===0&&(K=R?G.previousSibling||G.nextSibling:G.nextSibling||G.previousSibling),l.remove(G,!0),K},k=function(R){var G,K,V=No(e,R,i,R.collapsed);if(s.split){if(V=ol(V),G=Wy(e,V,!0),K=Wy(e,V),G!==K){if(G=Yy(G,!0),K=Yy(K,!1),zy(l,G,K)){var ne=S.from(G.firstChild).getOr(G);g(Ky(l,ne,!0,"span",{id:"_start","data-mce-type":"bookmark"})),D(!0);return}if(zy(l,K,G)){var ne=S.from(K.lastChild).getOr(K);g(Ky(l,ne,!1,"span",{id:"_end","data-mce-type":"bookmark"})),D(!1);return}G=gv(l,G,"span",{id:"_start","data-mce-type":"bookmark"}),K=gv(l,K,"span",{id:"_end","data-mce-type":"bookmark"});var ve=l.createRng();ve.setStartAfter(G),ve.setEndBefore(K),ks(l,ve,function(Oe){_e(Oe,function(nt){!Cr(nt)&&!Cr(nt.parentNode)&&g(nt)})}),g(G),g(K),G=D(!0),K=D()}else G=K=g(G);V.startContainer=G.parentNode?G.parentNode:G,V.startOffset=l.nodeIndex(G),V.endContainer=K.parentNode?K.parentNode:K,V.endOffset=l.nodeIndex(K)+1}ks(l,V,function(Oe){_e(Oe,x)})};if(r){if(Zu(r)){var T=l.createRng();T.setStartBefore(r),T.setEndAfter(r),k(T)}else k(r);md(e,t,r,n);return}if(l.getContentEditable(v.getNode())==="false"){r=v.getNode();for(var F=0;F<i.length&&!(i[F].ceFalseOverride&&Lo(e,i[F],n,r,r));F++);md(e,t,r,n);return}!v.isCollapsed()||!xn(s)||Po(e).length?(pd(v,!0,function(){vd(e,k)}),xn(s)&&uv(e,t,n,v.getStart())&&tb(l,v,v.getRng()),e.nodeChanged()):qR(e,t,n,a),md(e,t,r,n)},Xy=he.each,dI=function(e,t,n,r){var a=function(i){if(i.nodeType===1&&i.parentNode&&i.parentNode.nodeType===1){var s=nb(e,i.parentNode);e.getStyle(i,"color")&&s?e.setStyle(i,"text-decoration",s):e.getStyle(i,"text-decoration")===s&&e.setStyle(i,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(he.walk(r,a,"childNodes"),a(r))},vI=function(e,t,n,r){t.styles&&t.styles.backgroundColor&&pv(r,Uy(e,"fontSize"),jy(e,"backgroundColor",Pa(t.styles.backgroundColor,n)))},pI=function(e,t,n,r){xn(t)&&(t.inline==="sub"||t.inline==="sup")&&(pv(r,Uy(e,"fontSize"),jy(e,"fontSize","")),e.remove(e.select(t.inline==="sup"?"sub":"sup",r),!0))},hI=function(e,t,n,r){Xy(t,function(a){xn(a)&&Xy(e.dom.select(a.inline,r),function(i){vv(i)&&Lo(e,a,n,i,a.exact?i:null)}),nI(e.dom,a,r)})},gI=function(e,t,n,r,a){ya(e,a.parentNode,n,r)&&Lo(e,t,r,a)||t.merge_with_parents&&e.dom.getParent(a.parentNode,function(i){if(ya(e,i,n,r))return Lo(e,t,r,a),!0})},wl=he.each,mI=function(e){return lt(e)&&!Cr(e)&&!ma(e)&&!Ei(e)},bI=function(e,t,n,r){if(Gk(e)&&xn(t)){var a=cg(e.schema),i=$R(Z.fromDom(n),function(s){return ma(s.dom)});return wt(a,r)&&wn(Z.fromDom(n.parentNode),!1)&&!i}else return!1},mv=function(e,t,n,r){var a=e.formatter.get(t),i=a[0],s=!r&&e.selection.isCollapsed(),u=e.dom,l=e.selection,v=function(G,K){if(K===void 0&&(K=i),ge(K.onformat)&&K.onformat(G,K,n,r),wl(K.styles,function(ne,ve){u.setStyle(G,ve,Pa(ne,n))}),K.styles){var V=u.getAttrib(G,"style");V&&u.setAttrib(G,"data-mce-style",V)}wl(K.attributes,function(ne,ve){u.setAttrib(G,ve,Pa(ne,n))}),wl(K.classes,function(ne){ne=Pa(ne,n),u.hasClass(G,ne)||u.addClass(G,ne)})},g=function(G,K){var V=!1;return wl(G,function(ne){if(!lr(ne))return!1;if(!(P(ne.collapsed)&&ne.collapsed!==s)&&u.is(K,ne.selector)&&!ma(K))return v(K,ne),V=!0,!1}),V},m=function(G){if(ce(G)){var K=u.create(G);return v(K),K}else return null},C=function(G,K,V){var ne=[],ve=!0,Oe=i.inline||i.block,nt=m(Oe);ks(G,K,function(ze){var me,Ze=function(Ie){var He=!1,Pe=ve,Le=Ie.nodeName.toLowerCase(),Ye=Ie.parentNode,we=Ye.nodeName.toLowerCase();if(lt(Ie)&&G.getContentEditable(Ie)&&(Pe=ve,ve=G.getContentEditable(Ie)==="true",He=!0),sn(Ie)&&!bI(e,i,Ie,we)){me=null,ba(i)&&G.remove(Ie);return}if(ba(i)&&i.wrapper&&ya(e,Ie,t,n)){me=null;return}if(ve&&!He&&ba(i)&&!i.wrapper&&ad(e,Le)&&To(e,we,Oe)){var We=G.rename(Ie,Oe);v(We),ne.push(We),me=null;return}if(lr(i)){var mt=g(a,Ie);if(!mt&&P(Ye)&&ud(i)&&(mt=g(a,Ye)),!xn(i)||mt){me=null;return}}ve&&!He&&To(e,Oe,Le)&&To(e,we,Oe)&&!(!V&&Ge(Ie)&&xu(Ie.data))&&!ma(Ie)&&(!xn(i)||!G.isBlock(Ie))?(me||(me=G.clone(nt,!1),Ie.parentNode.insertBefore(me,Ie),ne.push(me)),me.appendChild(Ie)):(me=null,_e(ot(Ie.childNodes),Ze),He&&(ve=Pe),me=null)};_e(ze,Ze)}),i.links===!0&&_e(ne,function(ze){var me=function(Ze){Ze.nodeName==="A"&&v(Ze,i),_e(ot(Ze.childNodes),me)};me(ze)}),_e(ne,function(ze){var me=function(He){var Pe=0;return _e(He.childNodes,function(Le){!tT(Le)&&!Cr(Le)&&Pe++}),Pe},Ze=function(He){var Pe=St(He.childNodes,mI).filter(function(Le){return sv(G,Le,i)});return Pe.map(function(Le){var Ye=G.clone(Le,!1);return v(Ye),G.replace(Ye,He,!0),G.remove(Le,!0),Ye}).getOr(He)},Ie=me(ze);if((ne.length>1||!G.isBlock(ze))&&Ie===0){G.remove(ze,!0);return}(xn(i)||ba(i)&&i.wrapper)&&(!i.exact&&Ie===1&&(ze=Ze(ze)),hI(e,a,n,ze),gI(e,i,t,n,ze),vI(G,i,n,ze),dI(G,i,n,ze),pI(G,i,n,ze),Hy(G,i,n,ze))})};if(u.getContentEditable(l.getNode())==="false"){r=l.getNode();for(var x=0,D=a.length;x<D;x++){var k=a[x];if(k.ceFalseOverride&&lr(k)&&u.is(r,k.selector)){v(r,k);break}}mb(e,t,r,n);return}if(i){if(r)if(Zu(r)){if(!g(a,r)){var T=u.createRng();T.setStartBefore(r),T.setEndAfter(r),C(u,No(e,T,a),!0)}}else C(u,r,!0);else if(!s||!xn(i)||Po(e).length){var F=l.getNode(),R=a[0];!e.settings.forced_root_block&&R.defaultBlock&&!u.getParent(F,u.isBlock)&&mv(e,R.defaultBlock),l.setRng(Qd(l.getRng())),pd(l,!0,function(){vd(e,function(G,K){var V=K?G:No(e,G,a);C(u,V,!1)})}),tb(u,l,l.getRng()),e.nodeChanged()}else KR(e,t,n);tI(t,e)}mb(e,t,r,n)},Jy=function(e){return $e(e,"vars")},yI=function(e,t){e.set({}),t.on("NodeChange",function(n){tC(t,n.element,e.get())}),t.on("FormatApply FormatRemove",function(n){var r=S.from(n.node).map(function(a){return Zu(a)?a:a.startContainer}).bind(function(a){return lt(a)?S.some(a):S.from(a.parentElement)}).getOrThunk(function(){return Qy(t)});tC(t,r,e.get())})},Qy=function(e){return e.selection.getStart()},Zy=function(e,t,n,r,a){var i=function(u){var l=e.formatter.matchNode(u,n,a??{},r);return!j(l)},s=function(u){return Ny(e,u,n)?!0:r?!1:P(e.formatter.matchNode(u,n,a,!0))};return tn(t,i,s)},eC=function(e,t){var n=t??Qy(e);return it(tl(e.dom,n),function(r){return lt(r)&&!Ei(r)})},tC=function(e,t,n){var r=eC(e,t);Ut(n,function(a,i){var s=function(u){var l=Zy(e,r,i,u.similar,Jy(u)?u.vars:void 0),v=l.isSome();if(u.state.get()!==v){u.state.set(v);var g=l.getOr(t);Jy(u)?u.callback(v,{node:g,format:i,parents:r}):_e(u.callbacks,function(m){return m(v,{node:g,format:i,parents:r})})}};_e([a.withSimilar,a.withoutSimilar],s),_e(a.withVars,s)})},CI=function(e,t,n,r,a,i){var s=t.get();_e(n.split(","),function(u){var l=Ve(s,u).getOrThunk(function(){var m={withSimilar:{state:Hn(!1),similar:!0,callbacks:[]},withoutSimilar:{state:Hn(!1),similar:!1,callbacks:[]},withVars:[]};return s[u]=m,m}),v=function(){var m=eC(e);return Zy(e,m,u,a,i).isSome()};if(j(i)){var g=a?l.withSimilar:l.withoutSimilar;g.callbacks.push(r),g.callbacks.length===1&&g.state.set(v())}else l.withVars.push({state:Hn(v()),similar:a,vars:i,callback:r})}),t.set(s)},wI=function(e,t,n){var r=e.get();_e(t.split(","),function(a){return Ve(r,a).each(function(i){r[a]={withSimilar:st(st({},i.withSimilar),{callbacks:it(i.withSimilar.callbacks,function(s){return s!==n})}),withoutSimilar:st(st({},i.withoutSimilar),{callbacks:it(i.withoutSimilar.callbacks,function(s){return s!==n})}),withVars:it(i.withVars,function(s){return s.callback!==n})}})}),e.set(r)},EI=function(e,t,n,r,a,i){return t.get()===null&&yI(t,e),CI(e,t,n,r,a,i),{unbind:function(){return wI(t,n,r)}}},SI=function(e,t,n,r){var a=e.formatter.get(t);uv(e,t,n,r)&&(!("toggle"in a[0])||a[0].toggle)?Gy(e,t,n,r):mv(e,t,n,r)},bv=function(e,t){var n=t||document,r=n.createDocumentFragment();return _e(e,function(a){r.appendChild(a.dom)}),Z.fromDom(r)},yv=function(e,t,n){return{element:e,width:t,rows:n}},nC=function(e,t){return{element:e,cells:t}},xI=function(e,t){return{x:e,y:t}},rC=function(e,t){var n=parseInt(is(e,t),10);return isNaN(n)?1:n},DI=function(e,t,n,r,a){for(var i=rC(a,"rowspan"),s=rC(a,"colspan"),u=e.rows,l=n;l<n+i;l++){u[l]||(u[l]=nC(Wg(r),[]));for(var v=t;v<t+s;v++){var g=u[l].cells;g[v]=l===n&&v===t?a:yo(a)}}},kI=function(e,t,n){var r=e.rows,a=r[n]?r[n].cells:[];return!!a[t]},OI=function(e,t,n){for(;kI(e,t,n);)t++;return t},aC=function(e){return Gt(e,function(t,n){return n.cells.length>t?n.cells.length:t},0)},iC=function(e,t){for(var n=e.rows,r=0;r<n.length;r++)for(var a=n[r].cells,i=0;i<a.length;i++)if(Yt(a[i],t))return S.some(xI(i,r));return S.none()},oC=function(e,t,n,r,a){for(var i=[],s=e.rows,u=n;u<=a;u++){var l=s[u].cells,v=t<r?l.slice(t,r+1):l.slice(r,t+1);i.push(nC(s[u].element,v))}return i},TI=function(e,t,n){var r=t.x,a=t.y,i=n.x,s=n.y,u=a<s?oC(e,r,a,i,s):oC(e,r,s,i,a);return yv(e.element,aC(u),u)},AI=function(e,t){var n=yo(e.element),r=Z.fromTag("tbody");return du(r,t),Pn(n,r),n},NI=function(e){return xt(e.rows,function(t){var n=xt(t.cells,function(a){var i=Wg(a);return Ua(i,"colspan"),Ua(i,"rowspan"),i}),r=yo(t.element);return du(r,n),r})},PI=function(e){var t=yv(yo(e),0,[]);return _e(rr(e,"tr"),function(n,r){_e(rr(n,"td,th"),function(a,i){DI(t,OI(t,i,r),r,n,a)})}),yv(t.element,aC(t.rows),t.rows)},RI=function(e){return AI(e,NI(e))},II=function(e,t,n){return iC(e,t).bind(function(r){return iC(e,n).map(function(a){return TI(e,r,a)})})},BI=function(e){return St(e,function(t){return yn(t)==="ul"||yn(t)==="ol"})},MI=function(e,t){return St(e,function(n){return yn(n)==="li"&&cd(n,t)}).fold(Y([]),function(n){return BI(e).map(function(r){var a=Z.fromTag(yn(r)),i=L(Vh(r),function(s,u){return yi(u,"list-style")});return uS(a,i),[Z.fromTag("li"),a]}).getOr([])})},$I=function(e,t){var n=Gt(t,function(r,a){return Pn(a,r),a},e);return t.length>0?bv([n]):n},FI=function(e){return us(e)?jr(e).filter(ac).fold(Y([]),function(t){return[e,t]}):ac(e)?[e]:[]},LI=function(e,t){var n=Z.fromDom(t.commonAncestorContainer),r=Ra(n,e),a=it(r,function(u){return rc(u)||$S(u)}),i=MI(r,t),s=a.concat(i.length?i:FI(n));return xt(s,yo)},sC=function(){return bv([])},_I=function(e,t){return $I(Z.fromDom(t.cloneContents()),LI(e,t))},VI=function(e,t){return Cu(t,"table",h(Yt,e))},HI=function(e,t){return VI(e,t[0]).bind(function(n){var r=t[0],a=t[t.length-1],i=PI(n);return II(i,r,a).map(function(s){return bv([RI(s)])})}).getOrThunk(sC)},UI=function(e,t){return t.length>0&&t[0].collapsed?sC():_I(e,t[0])},jI=function(e,t){var n=db(t,e);return n.length>0?HI(e,n):UI(e,t)},zI=function(e){return e.replace(/^[ \f\n\r\t\v]+/,"")},El=function(e,t){return t>=0&&t<e.length&&Oo(e.charAt(t))},uC=function(e,t){var n=Wa(e.innerText);return t?zI(n):n},WI=function(e){return e.map(function(t){return t.nodeName}).getOr("div").toLowerCase()},YI=function(e){return S.from(e.selection.getRng()).map(function(t){var n=S.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),r=e.getBody(),a=WI(n),i=pt.browser.isIE()&&a!=="pre",s=e.dom.add(r,a,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},t.cloneContents()),u=uC(s,i),l=Wa(s.textContent);if(e.dom.remove(s),El(l,0)||El(l,l.length-1)){var v=n.getOr(r),g=uC(v,i),m=g.indexOf(u);if(m===-1)return u;var C=El(g,m-1),x=El(g,m+u.length);return(C?" ":"")+u+(x?" ":"")}else return u}).getOr("")},KI=function(e,t){var n=e.selection.getRng(),r=e.dom.create("body"),a=e.selection.getSel(),i=Pd(e,ld(a)),s=t.contextual?jI(Z.fromDom(e.getBody()),i).dom:n.cloneContents();return s&&r.appendChild(s),e.selection.serializer.serialize(r,t)},qI=function(e,t){return st(st({},e),{format:t,get:!0,selection:!0})},GI=function(e,t,n){n===void 0&&(n={});var r=qI(n,t),a=e.fire("BeforeGetContent",r);if(a.isDefaultPrevented())return e.fire("GetContent",a),a.content;if(a.format==="text")return YI(e);a.getInner=!0;var i=KI(e,a);return a.format==="tree"?i:(a.content=e.selection.isCollapsed()?"":i,e.fire("GetContent",a),a.content)},Cv=0,lC=1,fC=2,XI=function(e,t){var n=e.length+t.length+2,r=new Array(n),a=new Array(n),i=function(g,m,C){return{start:g,end:m,diag:C}},s=function(g,m,C,x,D){var k=l(g,m,C,x);if(k===null||k.start===m&&k.diag===m-x||k.end===g&&k.diag===g-C)for(var T=g,F=C;T<m||F<x;)T<m&&F<x&&e[T]===t[F]?(D.push([Cv,e[T]]),++T,++F):m-g>x-C?(D.push([fC,e[T]]),++T):(D.push([lC,t[F]]),++F);else{s(g,k.start,C,k.start-k.diag,D);for(var R=k.start;R<k.end;++R)D.push([Cv,e[R]]);s(k.end,m,k.end-k.diag,x,D)}},u=function(g,m,C,x){for(var D=g;D-m<x&&D<C&&e[D]===t[D-m];)++D;return i(g,D,m)},l=function(g,m,C,x){var D=m-g,k=x-C;if(D===0||k===0)return null;var T=D-k,F=k+D,R=(F%2===0?F:F+1)/2;r[1+R]=g,a[1+R]=m+1;var G,K,V,ne,ve;for(G=0;G<=R;++G){for(K=-G;K<=G;K+=2){for(V=K+R,K===-G||K!==G&&r[V-1]<r[V+1]?r[V]=r[V+1]:r[V]=r[V-1]+1,ne=r[V],ve=ne-g+C-K;ne<m&&ve<x&&e[ne]===t[ve];)r[V]=++ne,++ve;if(T%2!==0&&T-G<=K&&K<=T+G&&a[V-T]<=r[V])return u(a[V-T],K+g-C,m,x)}for(K=T-G;K<=T+G;K+=2){for(V=K+R-T,K===T-G||K!==T+G&&a[V+1]<=a[V-1]?a[V]=a[V+1]-1:a[V]=a[V-1],ne=a[V]-1,ve=ne-g+C-K;ne>=g&&ve>=C&&e[ne]===t[ve];)a[V]=ne--,ve--;if(T%2===0&&-G<=K&&K<=G&&a[V]<=r[V+T])return u(a[V],K+g-C,m,x)}}},v=[];return s(0,e.length,0,t.length,v),v},cC=function(e){return lt(e)?e.outerHTML:Ge(e)?Ya.encodeRaw(e.data,!1):eS(e)?"<!--"+e.data+"-->":""},JI=function(e){var t,n=document.createElement("div"),r=document.createDocumentFragment();for(e&&(n.innerHTML=e);t=n.firstChild;)r.appendChild(t);return r},QI=function(e,t,n){var r=JI(t);if(e.hasChildNodes()&&n<e.childNodes.length){var a=e.childNodes[n];a.parentNode.insertBefore(r,a)}else e.appendChild(r)},ZI=function(e,t){if(e.hasChildNodes()&&t<e.childNodes.length){var n=e.childNodes[t];n.parentNode.removeChild(n)}},eB=function(e,t){var n=0;_e(e,function(r){r[0]===Cv?n++:r[0]===lC?(QI(t,r[1],n),n++):r[0]===fC&&ZI(t,n)})},tB=function(e){return it(xt(ot(e.childNodes),cC),function(t){return t.length>0})},nB=function(e,t){var n=xt(ot(t.childNodes),cC);return eB(XI(n,e),t),t},rB=Qo(function(){return document.implementation.createHTMLDocument("undo")}),aB=function(e){return e.indexOf("</iframe>")!==-1},iB=function(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}},oB=function(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}},wv=function(e){var t=tB(e.getBody()),n=Tr(t,function(a){var i=zb(e.serializer,a);return i.length>0?[i]:[]}),r=n.join("");return aB(r)?iB(n):oB(r)},Ev=function(e,t,n){var r=n?t.beforeBookmark:t.bookmark;t.type==="fragmented"?nB(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw",no_selection:P(r)&&Xm(r)?!r.isFakeCaret:!0}),e.selection.moveToBookmark(r)},Sv=function(e){return e.type==="fragmented"?e.fragments.join(""):e.content},dC=function(e){var t=Z.fromTag("body",rB());return jg(t,Sv(e)),_e(rr(t,"*[data-mce-bogus]"),Ah),jD(t)},sB=function(e,t){return Sv(e)===Sv(t)},uB=function(e,t){return dC(e)===dC(t)},Sl=function(e,t){return!e||!t?!1:sB(e,t)?!0:uB(e,t)},xv=function(e){return e.get()===0},xl=function(e,t,n){xv(n)&&(e.typing=t)},vC=function(e,t){e.typing&&(xl(e,!1,t),e.add())},lB=function(e){e.typing&&(e.typing=!1,e.add())},fB=function(e,t,n){xv(t)&&n.set(mm(e.selection))},cB=function(e,t,n,r,a,i,s){var u=wv(e);if(i=i||{},i=he.extend(i,u),xv(r)===!1||e.removed)return null;var l=t.data[n.get()];if(e.fire("BeforeAddUndo",{level:i,lastLevel:l,originalEvent:s}).isDefaultPrevented()||l&&Sl(l,i))return null;t.data[n.get()]&&a.get().each(function(C){t.data[n.get()].beforeBookmark=C});var v=iO(e);if(v&&t.data.length>v){for(var g=0;g<t.data.length-1;g++)t.data[g]=t.data[g+1];t.data.length--,n.set(t.data.length)}i.bookmark=mm(e.selection),n.get()<t.data.length-1&&(t.data.length=n.get()+1),t.data.push(i),n.set(t.data.length-1);var m={level:i,lastLevel:l,originalEvent:s};return n.get()>0?(e.setDirty(!0),e.fire("AddUndo",m),e.fire("change",m)):e.fire("AddUndo",m),i},dB=function(e,t,n){t.data=[],n.set(0),t.typing=!1,e.fire("ClearUndos")},vB=function(e,t,n,r,a){if(t.transact(r)){var i=t.data[n.get()].bookmark,s=t.data[n.get()-1];Ev(e,s,!0),t.transact(a)&&(t.data[n.get()-1].beforeBookmark=i)}},pB=function(e,t,n){var r;return t.get()<n.length-1&&(t.set(t.get()+1),r=n[t.get()],Ev(e,r,!1),e.setDirty(!0),e.fire("Redo",{level:r})),r},hB=function(e,t,n,r){var a;return t.typing&&(t.add(),t.typing=!1,xl(t,!1,n)),r.get()>0&&(r.set(r.get()-1),a=t.data[r.get()],Ev(e,a,!0),e.setDirty(!0),e.fire("Undo",{level:a})),a},gB=function(e){e.clear(),e.add()},mB=function(e,t,n){return n.get()>0||t.typing&&t.data[0]&&!Sl(wv(e),t.data[0])},bB=function(e,t){return t.get()<e.data.length-1&&!e.typing},yB=function(e,t,n){return vC(e,t),e.beforeChange(),e.ignore(n),e.add()},CB=function(e,t){try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},wB=function(e,t){var n=e.dom,r=P(t)?t:e.getBody();j(e.hasVisual)&&(e.hasVisual=cO(e)),_e(n.select("table,a",r),function(a){switch(a.nodeName){case"TABLE":var i=dO(e),s=n.getAttrib(a,"border");(!s||s==="0")&&e.hasVisual?n.addClass(a,i):n.removeClass(a,i);break;case"A":if(!n.getAttrib(a,"href")){var u=n.getAttrib(a,"name")||a.id,l=vO(e);u&&e.hasVisual?n.addClass(a,l):n.removeClass(a,l)}break}}),e.fire("VisualAid",{element:t,hasVisual:e.hasVisual})},pC=function(e){return{undoManager:{beforeChange:function(t,n){return fB(e,t,n)},add:function(t,n,r,a,i,s){return cB(e,t,n,r,a,i,s)},undo:function(t,n,r){return hB(e,t,n,r)},redo:function(t,n){return pB(e,t,n)},clear:function(t,n){return dB(e,t,n)},reset:function(t){return gB(t)},hasUndo:function(t,n){return mB(e,t,n)},hasRedo:function(t,n){return bB(t,n)},transact:function(t,n,r){return yB(t,n,r)},ignore:function(t,n){return CB(t,n)},extra:function(t,n,r,a){return vB(e,t,n,r,a)}},formatter:{match:function(t,n,r,a){return uv(e,t,n,r,a)},matchAll:function(t,n){return LR(e,t,n)},matchNode:function(t,n,r,a){return ya(e,t,n,r,a)},canApply:function(t){return VR(e,t)},closest:function(t){return _R(e,t)},apply:function(t,n,r){return mv(e,t,n,r)},remove:function(t,n,r,a){return Gy(e,t,n,r,a)},toggle:function(t,n,r){return SI(e,t,n,r)},formatChanged:function(t,n,r,a,i){return EI(e,t,n,r,a,i)}},editor:{getContent:function(t,n){return TN(e,t,n)},setContent:function(t,n){return MR(e,t,n)},insertContent:function(t,n){return OR(e,t,n)},addVisual:function(t){return wB(e,t)}},selection:{getContent:function(t,n){return GI(e,t,n)}},raw:{getModel:function(){return S.none()}}}},EB=function(e){var t=function(u){return be(u)?u:{}},n=e.undoManager,r=e.formatter,a=e.editor,i=e.selection,s=e.raw;return{undoManager:{beforeChange:n.beforeChange,add:n.add,undo:n.undo,redo:n.redo,clear:n.clear,reset:n.reset,hasUndo:n.hasUndo,hasRedo:n.hasRedo,transact:function(u,l,v){return n.transact(v)},ignore:function(u,l){return n.ignore(l)},extra:function(u,l,v,g){return n.extra(v,g)}},formatter:{match:function(u,l,v,g){return r.match(u,t(l),g)},matchAll:r.matchAll,matchNode:r.matchNode,canApply:function(u){return r.canApply(u)},closest:function(u){return r.closest(u)},apply:function(u,l,v){return r.apply(u,t(l))},remove:function(u,l,v,g){return r.remove(u,t(l))},toggle:function(u,l,v){return r.toggle(u,t(l))},formatChanged:function(u,l,v,g,m){return r.formatChanged(l,v,g,m)}},editor:{getContent:function(u,l){return a.getContent(u)},setContent:function(u,l){return a.setContent(u,l)},insertContent:function(u,l){return a.insertContent(u)},addVisual:a.addVisual},selection:{getContent:function(u,l){return i.getContent(l)}},raw:{getModel:function(){return S.some(s.getRawModel())}}}},SB=function(){var e=Y(null),t=Y("");return{undoManager:{beforeChange:pe,add:e,undo:e,redo:e,clear:pe,reset:pe,hasUndo:N,hasRedo:N,transact:e,ignore:pe,extra:pe},formatter:{match:N,matchAll:Y([]),matchNode:Y(void 0),canApply:N,closest:t,apply:pe,remove:pe,toggle:pe,formatChanged:Y({unbind:pe})},editor:{getContent:t,setContent:t,insertContent:pe,addVisual:pe},selection:{getContent:t},raw:{getModel:Y(S.none())}}},Ia=function(e){return $e(e.plugins,"rtc")},xB=function(e){return Ve(e.plugins,"rtc").bind(function(t){return S.from(t.setup)})},DB=function(e){var t=e;return xB(e).fold(function(){return t.rtcInstance=pC(e),S.none()},function(n){return t.rtcInstance=SB(),S.some(function(){return n().then(function(r){return t.rtcInstance=EB(r),r.rtc.isRemote})})})},Dv=function(e){return e.rtcInstance?e.rtcInstance:pC(e)},vn=function(e){var t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},kB=function(e,t,n){vn(e).undoManager.beforeChange(t,n)},OB=function(e,t,n,r,a,i,s){return vn(e).undoManager.add(t,n,r,a,i,s)},TB=function(e,t,n,r){return vn(e).undoManager.undo(t,n,r)},AB=function(e,t,n){return vn(e).undoManager.redo(t,n)},NB=function(e,t,n){vn(e).undoManager.clear(t,n)},PB=function(e,t){vn(e).undoManager.reset(t)},RB=function(e,t,n){return vn(e).undoManager.hasUndo(t,n)},IB=function(e,t,n){return vn(e).undoManager.hasRedo(t,n)},BB=function(e,t,n,r){return vn(e).undoManager.transact(t,n,r)},MB=function(e,t,n){vn(e).undoManager.ignore(t,n)},$B=function(e,t,n,r,a){vn(e).undoManager.extra(t,n,r,a)},FB=function(e,t,n,r,a){return vn(e).formatter.match(t,n,r,a)},LB=function(e,t,n){return vn(e).formatter.matchAll(t,n)},_B=function(e,t,n,r,a){return vn(e).formatter.matchNode(t,n,r,a)},VB=function(e,t){return vn(e).formatter.canApply(t)},HB=function(e,t){return vn(e).formatter.closest(t)},UB=function(e,t,n,r){vn(e).formatter.apply(t,n,r)},jB=function(e,t,n,r,a){vn(e).formatter.remove(t,n,r,a)},zB=function(e,t,n,r){vn(e).formatter.toggle(t,n,r)},WB=function(e,t,n,r,a,i){return vn(e).formatter.formatChanged(t,n,r,a,i)},YB=function(e,t,n){return Dv(e).editor.getContent(t,n)},KB=function(e,t,n){return Dv(e).editor.setContent(t,n)},qB=function(e,t,n){return Dv(e).editor.insertContent(t,n)},GB=function(e,t,n){return vn(e).selection.getContent(t,n)},XB=function(e,t){return vn(e).editor.addVisual(t)},JB=function(e,t){t===void 0&&(t={});var n=t.format?t.format:"html";return GB(e,n,t)},hC=function(e){return e.dom.length===0?(Tn(e),S.none()):S.some(e)},QB=function(e,t){return e.filter(function(n){return Ts.isBookmarkNode(n.dom)}).bind(t?ts:Ci)},ZB=function(e,t,n,r){var a=e.dom,i=t.dom,s=r?a.length:i.length;r?(zd(a,i,!1,!r),n.setStart(i,s)):(zd(i,a,!1,!r),n.setEnd(i,s))},eM=function(e,t){jr(e).each(function(n){var r=e.dom;t&&vl(n,fe(r,0))?hl(r,0):!t&&pl(n,fe(r,r.length))&&jd(r,r.length)})},gC=function(e,t,n,r){e.bind(function(a){var i=r?jd:hl;return i(a.dom,r?a.dom.length:0),t.filter(Nr).map(function(s){return ZB(a,s,n,r)})}).orThunk(function(){var a=QB(t,r).or(t).filter(Nr);return a.map(function(i){return eM(i,r)})})},tM=function(e,t){var n=S.from(t.firstChild).map(Z.fromDom),r=S.from(t.lastChild).map(Z.fromDom);e.deleteContents(),e.insertNode(t);var a=n.bind(Ci).filter(Nr).bind(hC),i=r.bind(ts).filter(Nr).bind(hC);gC(a,n,e,!0),gC(i,r,e,!1),e.collapse(!1)},nM=function(e,t){return st(st({format:"html"},e),{set:!0,selection:!0,content:t})},rM=function(e,t){if(t.format!=="raw"){var n=e.selection.getRng(),r=e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock),a=r?{context:r.nodeName.toLowerCase()}:{},i=e.parser.parse(t.content,st(st({isRootContent:!0,forced_root_block:!1},a),t));return Io({validate:e.validate},e.schema).serialize(i)}else return t.content},aM=function(e,t,n){n===void 0&&(n={});var r=nM(n,t),a=r;if(!r.no_events){var i=e.fire("BeforeSetContent",r);if(i.isDefaultPrevented()){e.fire("SetContent",i);return}else a=i}a.content=rM(e,a);var s=e.selection.getRng();tM(s,s.createContextualFragment(a.content)),e.selection.setRng(s),Ns(e,s),a.no_events||e.fire("SetContent",a)},mC=function(e,t,n){if(e&&$e(e,t)){var r=it(e[t],function(a){return a!==n});r.length===0?delete e[t]:e[t]=r}};function iM(e,t){var n,r,a=function(s,u){return St(u,function(l){return e.is(l,s)})},i=function(s){return e.getParents(s,null,e.getRoot())};return{selectorChangedWithUnbind:function(s,u){return n||(n={},r={},t.on("NodeChange",function(l){var v=l.element,g=i(v),m={};he.each(n,function(C,x){a(x,g).each(function(D){r[x]||(_e(C,function(k){k(!0,{node:D,selector:x,parents:g})}),r[x]=C),m[x]=C})}),he.each(r,function(C,x){m[x]||(delete r[x],he.each(C,function(D){D(!1,{node:v,selector:x,parents:g})}))})})),n[s]||(n[s]=[]),n[s].push(u),a(s,i(t.selection.getStart())).each(function(){r[s]=n[s]}),{unbind:function(){mC(n,s,u),mC(r,s,u)}}}}}var bC=function(e){return!!e.select},yC=function(e){return!!(e&&e.ownerDocument)&&Va(Z.fromDom(e.ownerDocument),Z.fromDom(e))},oM=function(e){return e?bC(e)?!0:yC(e.startContainer)&&yC(e.endContainer):!1},CC=function(e,t,n,r){var a,i,s=iM(e,r).selectorChangedWithUnbind,u=function(we,We){var mt=e.createRng();P(we)&&P(We)?(mt.setStart(we,We),mt.setEnd(we,We),G(mt),T(!1)):(dd(e,mt,r.getBody(),!0),G(mt))},l=function(we){return JB(r,we)},v=function(we,We){return aM(r,we,We)},g=function(we){return _b(r.getBody(),R(),we)},m=function(we){return Vb(r.getBody(),R(),we)},C=function(we,We){return Le.getBookmark(we,We)},x=function(we){return Le.moveToBookmark(we)},D=function(we,We){return sN(e,we,We).each(G),we},k=function(){var we=R(),We=F();return!we||we.item?!1:we.compareEndPoints?we.compareEndPoints("StartToEnd",we)===0:!We||we.collapsed},T=function(we){var We=R();We.collapse(!!we),G(We)},F=function(){return t.getSelection?t.getSelection():t.document.selection},R=function(){var we,We,mt,kt=function(Xt,Fn,ar){try{return Fn.compareBoundaryPoints(Xt,ar)}catch{return-1}},Dt=t.document;if(r.bookmark!==void 0&&Bi(r)===!1){var pn=Od(r);if(pn.isSome())return pn.map(function(Xt){return Pd(r,[Xt])[0]}).getOr(Dt.createRange())}try{(we=F())&&!pu(we.anchorNode)&&(we.rangeCount>0?We=we.getRangeAt(0):We=we.createRange?we.createRange():Dt.createRange(),We=Pd(r,[We])[0])}catch{}return We||(We=Dt.createRange?Dt.createRange():Dt.body.createTextRange()),We.setStart&&We.startContainer.nodeType===9&&We.collapsed&&(mt=e.getRoot(),We.setStart(mt,0),We.setEnd(mt,0)),a&&i&&(kt(We.START_TO_START,We,a)===0&&kt(We.END_TO_END,We,a)===0?We=i:(a=null,i=null)),We},G=function(we,We){var mt;if(oM(we)){var kt=bC(we)?we:null;if(kt){i=null;try{kt.select()}catch{}return}var Dt=F(),pn=r.fire("SetSelectionRange",{range:we,forward:We});if(we=pn.range,Dt){i=we;try{Dt.removeAllRanges(),Dt.addRange(we)}catch{}We===!1&&Dt.extend&&(Dt.collapse(we.endContainer,we.endOffset),Dt.extend(we.startContainer,we.startOffset)),a=Dt.rangeCount>0?Dt.getRangeAt(0):null}!we.collapsed&&we.startContainer===we.endContainer&&Dt.setBaseAndExtent&&!pt.ie&&we.endOffset-we.startOffset<2&&we.startContainer.hasChildNodes()&&(mt=we.startContainer.childNodes[we.startOffset],mt&&mt.tagName==="IMG"&&(Dt.setBaseAndExtent(we.startContainer,we.startOffset,we.endContainer,we.endOffset),(Dt.anchorNode!==we.startContainer||Dt.focusNode!==we.endContainer)&&Dt.setBaseAndExtent(mt,0,mt,1))),r.fire("AfterSetSelectionRange",{range:we,forward:We})}},K=function(we){return v(e.getOuterHTML(we)),we},V=function(){return iN(r.getBody(),R())},ne=function(we,We){return oN(e,R(),we,We)},ve=function(){var we=F(),We=we==null?void 0:we.anchorNode,mt=we==null?void 0:we.focusNode;if(!we||!We||!mt||pu(We)||pu(mt))return!0;var kt=e.createRng();kt.setStart(We,we.anchorOffset),kt.collapse(!0);var Dt=e.createRng();return Dt.setStart(mt,we.focusOffset),Dt.collapse(!0),kt.compareBoundaryPoints(kt.START_TO_START,Dt)<=0},Oe=function(){var we=R(),We=F();if(!fT(We)&&rl(r)){var mt=al(e,we);return mt.each(function(kt){G(kt,ve())}),mt.getOr(we)}return we},nt=function(we,We){return s(we,We),Pe},ze=function(){for(var we,We=e.getRoot();We&&We.nodeName!=="BODY";){if(We.scrollHeight>We.clientHeight){we=We;break}We=We.parentNode}return we},me=function(we,We){P(we)?lA(r,we,We):Ns(r,R(),We)},Ze=function(we,We){return G(bd(we,We,r.getDoc()))},Ie=function(){var we=R();return we.collapsed?fe.fromRangeStart(we).getClientRects()[0]:we.getBoundingClientRect()},He=function(){t=a=i=null,Ye.destroy()},Pe={bookmarkManager:null,controlSelection:null,dom:e,win:t,serializer:n,editor:r,collapse:T,setCursorLocation:u,getContent:l,setContent:v,getBookmark:C,moveToBookmark:x,select:D,isCollapsed:k,isForward:ve,setNode:K,getNode:V,getSel:F,setRng:G,getRng:R,getStart:g,getEnd:m,getSelectedBlocks:ne,normalize:Oe,selectorChanged:nt,selectorChangedWithUnbind:s,getScrollContainer:ze,scrollIntoView:me,placeCaretAt:Ze,getBoundingClientRect:Ie,destroy:He},Le=Ts(Pe),Ye=bb(Pe,r);return Pe.bookmarkManager=Le,Pe.controlSelection=Ye,Pe},sM=function(e,t){_e(t,function(n){e.attr(n,null)})},uM=function(e,t,n){e.addNodeFilter("font",function(r){_e(r,function(a){var i=t.parse(a.attr("style")),s=a.attr("color"),u=a.attr("face"),l=a.attr("size");s&&(i.color=s),u&&(i["font-family"]=u),l&&(i["font-size"]=n[parseInt(a.attr("size"),10)-1]),a.name="span",a.attr("style",t.serialize(i)),sM(a,["color","face","size"])})})},lM=function(e,t){e.addNodeFilter("strike",function(n){_e(n,function(r){var a=t.parse(r.attr("style"));a["text-decoration"]="line-through",r.name="span",r.attr("style",t.serialize(a))})})},fM=function(e,t){var n=hc();t.convert_fonts_to_spans&&uM(e,n,he.explode(t.font_size_legacy_values)),lM(e,n)},cM=function(e,t){t.inline_styles&&fM(e,t)},dM=function(e){return new Rn(function(t,n){var r=function(){n("Cannot convert "+e+" to Blob. Resource might not exist or is inaccessible.")};try{var a=new XMLHttpRequest;a.open("GET",e,!0),a.responseType="blob",a.onload=function(){a.status===200?t(a.response):r()},a.onerror=r,a.send()}catch{r()}})},kv=function(e){var t,n=decodeURIComponent(e).split(","),r=/data:([^;]+)/.exec(n[0]);return r&&(t=r[1]),{type:t,data:n[1]}},wC=function(e,t){var n;try{n=atob(t)}catch{return S.none()}for(var r=new Uint8Array(n.length),a=0;a<r.length;a++)r[a]=n.charCodeAt(a);return S.some(new Blob([r],{type:e}))},vM=function(e){return new Rn(function(t){var n=kv(e),r=n.type,a=n.data;wC(r,a).fold(function(){return t(new Blob([]))},t)})},EC=function(e){return e.indexOf("blob:")===0?dM(e):e.indexOf("data:")===0?vM(e):null},pM=function(e){return new Rn(function(t){var n=new FileReader;n.onloadend=function(){t(n.result)},n.readAsDataURL(e)})},hM=0,Ov=function(e){return(e||"blobid")+hM++},gM=function(e,t,n,r){var a,i;if(t.src.indexOf("blob:")===0){i=e.getByUri(t.src),i?n({image:t,blobInfo:i}):EC(t.src).then(function(v){pM(v).then(function(g){a=kv(g).data,i=e.create(Ov(),v,a),e.add(i),n({image:t,blobInfo:i})})},function(v){r(v)});return}var s=kv(t.src),u=s.data,l=s.type;a=u,i=e.getByData(a,l),i?n({image:t,blobInfo:i}):EC(t.src).then(function(v){i=e.create(Ov(),v,a),e.add(i),n({image:t,blobInfo:i})},function(v){r(v)})},mM=function(e){return e?ot(e.getElementsByTagName("img")):[]},bM=function(e,t){var n={},r=function(a,i){i||(i=M);var s=it(mM(a),function(l){var v=l.src;return!pt.fileApi||l.hasAttribute("data-mce-bogus")||l.hasAttribute("data-mce-placeholder")||!v||v===pt.transparentSrc?!1:v.indexOf("blob:")===0?!e.isUploaded(v)&&i(l):v.indexOf("data:")===0?i(l):!1}),u=xt(s,function(l){if(n[l.src]!==void 0)return new Rn(function(g){n[l.src].then(function(m){if(typeof m=="string")return m;g({image:l,blobInfo:m.blobInfo})})});var v=new Rn(function(g,m){gM(t,l,g,m)}).then(function(g){return delete n[g.image.src],g}).catch(function(g){return delete n[l.src],g});return n[l.src]=v,v});return Rn.all(u)};return{findAll:r}},Tv=function(e,t,n,r){var a=e.padd_empty_with_br||t.insert;a&&n[r.name]?r.empty().append(new Br("br",1)).shortEnded=!0:r.empty().append(new Br("#text",3)).value=sr},yM=function(e){return SC(e,"#text")&&e.firstChild.value===sr},SC=function(e,t){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===t},CM=function(e,t){var n=e.getElementRule(t.name);return n&&n.paddEmpty},Bs=function(e,t,n,r){return r.isEmpty(t,n,function(a){return CM(e,a)})},wM=function(e,t){return e&&($e(t,e.name)||e.name==="br")},EM=function(e){return P(e.attr("data-mce-bogus"))},SM=function(e){return e.attr("src")===pt.transparentSrc||P(e.attr("data-mce-placeholder"))},xM=function(e,t){if(t.images_dataimg_filter){var n=new Image;return n.src=e.attr("src"),Ut(e.attributes.map,function(r,a){n.setAttribute(a,r)}),t.images_dataimg_filter(n)}else return!0},DM=function(e,t){var n=t.blob_cache,r=function(a){var i=a.attr("src");SM(a)||EM(a)||cN(i).filter(function(){return xM(a,t)}).bind(function(s){var u=s.type,l=s.data;return S.from(n.getByData(l,u)).orThunk(function(){return wC(u,l).map(function(v){var g=n.create(Ov(),v,l);return n.add(g),g})})}).each(function(s){a.attr("src",s.blobUri())})};n&&e.addAttributeFilter("src",function(a){return _e(a,r)})},kM=function(e,t){var n=e.schema;t.remove_trailing_brs&&e.addNodeFilter("br",function(r,a,i){var s,u=r.length,l,v=he.extend({},n.getBlockElements()),g=n.getNonEmptyElements(),m,C,x,D,k=n.getWhiteSpaceElements(),T,F;for(v.body=1,s=0;s<u;s++)if(l=r[s],m=l.parent,v[l.parent.name]&&l===m.lastChild){for(x=l.prev;x;){if(D=x.name,D!=="span"||x.attr("data-mce-type")!=="bookmark"){D==="br"&&(l=null);break}x=x.prev}l&&(l.remove(),Bs(n,g,k,m)&&(T=n.getElementRule(m.name),T&&(T.removeEmpty?m.remove():T.paddEmpty&&Tv(t,i,v,m))))}else{for(C=l;m&&m.firstChild===C&&m.lastChild===C&&(C=m,!v[m.name]);)m=m.parent;C===m&&t.padd_empty_with_br!==!0&&(F=new Br("#text",3),F.value=sr,l.replace(F))}}),e.addAttributeFilter("href",function(r){var a=r.length,i=function(l){var v=l.split(" ").filter(function(g){return g.length>0});return v.concat(["noopener"]).sort().join(" ")},s=function(l){var v=l?he.trim(l):"";return/\b(noopener)\b/g.test(v)?v:i(v)};if(!t.allow_unsafe_link_target)for(;a--;){var u=r[a];u.name==="a"&&u.attr("target")==="_blank"&&u.attr("rel",s(u.attr("rel")))}}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",function(r){for(var a=r.length,i,s,u,l;a--;)if(l=r[a],l.name==="a"&&l.firstChild&&!l.attr("href")){u=l.parent,i=l.lastChild;do s=i.prev,u.insert(i,l),i=s;while(i)}}),t.fix_list_elements&&e.addNodeFilter("ul,ol",function(r){for(var a=r.length,i,s;a--;)if(i=r[a],s=i.parent,s.name==="ul"||s.name==="ol")if(i.prev&&i.prev.name==="li")i.prev.append(i);else{var u=new Br("li",1);u.attr("style","list-style-type: none"),i.wrap(u)}}),t.validate&&n.getValidClasses()&&e.addAttributeFilter("class",function(r){for(var a=n.getValidClasses(),i=r.length;i--;){for(var s=r[i],u=s.attr("class").split(" "),l="",v=0;v<u.length;v++){var g=u[v],m=!1,C=a["*"];C&&C[g]&&(m=!0),C=a[s.name],!m&&C&&C[g]&&(m=!0),m&&(l&&(l+=" "),l+=g)}l.length||(l=null),s.attr("class",l)}}),DM(e,t)},xC=he.makeMap,DC=he.each,kC=he.explode,OM=he.extend,Av=function(e,t){t===void 0&&(t=qa());var n={},r=[],a={},i={};e=e||{},e.validate="validate"in e?e.validate:!0,e.root_name=e.root_name||"body";var s=function(D){for(var k=xC("tr,td,th,tbody,thead,tfoot,table"),T=t.getNonEmptyElements(),F=t.getWhiteSpaceElements(),R=t.getTextBlockElements(),G=t.getSpecialElements(),K=function(Le,Ye){if(Ye===void 0&&(Ye=Le.parent),G[Le.name])Le.empty().remove();else{for(var we=Le.children(),We=0,mt=we;We<mt.length;We++){var kt=mt[We];t.isValidChild(Ye.name,kt.name)||K(kt,Ye)}Le.unwrap()}},V=0;V<D.length;V++){var ne=D[V],ve=void 0,Oe=void 0,nt=void 0;if(!(!ne.parent||ne.fixed)){if(R[ne.name]&&ne.parent.name==="li"){for(var ze=ne.next;ze&&R[ze.name];){ze.name="li",ze.fixed=!0,ne.parent.insert(ze,ne.parent);ze=ze.next}ne.unwrap();continue}var me=[ne];for(ve=ne.parent;ve&&!t.isValidChild(ve.name,ne.name)&&!k[ve.name];ve=ve.parent)me.push(ve);if(ve&&me.length>1)if(t.isValidChild(ve.name,ne.name)){me.reverse(),Oe=u(me[0].clone());for(var Ze=Oe,Ie=0;Ie<me.length-1;Ie++){t.isValidChild(Ze.name,me[Ie].name)?(nt=u(me[Ie].clone()),Ze.append(nt)):nt=Ze;for(var He=me[Ie].firstChild;He&&He!==me[Ie+1];){var Pe=He.next;nt.append(He),He=Pe}Ze=nt}Bs(t,T,F,Oe)?ve.insert(ne,me[0],!0):(ve.insert(Oe,me[0],!0),ve.insert(ne,Oe)),ve=me[0],(Bs(t,T,F,ve)||SC(ve,"br"))&&ve.empty().remove()}else K(ne);else if(ne.parent){if(ne.name==="li"){var ze=ne.prev;if(ze&&(ze.name==="ul"||ze.name==="ol")){ze.append(ne);continue}if(ze=ne.next,ze&&(ze.name==="ul"||ze.name==="ol")){ze.insert(ne,ze.firstChild,!0);continue}ne.wrap(u(new Br("ul",1)));continue}t.isValidChild(ne.parent.name,"div")&&t.isValidChild("div",ne.name)?ne.wrap(u(new Br("div",1))):K(ne)}}}},u=function(D){var k=D.name;if(k in n){var T=a[k];T?T.push(D):a[k]=[D]}for(var F=r.length;F--;){var R=r[F].name;if(R in D.attributes.map){var T=i[R];T?T.push(D):i[R]=[D]}}return D},l=function(D,k){DC(kC(D),function(T){var F=n[T];F||(n[T]=F=[]),F.push(k)})},v=function(){var D=[];for(var k in n)$e(n,k)&&D.push({name:k,callbacks:n[k]});return D},g=function(D,k){DC(kC(D),function(T){var F;for(F=0;F<r.length;F++)if(r[F].name===T){r[F].callbacks.push(k);return}r.push({name:T,callbacks:[k]})})},m=function(){return[].concat(r)},C=function(D,k){var T,F,R,G,K,V,ne,ve=[],Oe,nt=function(ie){return ie===!1?"":ie===!0?"p":ie};k=k||{},a={},i={};var ze=OM(xC("script,style,head,html,body,title,meta,param"),t.getBlockElements()),me=cg(t),Ze=t.getNonEmptyElements(),Ie=t.children,He=e.validate,Pe="forced_root_block"in k?k.forced_root_block:e.forced_root_block,Le=nt(Pe),Ye=t.getWhiteSpaceElements(),we=/^[ \t\r\n]+/,We=/[ \t\r\n]+$/,mt=/[ \t\r\n]+/g,kt=/^[ \t\r\n]+$/,Dt=$e(Ye,k.context)||$e(Ye,e.root_name),pn=function(){var ie=Xe.firstChild,Te=null,xe=function(et){et&&(ie=et.firstChild,ie&&ie.type===3&&(ie.value=ie.value.replace(we,"")),ie=et.lastChild,ie&&ie.type===3&&(ie.value=ie.value.replace(We,"")))};if(t.isValidChild(Xe.name,Le.toLowerCase())){for(;ie;){var Je=ie.next;ie.type===3||ie.type===1&&ie.name!=="p"&&!ze[ie.name]&&!ie.attr("data-mce-type")?(Te||(Te=Xt(Le,1),Te.attr(e.forced_root_block_attrs),Xe.insert(Te,ie)),Te.append(ie)):(xe(Te),Te=null),ie=Je}xe(Te)}},Xt=function(ie,Te){var xe=new Br(ie,Te),Je;return ie in n&&(Je=a[ie],Je?Je.push(xe):a[ie]=[xe]),xe},Fn=function(ie){for(var Te=t.getBlockElements(),xe=ie.prev;xe&&xe.type===3;){var Je=xe.value.replace(We,"");if(Je.length>0){xe.value=Je;return}var et=xe.next;if(et){if(et.type===3&&et.value.length){xe=xe.prev;continue}if(!Te[et.name]&&et.name!=="script"&&et.name!=="style"){xe=xe.prev;continue}}var Mt=xe.prev;xe.remove(),xe=Mt}},ar=function(ie){var Te={};for(var xe in ie)xe!=="li"&&xe!=="p"&&(Te[xe]=ie[xe]);return Te},Se=function(ie){for(var Te=ie;P(Te);){if(Te.name in me)return Bs(t,Ze,Ye,Te);Te=Te.parent}return!1},Be=cl({validate:He,document:e.document,allow_html_data_urls:e.allow_html_data_urls,allow_svg_data_urls:e.allow_svg_data_urls,allow_script_urls:e.allow_script_urls,allow_conditional_comments:e.allow_conditional_comments,preserve_cdata:e.preserve_cdata,self_closing_elements:ar(t.getSelfClosingElements()),cdata:function(ie){Oe.append(Xt("#cdata",4)).value=ie},text:function(ie,Te){var xe;Dt||(ie=ie.replace(mt," "),wM(Oe.lastChild,ze)&&(ie=ie.replace(we,""))),ie.length!==0&&(xe=Xt("#text",3),xe.raw=!!Te,Oe.append(xe).value=ie)},comment:function(ie){Oe.append(Xt("#comment",8)).value=ie},pi:function(ie,Te){Oe.append(Xt(ie,7)).value=Te,Fn(Oe)},doctype:function(ie){var Te=Oe.append(Xt("#doctype",10));Te.value=ie,Fn(Oe)},start:function(ie,Te,xe){var Je=He?t.getElementRule(ie):{};if(Je){var et=Xt(Je.outputName||ie,1);et.attributes=Te,et.shortEnded=xe,Oe.append(et);var Mt=Ie[Oe.name];Mt&&Ie[et.name]&&!Mt[et.name]&&ve.push(et);for(var un=r.length;un--;){var an=r[un].name;an in Te.map&&(V=i[an],V?V.push(et):i[an]=[et])}ze[ie]&&Fn(et),xe||(Oe=et),!Dt&&Ye[ie]&&(Dt=!0)}},end:function(ie){var Te,xe,Je,et=He?t.getElementRule(ie):{};if(et){if(ze[ie]&&!Dt){if(Te=Oe.firstChild,Te&&Te.type===3)if(xe=Te.value.replace(we,""),xe.length>0)Te.value=xe,Te=Te.next;else for(Je=Te.next,Te.remove(),Te=Je;Te&&Te.type===3;)xe=Te.value,Je=Te.next,(xe.length===0||kt.test(xe))&&(Te.remove(),Te=Je),Te=Je;if(Te=Oe.lastChild,Te&&Te.type===3)if(xe=Te.value.replace(We,""),xe.length>0)Te.value=xe,Te=Te.prev;else for(Je=Te.prev,Te.remove(),Te=Je;Te&&Te.type===3;)xe=Te.value,Je=Te.prev,(xe.length===0||kt.test(xe))&&(Te.remove(),Te=Je),Te=Je}Dt&&Ye[ie]&&(Dt=!1);var Mt=Bs(t,Ze,Ye,Oe),un=Oe.parent;et.paddInEmptyBlock&&Mt&&Se(Oe)?Tv(e,k,ze,Oe):et.removeEmpty&&Mt?ze[Oe.name]?Oe.empty().remove():Oe.unwrap():et.paddEmpty&&(yM(Oe)||Mt)&&Tv(e,k,ze,Oe),Oe=un}}},t),Xe=Oe=new Br(k.context||e.root_name,11);if(Be.parse(D,k.format),He&&ve.length&&(k.context?k.invalid=!0:s(ve)),Le&&(Xe.name==="body"||k.isRootContent)&&pn(),!k.invalid){for(ne in a)if($e(a,ne)){for(V=n[ne],T=a[ne],G=T.length;G--;)T[G].parent||T.splice(G,1);for(F=0,R=V.length;F<R;F++)V[F](T,ne,k)}for(F=0,R=r.length;F<R;F++)if(V=r[F],V.name in i){for(T=i[V.name],G=T.length;G--;)T[G].parent||T.splice(G,1);for(G=0,K=V.callbacks.length;G<K;G++)V.callbacks[G](T,V.name,k)}}return Xe},x={schema:t,addAttributeFilter:g,getAttributeFilters:m,addNodeFilter:l,getNodeFilters:v,filterNode:u,parse:C};return kM(x,e),cM(x,e),x},TM=function(e,t,n){e.addAttributeFilter("data-mce-tabindex",function(r,a){for(var i=r.length;i--;){var s=r[i];s.attr("tabindex",s.attr("data-mce-tabindex")),s.attr(a,null)}}),e.addAttributeFilter("src,href,style",function(r,a){for(var i="data-mce-"+a,s=t.url_converter,u=t.url_converter_scope,l=r.length;l--;){var v=r[l],g=v.attr(i);g!==void 0?(v.attr(a,g.length>0?g:null),v.attr(i,null)):(g=v.attr(a),a==="style"?g=n.serializeStyle(n.parseStyle(g),v.name):s&&(g=s.call(u,g,a,v.name)),v.attr(a,g.length>0?g:null))}}),e.addAttributeFilter("class",function(r){for(var a=r.length;a--;){var i=r[a],s=i.attr("class");s&&(s=i.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),i.attr("class",s.length>0?s:null))}}),e.addAttributeFilter("data-mce-type",function(r,a,i){for(var s=r.length;s--;){var u=r[s];if(u.attr("data-mce-type")==="bookmark"&&!i.cleanup){var l=S.from(u.firstChild).exists(function(v){return!xu(v.value)});l?u.unwrap():u.remove()}}}),e.addNodeFilter("noscript",function(r){for(var a=r.length;a--;){var i=r[a].firstChild;i&&(i.value=Ya.decode(i.value))}}),e.addNodeFilter("script,style",function(r,a){for(var i=function(g){return g.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")},s=r.length;s--;){var u=r[s],l=u.firstChild?u.firstChild.value:"";if(a==="script"){var v=u.attr("type");v&&u.attr("type",v==="mce-no/type"?null:v.replace(/^mce\-/,"")),t.element_format==="xhtml"&&l.length>0&&(u.firstChild.value=`// <![CDATA[
`+i(l)+`
// ]]>`)}else t.element_format==="xhtml"&&l.length>0&&(u.firstChild.value=`<!--
`+i(l)+`
-->`)}}),e.addNodeFilter("#comment",function(r){for(var a=r.length;a--;){var i=r[a];t.preserve_cdata&&i.value.indexOf("[CDATA[")===0?(i.name="#cdata",i.type=4,i.value=n.decode(i.value.replace(/^\[CDATA\[|\]\]$/g,""))):i.value.indexOf("mce:protected ")===0&&(i.name="#text",i.type=3,i.raw=!0,i.value=unescape(i.value).substr(14))}}),e.addNodeFilter("xml:namespace,input",function(r,a){for(var i=r.length;i--;){var s=r[i];s.type===7?s.remove():s.type===1&&a==="input"&&!s.attr("type")&&s.attr("type","text")}}),e.addAttributeFilter("data-mce-type",function(r){_e(r,function(a){a.attr("data-mce-type")==="format-caret"&&(a.isEmpty(e.schema.getNonEmptyElements())?a.remove():a.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",function(r,a){for(var i=r.length;i--;)r[i].attr(a,null)})},AM=function(e){var t=function(a){return a&&a.name==="br"},n=e.lastChild;if(t(n)){var r=n.prev;t(r)&&(n.remove(),r.remove())}},NM=function(e,t,n){var r,a=e.dom,i=t.cloneNode(!0),s=document.implementation;if(s.createHTMLDocument){var u=s.createHTMLDocument("");he.each(i.nodeName==="BODY"?i.childNodes:[i],function(l){u.body.appendChild(u.importNode(l,!0))}),i.nodeName!=="BODY"?i=u.body.firstChild:i=u.body,r=a.doc,a.doc=u}return ET(e,st(st({},n),{node:i})),r&&(a.doc=r),i},PM=function(e,t){return e&&e.hasEventListeners("PreProcess")&&!t.no_events},RM=function(e,t,n){return PM(e,n)?NM(e,t,n):t},IM=function(e,t,n){he.inArray(t,n)===-1&&(e.addAttributeFilter(n,function(r,a){for(var i=r.length;i--;)r[i].attr(a,null)}),t.push(n))},BM=function(e,t,n){if(!t.no_events&&e){var r=ST(e,st(st({},t),{content:n}));return r.content}else return n},MM=function(e,t,n){var r=Wa(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection||Su(Z.fromDom(t))?r:he.trim(r)},$M=function(e,t,n){var r=n.selection?st({forced_root_block:!1},n):n,a=e.parse(t,r);return AM(a),a},FM=function(e,t,n){var r=Io(e,t);return r.serialize(n)},LM=function(e,t,n,r,a){var i=FM(t,n,r);return BM(e,a,i)},_M=function(e,t){var n=["data-mce-selected"],r=t&&t.dom?t.dom:zt.DOM,a=t&&t.schema?t.schema:qa(e);e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs="remove_trailing_brs"in e?e.remove_trailing_brs:!0;var i=Av(e,a);TM(i,e,r);var s=function(u,l){l===void 0&&(l={});var v=st({format:"html"},l),g=RM(t,u,v),m=MM(r,g,v),C=$M(i,m,v);return v.format==="tree"?C:LM(t,e,a,C,v)};return{schema:a,addNodeFilter:i.addNodeFilter,addAttributeFilter:i.addAttributeFilter,serialize:s,addRules:a.addValidElements,setRules:a.setValidElements,addTempAttr:h(IM,i,n),getTempAttrs:Y(n),getNodeFilters:i.getNodeFilters,getAttributeFilters:i.getAttributeFilters}},OC=function(e,t){var n=_M(e,t);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters}},VM="html",HM=function(e,t){t===void 0&&(t={});var n=t.format?t.format:VM;return YB(e,t,n)},Nv=function(e,t,n){return n===void 0&&(n={}),KB(e,t,n)},Dl=zt.DOM,UM=function(e){Dl.setStyle(e.id,"display",e.orgDisplay)},kl=function(e){return S.from(e).each(function(t){return t.destroy()})},jM=function(e){e.contentAreaContainer=e.formElement=e.container=e.editorContainer=null,e.bodyElement=e.contentDocument=e.contentWindow=null,e.iframeElement=e.targetElm=null,e.selection&&(e.selection=e.selection.win=e.selection.dom=e.selection.dom.doc=null)},zM=function(e){var t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,t._mceOldSubmit=null),Dl.unbind(t,"submit reset",e.formEventDelegate))},WM=function(e){if(!e.removed){var t=e._selectionOverrides,n=e.editorUpload,r=e.getBody(),a=e.getElement();r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&a&&Dl.remove(a.nextSibling),xT(e),e.editorManager.remove(e),!e.inline&&r&&UM(e),DT(e),Dl.remove(e.getContainer()),kl(t),kl(n),e.destroy()}},YM=function(e,t){var n=e.selection,r=e.dom;if(!e.destroyed){if(!t&&!e.removed){e.remove();return}t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),kl(n),kl(r)),zM(e),jM(e),e.destroyed=!0}},KM=function(e,t){var n=be(e)&&be(t);return n?TC(e,t):t},qM=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(t.length===0)throw new Error("Can't merge zero objects");for(var r={},a=0;a<t.length;a++){var i=t[a];for(var s in i)$e(i,s)&&(r[s]=e(r[s],i[s]))}return r}},TC=qM(KM),GM="autoresize_on_init,content_editable_state,convert_fonts_to_spans,inline_styles,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),XM="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),JM="imagetools,toc".split(","),QM=function(e){var t=it(GM,function(r){return $e(e,r)}),n=e.forced_root_block;return(n===!1||n==="")&&t.push("forced_root_block (false only)"),ht(t)},ZM=function(e){var t=he.makeMap(e.plugins," "),n=function(a){return $e(t,a)},r=Hr(Hr([],it(XM,n),!0),Tr(JM,function(a){return n(a)?[a+" (moving to premium)"]:[]}),!0);return ht(r)},e$=function(e,t){var n=QM(e),r=ZM(t),a=r.length>0,i=n.length>0,s=t.theme==="mobile";if(a||i||s){var u=`
- `,l=s?`

Themes:`+u+"mobile":"",v=a?`

Plugins:`+u+r.join(u):"",g=i?`

Settings:`+u+n.join(u):"";console.warn("The following deprecated features are currently enabled, these will be removed in TinyMCE 6.0. See https://www.tiny.cloud/docs/release-notes/6.0-upcoming-changes/ for more information."+l+v+g)}},t$=function(e,t){return{sections:Y(e),settings:Y(t)}},Pv=Ar().deviceType,n$=Pv.isTouch(),AC=Pv.isPhone(),r$=Pv.isTablet(),a$=["lists","autolink","autosave"],NC={table_grid:!1,object_resizing:!1,resize:!1},Ms=function(e){var t=le(e)?e.join(" "):e,n=xt(ce(t)?t.split(" "):[],_f);return it(n,function(r){return r.length>0})},i$=function(e){return it(e,h(qe,a$))},o$=function(e,t){var n=I(t,function(r,a){return qe(e,a)});return t$(n.t,n.f)},s$=function(e,t,n){n===void 0&&(n={});var r=e.sections(),a=Ve(r,t).getOr({});return he.extend({},n,a)},Ol=function(e,t){return $e(e.sections(),t)},u$=function(e,t,n){var r=e.sections();return Ol(e,t)&&r[t].theme===n},l$=function(e,t){return Ol(e,t)?e.sections()[t]:{}},PC=function(e,t){return Ve(e,"toolbar_mode").orThunk(function(){return Ve(e,"toolbar_drawer").map(function(n){return n===!1?"wrap":n})}).getOr(t)},f$=function(e,t,n,r,a){var i={id:t,theme:"silver",toolbar_mode:PC(e,"floating"),plugins:"",document_base_url:n,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:a.convertURL,url_converter_scope:a};return st(st({},i),r?NC:{})},c$=function(e,t){var n={resize:!1,toolbar_mode:PC(e,"scrolling"),toolbar_sticky:!1},r={menubar:!1};return st(st(st({},NC),n),t?r:{})},d$=function(e,t){var n=t.external_plugins?t.external_plugins:{};return e&&e.external_plugins?he.extend({},e.external_plugins,n):n},v$=function(e,t){return[].concat(Ms(e)).concat(Ms(t))},p$=function(e,t,n,r){return e&&u$(t,"mobile","mobile")?i$(r):e&&Ol(t,"mobile")?r:n},h$=function(e,t,n,r){var a=Ms(n.forced_plugins),i=Ms(r.plugins),s=l$(t,"mobile"),u=s.plugins?Ms(s.plugins):i,l=p$(e,t,i,u),v=v$(a,l);if(pt.browser.isIE()&&qe(v,"rtc"))throw new Error("RTC plugin is not supported on IE 11.");return he.extend(r,{plugins:v.join(" ")})},g$=function(e,t){return e&&Ol(t,"mobile")},m$=function(e,t,n,r,a){var i=e?{mobile:c$(a.mobile||{},t)}:{},s=o$(["mobile"],TC(i,a)),u=he.extend(n,r,s.settings(),g$(e,s)?s$(s,"mobile"):{},{validate:!0,external_plugins:d$(r,s.settings())});return h$(e,s,r,u)},b$=function(e,t,n,r,a){var i=f$(a,t,n,n$,e),s=m$(AC||r$,AC,i,r,a);return s.deprecation_warnings!==!1&&e$(a,s),s},Fi=function(e,t,n){return S.from(t.settings[n]).filter(e)},y$=function(e){var t={};return typeof e=="string"?_e(e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(","),function(n){var r=n.split("=");r.length>1?t[he.trim(r[0])]=he.trim(r[1]):t[he.trim(r[0])]=he.trim(r[0])}):t=e,t},C$=function(e){return function(t){return le(t)&&Q(t,e)}},w$=function(e,t,n,r){var a=t in e.settings?e.settings[t]:n;return r==="hash"?y$(a):r==="string"?Fi(ce,e,t).getOr(n):r==="number"?Fi(Ue,e,t).getOr(n):r==="boolean"?Fi(De,e,t).getOr(n):r==="object"?Fi(be,e,t).getOr(n):r==="array"?Fi(le,e,t).getOr(n):r==="string[]"?Fi(C$(ce),e,t).getOr(n):r==="function"?Fi(ge,e,t).getOr(n):a},E$=function(){var e={},t=function(a,i){e[a]=i},n=function(a){return e[a]?e[a]:{icons:{}}},r=function(a){return $e(e,a)};return{add:t,get:n,has:r}},Tl=E$(),RC=function(e,t){var n=t.dom;return n[e]},IC=function(e,t){return parseInt(Ta(t,e),10)},S$=h(RC,"clientWidth"),x$=h(RC,"clientHeight"),D$=h(IC,"margin-top"),k$=h(IC,"margin-left"),O$=function(e){return e.dom.getBoundingClientRect()},T$=function(e,t,n){var r=S$(e),a=x$(e);return t>=0&&n>=0&&t<=r&&n<=a},A$=function(e,t,n,r){var a=O$(t),i=e?a.left+t.dom.clientLeft+k$(t):0,s=e?a.top+t.dom.clientTop+D$(t):0,u=n-i,l=r-s;return{x:u,y:l}},BC=function(e,t,n){var r=Z.fromDom(e.getBody()),a=e.inline?r:LE(r),i=A$(e.inline,a,t,n);return T$(a,i.x,i.y)},N$=function(e){return S.from(e).map(Z.fromDom)},P$=function(e){var t=e.inline?e.getBody():e.getContentAreaContainer();return N$(t).map(rs).getOr(!1)},R$=function(){var e=function(){throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,reposition:e,getArgs:e}},MC=function(e){var t=[],n=function(){var C=e.theme;return C&&C.getNotificationManagerImpl?C.getNotificationManagerImpl():R$()},r=function(){return S.from(t[0])},a=function(C,x){return C.type===x.type&&C.text===x.text&&!C.progressBar&&!C.timeout&&!x.progressBar&&!x.timeout},i=function(){t.length>0&&n().reposition(t)},s=function(C){t.push(C)},u=function(C){_r(t,function(x){return x===C}).each(function(x){t.splice(x,1)})},l=function(C,x){if(x===void 0&&(x=!0),!(e.removed||!P$(e)))return x&&e.fire("BeforeOpenNotification",{notification:C}),St(t,function(D){return a(n().getArgs(D),C)}).getOrThunk(function(){e.editorManager.setActive(e);var D=n().open(C,function(){u(D),i(),r().fold(function(){return e.focus()},function(k){return cA(Z.fromDom(k.getEl()))})});return s(D),i(),e.fire("OpenNotification",{notification:st({},D)}),D})},v=function(){r().each(function(C){n().close(C),u(C),i()})},g=Y(t),m=function(C){C.on("SkinLoaded",function(){var x=Wk(C);x&&l({text:x,type:"warning",timeout:0},!1),i()}),C.on("show ResizeEditor ResizeWindow NodeChange",function(){In.requestAnimationFrame(i)}),C.on("remove",function(){_e(t.slice(),function(x){n().close(x)})})};return m(e),{open:l,close:v,getNotifications:g}},Jr=ur.PluginManager,li=ur.ThemeManager;function I$(){var e=function(){throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e,getParams:e,setParams:e}}var $C=function(e){var t=[],n=function(){var k=e.theme;return k&&k.getWindowManagerImpl?k.getWindowManagerImpl():I$()},r=function(k,T){return function(){for(var F=[],R=0;R<arguments.length;R++)F[R]=arguments[R];return T?T.apply(k,F):void 0}},a=function(k){e.fire("OpenWindow",{dialog:k})},i=function(k){e.fire("CloseWindow",{dialog:k})},s=function(k){t.push(k),a(k)},u=function(k){i(k),t=it(t,function(T){return T!==k}),t.length===0&&e.focus()},l=function(){return S.from(t[t.length-1])},v=function(k){e.editorManager.setActive(e),ul(e);var T=k();return s(T),T},g=function(k,T){return v(function(){return n().open(k,T,u)})},m=function(k){return v(function(){return n().openUrl(k,u)})},C=function(k,T,F){var R=n();R.alert(k,r(F||R,T))},x=function(k,T,F){var R=n();R.confirm(k,r(F||R,T))},D=function(){l().each(function(k){n().close(k),u(k)})};return e.on("remove",function(){_e(t,function(k){n().close(k)})}),{open:g,openUrl:m,alert:C,confirm:x,close:D}},FC=function(e,t){e.notificationManager.open({type:"error",text:t})},Al=function(e,t){e._skinLoaded?FC(e,t):e.on("SkinLoaded",function(){FC(e,t)})},B$=function(e,t){Al(e,Kr.translate(["Failed to upload image: {0}",t]))},Rv=function(e,t,n){gb(e,t,{message:n}),console.error(n)},Iv=function(e,t,n){return n?"Failed to load "+e+": "+n+" from url "+t:"Failed to load "+e+" url: "+t},Bv=function(e,t,n){Rv(e,"PluginLoadError",Iv("plugin",t,n))},M$=function(e,t,n){Rv(e,"IconsLoadError",Iv("icons",t,n))},$$=function(e,t,n){Rv(e,"LanguageLoadError",Iv("language",t,n))},F$=function(e,t,n){var r=Kr.translate(["Failed to initialize plugin: {0}",t]);gb(e,"PluginLoadError",{message:r}),Nl(r,n),Al(e,r)},Nl=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=window.console;r&&(r.error?r.error.apply(r,Hr([e],t,!1)):r.log.apply(r,Hr([e],t,!1)))},L$=function(e){return/^[a-z0-9\-]+$/i.test(e)},_$=function(e){return LC(e,Vk(e))},V$=function(e){return LC(e,Dm(e))},LC=function(e,t){var n=e.editorManager.baseURL+"/skins/content",r=e.editorManager.suffix,a="content"+r+".css",i=e.inline===!0;return xt(t,function(s){return L$(s)&&!i?n+"/"+s+"/"+a:e.documentBaseURI.toAbsolute(s)})},H$=function(e){e.contentCSS=e.contentCSS.concat(_$(e),V$(e))},_C=function(){var e=1,t=2,n={},r=function(C,x){return{status:C,resultUri:x}},a=function(C){return C in n},i=function(C){var x=n[C];return x?x.resultUri:null},s=function(C){return a(C)?n[C].status===e:!1},u=function(C){return a(C)?n[C].status===t:!1},l=function(C){n[C]=r(e,null)},v=function(C,x){n[C]=r(t,x)},g=function(C){delete n[C]},m=function(){n={}};return{hasBlobUri:a,getResultUri:i,isPending:s,isUploaded:u,markPending:l,markUploaded:v,removeFailed:g,destroy:m}},U$=0,j$=function(){var e=function(){return Math.round(Math.random()*4294967295).toString(36)},t=new Date().getTime();return"s"+t.toString(36)+e()+e()+e()},VC=function(e){return e+U$+++j$()},z$=function(){var e=[],t=function(m){var C={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"};return C[m.toLowerCase()]||"dat"},n=function(m,C,x,D,k){if(ce(m)){var T=m;return r({id:T,name:D,filename:k,blob:C,base64:x})}else{if(be(m))return r(m);throw new Error("Unknown input type")}},r=function(m){if(!m.blob||!m.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");var C=m.id||VC("blobid"),x=m.name||C,D=m.blob;return{id:Y(C),name:Y(x),filename:Y(m.filename||x+"."+t(D.type)),blob:Y(D),base64:Y(m.base64),blobUri:Y(m.blobUri||URL.createObjectURL(D)),uri:Y(m.uri)}},a=function(m){s(m.id())||e.push(m)},i=function(m){return St(e,m).getOrUndefined()},s=function(m){return i(function(C){return C.id()===m})},u=function(m){return i(function(C){return C.blobUri()===m})},l=function(m,C){return i(function(x){return x.base64()===m&&x.blob().type===C})},v=function(m){e=it(e,function(C){return C.blobUri()===m?(URL.revokeObjectURL(C.blobUri()),!1):!0})},g=function(){_e(e,function(m){URL.revokeObjectURL(m.blobUri())}),e=[]};return{create:n,add:a,get:s,getByUri:u,getByData:l,findFirst:i,removeByUri:v,destroy:g}},W$=function(e,t){var n={},r=function(D,k){return D?D.replace(/\/$/,"")+"/"+k.replace(/^\//,""):k},a=function(D,k,T,F){var R=new XMLHttpRequest;R.open("POST",t.url),R.withCredentials=t.credentials,R.upload.onprogress=function(K){F(K.loaded/K.total*100)},R.onerror=function(){T("Image upload failed due to a XHR Transport error. Code: "+R.status)},R.onload=function(){if(R.status<200||R.status>=300){T("HTTP Error: "+R.status);return}var K=JSON.parse(R.responseText);if(!K||typeof K.location!="string"){T("Invalid JSON: "+R.responseText);return}k(r(t.basePath,K.location))};var G=new FormData;G.append("file",D.blob(),D.filename()),R.send(G)},i=function(){return new Rn(function(D){D([])})},s=function(D,k){return{url:k,blobInfo:D,status:!0}},u=function(D,k,T){return{url:"",blobInfo:D,status:!1,error:{message:k,options:T}}},l=function(D,k){he.each(n[D],function(T){T(k)}),delete n[D]},v=function(D,k,T){return e.markPending(D.blobUri()),new Rn(function(F){var R,G;try{var K=function(){R&&(R.close(),G=pe)},V=function(ve){K(),e.markUploaded(D.blobUri(),ve),l(D.blobUri(),s(D,ve)),F(s(D,ve))},ne=function(ve,Oe){var nt=Oe||{};K(),e.removeFailed(D.blobUri()),l(D.blobUri(),u(D,ve,nt)),F(u(D,ve,nt))};G=function(ve){ve<0||ve>100||S.from(R).orThunk(function(){return S.from(T).map(q)}).each(function(Oe){R=Oe,Oe.progressBar.value(ve)})},k(D,V,ne,G)}catch(ve){F(u(D,ve.message,{}))}})},g=function(D){return D===a},m=function(D){var k=D.blobUri();return new Rn(function(T){n[k]=n[k]||[],n[k].push(T)})},C=function(D,k){return D=he.grep(D,function(T){return!e.isUploaded(T.blobUri())}),Rn.all(he.map(D,function(T){return e.isPending(T.blobUri())?m(T):v(T,t.handler,k)}))},x=function(D,k){return!t.url&&g(t.handler)?i():C(D,k)};return ge(t.handler)===!1&&(t.handler=a),{upload:x}},HC=function(e){return function(){return e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}},UC=function(e,t){return W$(t,{url:Ik(e),basePath:Bk(e),credentials:Mk(e),handler:$k(e)})},Y$=function(e){var t=_C(),n=UC(e,t);return{upload:function(r,a){return a===void 0&&(a=!0),n.upload(r,a?HC(e):void 0)}}},K$=function(e){var t=Hn(null);e.on("change AddUndo",function(r){t.set(st({},r.level))});var n=function(){var r=e.undoManager.data;Ht(r).filter(function(a){return!Sl(t.get(),a)}).each(function(a){e.setDirty(!0),e.fire("change",{level:a,lastLevel:Tt(r,r.length-2).getOrNull()})})};return{fireIfChanged:n}},q$=function(e){var t=z$(),n,r,a=_C(),i=[],s=K$(e),u=function(K){return function(V){return e.selection?K(V):[]}},l=function(K){return K+(K.indexOf("?")===-1?"?":"&")+new Date().getTime()},v=function(K,V,ne){var ve=0;do ve=K.indexOf(V,ve),ve!==-1&&(K=K.substring(0,ve)+ne+K.substr(ve+V.length),ve+=ne.length-V.length+1);while(ve!==-1);return K},g=function(K,V,ne){var ve='src="'+ne+'"'+(ne===pt.transparentSrc?' data-mce-placeholder="1"':"");return K=v(K,'src="'+V+'"',ve),K=v(K,'data-mce-src="'+V+'"','data-mce-src="'+ne+'"'),K},m=function(K,V){_e(e.undoManager.data,function(ne){ne.type==="fragmented"?ne.fragments=xt(ne.fragments,function(ve){return g(ve,K,V)}):ne.content=g(ne.content,K,V)})},C=function(K,V){var ne=e.convertURL(V,"src");m(K.src,V),e.$(K).attr({src:Nk(e)?l(V):V,"data-mce-src":ne})},x=function(K){return n||(n=UC(e,a)),F().then(u(function(V){var ne=xt(V,function(ve){return ve.blobInfo});return n.upload(ne,HC(e)).then(u(function(ve){var Oe=[],nt=xt(ve,function(ze,me){var Ze=V[me].blobInfo,Ie=V[me].image;return ze.status&&Pk(e)?(t.removeByUri(Ie.src),Ia(e)||C(Ie,ze.url)):ze.error&&(ze.error.options.remove&&(m(Ie.getAttribute("src"),pt.transparentSrc),Oe.push(Ie)),B$(e,ze.error.message)),{element:Ie,status:ze.status,uploadUri:ze.url,blobInfo:Ze}});return nt.length>0&&s.fireIfChanged(),Oe.length>0&&(Ia(e)?console.error("Removing images on failed uploads is currently unsupported for RTC"):e.undoManager.transact(function(){_e(Oe,function(ze){e.dom.remove(ze),t.removeByUri(ze.src)})})),K&&K(nt),nt}))}))},D=function(K){if(Cm(e))return x(K)},k=function(K){if(Q(i,function(ne){return ne(K)})===!1)return!1;if(K.getAttribute("src").indexOf("data:")===0){var V=Ak(e);return V(K)}return!0},T=function(K){i.push(K)},F=function(){return r||(r=bM(a,t)),r.findAll(e.getBody(),k).then(u(function(K){return K=it(K,function(V){return typeof V=="string"?(Al(e,V),!1):!0}),Ia(e)||_e(K,function(V){m(V.image.src,V.blobInfo.blobUri()),V.image.src=V.blobInfo.blobUri(),V.image.removeAttribute("data-mce-src")}),K}))},R=function(){t.destroy(),a.destroy(),r=n=null},G=function(K){return K.replace(/src="(blob:[^"]+)"/g,function(V,ne){var ve=a.getResultUri(ne);if(ve)return'src="'+ve+'"';var Oe=t.getByUri(ne);if(Oe||(Oe=Gt(e.editorManager.get(),function(ze,me){return ze||me.editorUpload&&me.editorUpload.blobCache.getByUri(ne)},null)),Oe){var nt=Oe.blob();return'src="data:'+nt.type+";base64,"+Oe.base64()+'"'}return V})};return e.on("SetContent",function(){Cm(e)?D():F()}),e.on("RawSaveContent",function(K){K.content=G(K.content)}),e.on("GetContent",function(K){K.source_view||K.format==="raw"||K.format==="tree"||(K.content=G(K.content))}),e.on("PostRender",function(){e.parser.addNodeFilter("img",function(K){_e(K,function(V){var ne=V.attr("src");if(!t.getByUri(ne)){var ve=a.getResultUri(ne);ve&&V.attr("src",ve)}})})}),{blobCache:t,addFilter:T,uploadImages:x,uploadImagesAuto:D,scanForImages:F,destroy:R}},G$=function(e){var t={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all",preserve_attributes:["class","style"]},{inline:"s",remove:"all",preserve_attributes:["class","style"]}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",defaultBlock:"p",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(n,r,a){return lt(n)&&n.hasAttribute("href")},onformat:function(n,r,a){he.each(a,function(i,s){e.setAttrib(n,s,i)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":function(n){var r;return(r=n==null?void 0:n.customValue)!==null&&r!==void 0?r:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return he.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),function(n){t[n]={block:n,remove:"all"}}),t},X$=function(e){var t={},n=function(s){return P(s)?t[s]:t},r=function(s){return $e(t,s)},a=function(s,u){s&&(ce(s)?(le(u)||(u=[u]),_e(u,function(l){j(l.deep)&&(l.deep=!lr(l)),j(l.split)&&(l.split=!lr(l)||xn(l)),j(l.remove)&&lr(l)&&!xn(l)&&(l.remove="none"),lr(l)&&xn(l)&&(l.mixed=!0,l.block_expand=!0),ce(l.classes)&&(l.classes=l.classes.split(/\s+/))}),t[s]=u):Ut(s,function(l,v){a(v,l)}))},i=function(s){return s&&t[s]&&delete t[s],t};return a(G$(e.dom)),a(Kk(e)),{get:n,has:r,register:a,unregister:i}},Pl=he.each,Un=zt.DOM,jC=function(e,t){var n,r,a,i=t&&t.schema||qa({}),s=function(g,m){m.classes.length&&Un.addClass(g,m.classes.join(" ")),Un.setAttribs(g,m.attrs)},u=function(g){r=typeof g=="string"?{name:g,classes:[],attrs:{}}:g;var m=Un.create(r.name);return s(m,r),m},l=function(g,m){var C=typeof g!="string"?g.nodeName.toLowerCase():g,x=i.getElementRule(C),D=x&&x.parentsRequired;return D&&D.length?m&&he.inArray(D,m)!==-1?m:D[0]:!1},v=function(g,m,C){var x,D,k=m.length>0&&m[0],T=k&&k.name,F=l(g,T);if(F)T===F?(D=m[0],m=m.slice(1)):D=F;else if(k)D=m[0],m=m.slice(1);else if(!C)return g;return D&&(x=u(D),x.appendChild(g)),C&&(x||(x=Un.create("div"),x.appendChild(g)),he.each(C,function(R){var G=u(R);x.insertBefore(G,g)})),v(x,m,D&&D.siblings)};return e&&e.length?(r=e[0],n=u(r),a=Un.create("div"),a.appendChild(v(n,e.slice(1),r.siblings)),a):""},J$=function(e){var t,n={classes:[],attrs:{}};return e=n.selector=he.trim(e),e!=="*"&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(r,a,i,s,u){switch(a){case"#":n.attrs.id=i;break;case".":n.classes.push(i);break;case":":he.inArray("checked disabled enabled read-only required".split(" "),i)!==-1&&(n.attrs[i]=i);break}if(s==="["){var l=u.match(/([\w\-]+)(?:\=\"([^\"]+))?/);l&&(n.attrs[l[1]]=l[2])}return""})),n.name=t||"div",n},Q$=function(e){return!e||typeof e!="string"?[]:(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),he.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),function(t){var n=he.map(t.split(/(?:~\+|~|\+)/),J$),r=n.pop();return n.length&&(r.siblings=n),r}).reverse())},Z$=function(e,t){var n,r,a="",i,s=qk(e);if(s==="")return"";var u=function(m){return m.replace(/%(\w+)/g,"")};if(typeof t=="string"){if(t=e.formatter.get(t),!t)return;t=t[0]}if("preview"in t){var l=Ve(t,"preview");if(mu(l,!1))return"";s=l.getOr(s)}n=t.block||t.inline||"span";var v=Q$(t.selector);v.length?(v[0].name||(v[0].name=n),n=t.selector,r=jC(v,e)):r=jC([n],e);var g=Un.select(n,r)[0]||r.firstChild;return Pl(t.styles,function(m,C){var x=u(m);x&&Un.setStyle(g,C,x)}),Pl(t.attributes,function(m,C){var x=u(m);x&&Un.setAttrib(g,C,x)}),Pl(t.classes,function(m){var C=u(m);Un.hasClass(g,C)||Un.addClass(g,C)}),e.fire("PreviewFormats"),Un.setStyles(r,{position:"absolute",left:-65535}),e.getBody().appendChild(r),i=Un.getStyle(e.getBody(),"fontSize",!0),i=/px$/.test(i)?parseInt(i,10):0,Pl(s.split(" "),function(m){var C=Un.getStyle(g,m,!0);if(!(m==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(C)&&(C=Un.getStyle(e.getBody(),m,!0),Un.toHex(C).toLowerCase()==="#ffffff"))&&!(m==="color"&&Un.toHex(C).toLowerCase()==="#000000")){if(m==="font-size"&&/em|%$/.test(C)){if(i===0)return;var x=parseFloat(C)/(/%$/.test(C)?100:1);C=x*i+"px"}m==="border"&&C&&(a+="padding:0 2px;"),a+=m+":"+C+";"}}),e.fire("AfterPreviewFormats"),Un.remove(r),a},eF=function(e){e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(var t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},zC=function(e){var t=X$(e),n=Hn(null);return eF(e),XR(e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:function(r,a,i){UB(e,r,a,i)},remove:function(r,a,i,s){jB(e,r,a,i,s)},toggle:function(r,a,i){zB(e,r,a,i)},match:function(r,a,i,s){return FB(e,r,a,i,s)},closest:function(r){return HB(e,r)},matchAll:function(r,a){return LB(e,r,a)},matchNode:function(r,a,i,s){return _B(e,r,a,i,s)},canApply:function(r){return VB(e,r)},formatChanged:function(r,a,i,s){return WB(e,n,r,a,i,s)},getCssText:h(Z$,e)}},WC=function(e){switch(e.toLowerCase()){case"undo":case"redo":case"mcerepaint":case"mcefocus":return!0;default:return!1}},tF=function(e,t,n){var r=Hn(!1),a=function(l){xl(t,!1,n),t.add({},l)};e.on("init",function(){t.add()}),e.on("BeforeExecCommand",function(l){var v=l.command;WC(v)||(vC(t,n),t.beforeChange())}),e.on("ExecCommand",function(l){var v=l.command;WC(v)||a(l)}),e.on("ObjectResizeStart cut",function(){t.beforeChange()}),e.on("SaveContent ObjectResized blur",a),e.on("dragend",a),e.on("keyup",function(l){var v=l.keyCode;l.isDefaultPrevented()||((v>=33&&v<=36||v>=37&&v<=40||v===45||l.ctrlKey)&&(a(),e.nodeChanged()),(v===46||v===8)&&e.nodeChanged(),r.get()&&t.typing&&Sl(wv(e),t.data[0])===!1&&(e.isDirty()===!1&&(e.setDirty(!0),e.fire("change",{level:t.data[0],lastLevel:null})),e.fire("TypingUndo"),r.set(!1),e.nodeChanged()))}),e.on("keydown",function(l){var v=l.keyCode;if(!l.isDefaultPrevented()){if(v>=33&&v<=36||v>=37&&v<=40||v===45){t.typing&&a(l);return}var g=l.ctrlKey&&!l.altKey||l.metaKey;(v<16||v>20)&&v!==224&&v!==91&&!t.typing&&!g&&(t.beforeChange(),xl(t,!0,n),t.add({},l),r.set(!0))}}),e.on("mousedown",function(l){t.typing&&a(l)});var i=function(l){return l.inputType==="insertReplacementText"},s=function(l){return l.inputType==="insertText"&&l.data===null},u=function(l){return l.inputType==="insertFromPaste"||l.inputType==="insertFromDrop"};e.on("input",function(l){l.inputType&&(i(l)||s(l)||u(l))&&a(l)}),e.on("AddUndo Undo Redo ClearUndos",function(l){l.isDefaultPrevented()||e.nodeChanged()})},nF=function(e){e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},YC=function(e){var t=bo(),n=Hn(0),r=Hn(0),a={data:[],typing:!1,beforeChange:function(){kB(e,n,t)},add:function(i,s){return OB(e,a,r,n,t,i,s)},undo:function(){return TB(e,a,n,r)},redo:function(){return AB(e,r,a.data)},clear:function(){NB(e,a,r)},reset:function(){PB(e,a)},hasUndo:function(){return RB(e,a,r)},hasRedo:function(){return IB(e,a,r)},transact:function(i){return BB(e,a,n,i)},ignore:function(i){MB(e,n,i)},extra:function(i,s){$B(e,a,r,i,s)}};return Ia(e)||tF(e,a,n),nF(e),a},rF=[9,27,rt.HOME,rt.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,rt.DOWN,rt.UP,rt.LEFT,rt.RIGHT].concat(pt.browser.isFirefox()?[224]:[]),KC="data-mce-placeholder",qC=function(e){return e.type==="keydown"||e.type==="keyup"},GC=function(e){var t=e.keyCode;return t===rt.BACKSPACE||t===rt.DELETE},aF=function(e){if(qC(e)){var t=e.keyCode;return!GC(e)&&(rt.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||qe(rF,t))}else return!1},iF=function(e){return qC(e)&&!(GC(e)||e.type==="keyup"&&e.keyCode===229)},oF=function(e,t,n){if(wn(Z.fromDom(t),!1)){var r=n==="",a=t.firstElementChild;return a?e.getStyle(t.firstElementChild,"padding-left")||e.getStyle(t.firstElementChild,"padding-right")?!1:r?!e.isBlock(a):n===a.nodeName.toLowerCase():!0}else return!1},sF=function(e){var t=e.dom,n=$n(e),r=zk(e),a=function(i,s){if(!aF(i)){var u=e.getBody(),l=iF(i)?!1:oF(t,u,n),v=t.getAttrib(u,KC)!=="";(v!==l||s)&&(t.setAttrib(u,KC,l?r:null),t.setAttrib(u,"aria-placeholder",l?r:null),RT(e,l),e.on(l?"keydown":"keyup",a),e.off(l?"keyup":"keydown",a))}};r&&e.on("init",function(i){a(i,!0),e.on("change SetContent ExecCommand",a),e.on("paste",function(s){return In.setEditorTimeout(e,function(){return a(s)})})})},uF=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,lF=function(e){return uF.test(e)},Li=function(e,t){return eo(Z.fromDom(t),Uk(e))},fF=function(e){return zt.DOM.getStyle(e,"direction",!0)==="rtl"||lF(e.textContent)},cF=function(e,t,n){return it(zt.DOM.getParents(n.container(),"*",t),e)},fi=function(e,t,n){var r=cF(e,t,n);return S.from(r[r.length-1])},dF=function(e,t,n){var r=ai(t,e),a=ai(n,e);return r&&r===a},vF=function(e){return oc(e)||sc(e)},wr=function(e,t){if(!t)return t;var n=t.container(),r=t.offset();return e?lo(n)?Ge(n.nextSibling)?fe(n.nextSibling,0):fe.after(n):oc(t)?fe(n,r+1):t:lo(n)?Ge(n.previousSibling)?fe(n.previousSibling,n.previousSibling.data.length):fe.before(n):sc(t)?fe(n,r-1):t},XC=h(wr,!0),JC=h(wr,!1),pF=function(e){return function(t){return Yt(e,Z.fromDom(t.dom.parentNode))}},hF=function(e){return Zh(e)||us(e)},Rl=function(e,t){return Va(e,t)?yu(t,hF,pF(e)):S.none()},gF=function(e){var t=e.getBody(),n=t.firstChild&&e.dom.isBlock(t.firstChild)?t.firstChild:t;e.selection.setCursorLocation(n,0)},QC=function(e){e.dom.isEmpty(e.getBody())&&(e.setContent(""),gF(e))},mF=function(e,t,n){return nr(Jn(n),ga(n),function(r,a){var i=wr(!0,r),s=wr(!1,a),u=wr(!1,t);return e?Xr(n,u).exists(function(l){return l.isEqual(s)&&t.isEqual(i)}):ha(n,u).exists(function(l){return l.isEqual(i)&&t.isEqual(s)})}).getOr(!0)},bF=function(e,t){return{block:e,position:t}},yF=function(e,t){return{from:e,to:t}},Mv=function(e,t){var n=Z.fromDom(e),r=Z.fromDom(t.container());return Rl(n,r).map(function(a){return bF(a,t)})},CF=function(e){return Yt(e.from.block,e.to.block)===!1},wF=function(e){return jr(e.from.block).bind(function(t){return jr(e.to.block).filter(function(n){return Yt(t,n)})}).isSome()},EF=function(e){return Jt(e.from.block.dom)===!1&&Jt(e.to.block.dom)===!1},SF=function(e,t,n){return sn(n.position.getNode())&&wn(n.block)===!1?ko(!1,n.block.dom).bind(function(r){return r.isEqual(n.position)?yr(t,e,r).bind(function(a){return Mv(e,a)}):S.some(n)}).getOr(n):n},xF=function(e,t,n){var r=Mv(e,fe.fromRangeStart(n)),a=r.bind(function(i){return yr(t,e,i.position).bind(function(s){return Mv(e,s).map(function(u){return SF(e,t,u)})})});return nr(r,a,yF).filter(function(i){return CF(i)&&wF(i)&&EF(i)})},DF=function(e,t,n){return n.collapsed?xF(e,t,n):S.none()},kF=function(e){var t=Pr(e);return _r(t,la).fold(Y(t),function(n){return t.slice(0,n)})},ZC=function(e){var t=kF(e);return _e(t,Tn),t},e0=function(e,t){var n=Ra(t,e);return St(n.reverse(),function(r){return wn(r)}).each(Tn)},OF=function(e){return it(Eh(e),function(t){return!wn(t)}).length===0},TF=function(e,t,n,r){if(wn(n))return Mi(n),Jn(n.dom);OF(r)&&wn(t)&&zr(r,Z.fromTag("br"));var a=ha(n.dom,fe.before(r.dom));return _e(ZC(t),function(i){zr(r,i)}),e0(e,t),a},AF=function(e,t,n){if(wn(n))return Tn(n),wn(t)&&Mi(t),Jn(t.dom);var r=ga(n.dom);return _e(ZC(t),function(a){Pn(n,a)}),e0(e,t),r},NF=function(e,t){var n=Ra(t,e);return S.from(n[n.length-1])},PF=function(e,t){return Va(t,e)?NF(t,e):S.none()},t0=function(e,t){ko(e,t.dom).map(function(n){return n.getNode()}).map(Z.fromDom).filter(oo).each(Tn)},n0=function(e,t,n){return t0(!0,t),t0(!1,n),PF(t,n).fold(h(AF,e,t,n),h(TF,e,t,n))},r0=function(e,t,n,r){return t?n0(e,r,n):n0(e,n,r)},Il=function(e,t){var n=Z.fromDom(e.getBody()),r=DF(n.dom,t,e.selection.getRng()).bind(function(a){return r0(n,t,a.from.block,a.to.block)});return r.each(function(a){e.selection.setRng(a.toRange())}),r.isSome()},RF=function(e,t){var n=t.getRng();return nr(Rl(e,Z.fromDom(n.startContainer)),Rl(e,Z.fromDom(n.endContainer)),function(r,a){return Yt(r,a)===!1?(n.deleteContents(),r0(e,!0,r,a).each(function(i){t.setRng(i.toRange())}),!0):!1}).getOr(!1)},a0=function(e,t){var n=Z.fromDom(t),r=h(Yt,e);return ss(n,Eu,r).isSome()},IF=function(e,t){return a0(e,t.startContainer)||a0(e,t.endContainer)},BF=function(e,t){var n=ha(e.dom,fe.fromRangeStart(t)).isNone(),r=Xr(e.dom,fe.fromRangeEnd(t)).isNone();return!IF(e,t)&&n&&r},MF=function(e){return e.setContent(""),e.selection.setCursorLocation(),!0},$F=function(e){var t=Z.fromDom(e.getBody()),n=e.selection.getRng();return BF(t,n)?MF(e):RF(t,e.selection)},Bl=function(e,t){return e.selection.isCollapsed()?!1:$F(e)},FF=sa,LF=Jt,Ba=function(e,t,n,r,a){return S.from(t._selectionOverrides.showCaret(e,n,r,a))},_F=function(e){var t=e.ownerDocument.createRange();return t.selectNode(e),t},_o=function(e,t){var n=e.fire("BeforeObjectSelected",{target:t});return n.isDefaultPrevented()?S.none():S.some(_F(t))},i0=function(e,t,n){var r=Jc(1,e.getBody(),t),a=fe.fromRangeStart(r),i=a.getNode();if(ws(i))return Ba(1,e,i,!a.isAtEnd(),!1);var s=a.getNode(!0);if(ws(s))return Ba(1,e,s,!1,!1);var u=e.dom.getParent(a.getNode(),function(l){return LF(l)||FF(l)});return ws(u)?Ba(1,e,u,!1,n):S.none()},$v=function(e,t,n){return t.collapsed?i0(e,t,n).getOr(t):t},VF=function(e){return si(e)||Bo(e)},HF=function(e){return ui(e)||Mo(e)},UF=function(e,t){Ge(t)&&t.data.length===0&&e.remove(t)},o0=function(e,t,n,r,a,i){return Ba(r,e,i.getNode(!a),a,!0).each(function(s){if(t.collapsed){var u=t.cloneRange();a?u.setEnd(s.startContainer,s.startOffset):u.setStart(s.endContainer,s.endOffset),u.deleteContents()}else t.deleteContents();e.selection.setRng(s)}),UF(e.dom,n),!0},jF=function(e,t){var n=e.selection.getRng();if(!Ge(n.commonAncestorContainer))return!1;var r=t?Sn.Forwards:Sn.Backwards,a=Gr(e.getBody()),i=h(Qc,t?a.next:a.prev),s=t?VF:HF,u=xs(r,e.getBody(),n),l=wr(t,i(u));if(!l||!Xu(u,l))return!1;if(s(l))return o0(e,n,u.getNode(),r,t,l);var v=i(l);return v&&s(v)&&Xu(l,v)?o0(e,n,u.getNode(),r,t,v):!1},Ml=function(e,t){return jF(e,t)},zF=function(e){return Eu(Z.fromDom(e))||us(Z.fromDom(e))},fr=ja.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),WF=function(e,t){var n=t.getNode(e===!1),r=e?"after":"before";return lt(n)&&n.getAttribute("data-mce-caret")===r},YF=function(e,t,n,r){var a=function(i){return rc(Z.fromDom(i))&&!va(n,r,e)};return Vm(!t,n).fold(function(){return Vm(t,r).fold(N,a)},a)},s0=function(e,t,n,r){var a=r.getNode(t===!1);return Rl(Z.fromDom(e),Z.fromDom(n.getNode())).map(function(i){return wn(i)?fr.remove(i.dom):fr.moveToElement(a)}).orThunk(function(){return S.some(fr.moveToElement(a))})},u0=function(e,t,n){return yr(t,e,n).bind(function(r){return zF(r.getNode())||YF(e,t,n,r)?S.none():t&&Jt(r.getNode())||t===!1&&Jt(r.getNode(!0))?s0(e,t,n,r):t&&ui(n)||t===!1&&si(n)?S.some(fr.moveToPosition(r)):S.none()})},KF=function(e,t){return e&&Jt(t.nextSibling)?S.some(fr.moveToElement(t.nextSibling)):e===!1&&Jt(t.previousSibling)?S.some(fr.moveToElement(t.previousSibling)):S.none()},qF=function(e,t,n){return n.fold(function(r){return S.some(fr.remove(r))},function(r){return S.some(fr.moveToElement(r))},function(r){return va(t,r,e)?S.none():S.some(fr.moveToPosition(r))})},GF=function(e,t,n){return WF(t,n)?KF(t,n.getNode(t===!1)).fold(function(){return u0(e,t,n)},S.some):u0(e,t,n).bind(function(r){return qF(e,n,r)})},XF=function(e,t,n){var r=Jc(t?1:-1,e,n),a=fe.fromRangeStart(r),i=Z.fromDom(e);return t===!1&&ui(a)?S.some(fr.remove(a.getNode(!0))):t&&si(a)?S.some(fr.remove(a.getNode())):t===!1&&si(a)&&Hd(i,a)?WN(i,a).map(function(s){return fr.remove(s.getNode())}):t&&ui(a)&&Vd(i,a)?YN(i,a).map(function(s){return fr.remove(s.getNode())}):GF(e,t,a)},JF=function(e,t){return function(n){return e._selectionOverrides.hideFakeCaret(),$i(e,t,Z.fromDom(n)),!0}},QF=function(e,t){return function(n){var r=t?fe.before(n):fe.after(n);return e.selection.setRng(r.toRange()),!0}},ZF=function(e){return function(t){return e.selection.setRng(t.toRange()),!0}},l0=function(e,t){return S.from(Ro(e.getBody(),t))},eL=function(e,t){var n=e.selection.getNode();return l0(e,n).filter(Jt).fold(function(){return XF(e.getBody(),t,e.selection.getRng()).exists(function(r){return r.fold(JF(e,t),QF(e,t),ZF(e))})},M)},tL=function(e){_e(rr(e,".mce-offscreen-selection"),Tn)},nL=function(e,t){var n=e.selection.getNode();if(Jt(n)&&!gu(n)){var r=l0(e,n.parentNode).filter(Jt);return r.fold(function(){return tL(Z.fromDom(e.getBody())),$i(e,t,Z.fromDom(e.selection.getNode())),QC(e),!0},M)}return!1},f0=function(e){var t=e.dom,n=e.selection,r=Ro(e.getBody(),n.getNode());if(sa(r)&&t.isBlock(r)&&t.isEmpty(r)){var a=t.create("br",{"data-mce-bogus":"1"});t.setHTML(r,""),r.appendChild(a),n.setRng(fe.before(a).toRange())}return!0},$l=function(e,t){return e.selection.isCollapsed()?eL(e,t):nL(e,t)},rL=function(e,t){var n=fe.fromRangeStart(e.selection.getRng());return yr(t,e.getBody(),n).filter(function(r){return t?MN(r):$N(r)}).bind(function(r){return S.from(Xc(t?0:-1,r))}).exists(function(r){return e.selection.select(r),!0})},Fl=function(e,t){return e.selection.isCollapsed()?rL(e,t):!1},Vo=Ge,c0=function(e){return Vo(e)&&e.data[0]===An},d0=function(e){return Vo(e)&&e.data[e.data.length-1]===An},v0=function(e){return e.ownerDocument.createTextNode(An)},aL=function(e){if(Vo(e.previousSibling))return d0(e.previousSibling)||e.previousSibling.appendData(An),e.previousSibling;if(Vo(e))return c0(e)||e.insertData(0,An),e;var t=v0(e);return e.parentNode.insertBefore(t,e),t},iL=function(e){if(Vo(e.nextSibling))return c0(e.nextSibling)||e.nextSibling.insertData(0,An),e.nextSibling;if(Vo(e))return d0(e)||e.appendData(An),e;var t=v0(e);return e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t},Ll=function(e,t){return e?aL(t):iL(t)},oL=h(Ll,!0),sL=h(Ll,!1),p0=function(e,t){return Ge(e.container())?Ll(t,e.container()):Ll(t,e.getNode())},h0=function(e,t){var n=t.get();return n&&e.container()===n&&lo(n)},Fv=function(e,t){return t.fold(function(n){Ni(e.get());var r=oL(n);return e.set(r),S.some(fe(r,r.length-1))},function(n){return Jn(n).map(function(r){if(h0(r,e))return fe(e.get(),1);Ni(e.get());var a=p0(r,!0);return e.set(a),fe(a,1)})},function(n){return ga(n).map(function(r){if(h0(r,e))return fe(e.get(),e.get().length-1);Ni(e.get());var a=p0(r,!1);return e.set(a),fe(a,a.length-1)})},function(n){Ni(e.get());var r=sL(n);return e.set(r),S.some(fe(r,1))})},g0=function(e,t){for(var n=0;n<e.length;n++){var r=e[n].apply(null,t);if(r.isSome())return r}return S.none()},jn=ja.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),m0=function(e,t){var n=ai(t,e);return n||e},uL=function(e,t,n){var r=XC(n),a=m0(t,r.container());return fi(e,a,r).fold(function(){return Xr(a,r).bind(h(fi,e,a)).map(function(i){return jn.before(i)})},S.none)},lL=function(e,t){return Ii(e,t)===null},b0=function(e,t,n){return fi(e,t,n).filter(h(lL,t))},fL=function(e,t,n){var r=JC(n);return b0(e,t,r).bind(function(a){var i=ha(a,r);return i.isNone()?S.some(jn.start(a)):S.none()})},cL=function(e,t,n){var r=XC(n);return b0(e,t,r).bind(function(a){var i=Xr(a,r);return i.isNone()?S.some(jn.end(a)):S.none()})},dL=function(e,t,n){var r=JC(n),a=m0(t,r.container());return fi(e,a,r).fold(function(){return ha(a,r).bind(h(fi,e,a)).map(function(i){return jn.after(i)})},S.none)},y0=function(e){return fF(Lv(e))===!1},Ca=function(e,t,n){var r=g0([uL,fL,cL,dL],[e,t,n]);return r.filter(y0)},Lv=function(e){return e.fold(Ee,Ee,Ee,Ee)},C0=function(e){return e.fold(Y("before"),Y("start"),Y("end"),Y("after"))},_l=function(e){return e.fold(jn.before,jn.before,jn.after,jn.after)},_v=function(e){return e.fold(jn.start,jn.start,jn.end,jn.end)},vL=function(e,t){return C0(e)===C0(t)&&Lv(e)===Lv(t)},pL=function(e,t,n,r,a,i){return nr(fi(t,n,r),fi(t,n,a),function(s,u){return s!==u&&dF(n,s,u)?jn.after(e?s:u):i}).getOr(i)},hL=function(e,t){return e.fold(M,function(n){return!vL(n,t)})},gL=function(e,t,n,r,a){var i=wr(e,a),s=yr(e,n,i).map(h(wr,e)),u=s.fold(function(){return r.map(_l)},function(l){return Ca(t,n,l).map(h(pL,e,t,n,i,l)).filter(h(hL,r))});return u.filter(y0)},mL=function(e,t){return e?t.fold(Ke(S.some,jn.start),S.none,Ke(S.some,jn.after),S.none):t.fold(S.none,Ke(S.some,jn.before),S.none,Ke(S.some,jn.end))},Vv=function(e,t,n,r){var a=wr(e,r),i=Ca(t,n,a);return Ca(t,n,a).bind(h(mL,e)).orThunk(function(){return gL(e,t,n,i,r)})};h(Vv,!1),h(Vv,!0);var bL=function(e){return ge(e.selection.getSel().modify)},w0=function(e,t,n){var r=e?1:-1;return t.setRng(fe(n.container(),n.offset()+r).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},yL=function(e,t){var n=t.selection.getRng(),r=e?fe.fromRangeEnd(n):fe.fromRangeStart(n);return bL(t)?e&&oc(r)?w0(!0,t.selection,r):!e&&sc(r)?w0(!1,t.selection,r):!1:!1},wa;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(wa||(wa={}));var Vl=function(e,t){return e===Sn.Backwards?Me(t):t},CL=function(e,t,n){return e===Sn.Forwards?t.next(n):t.prev(n)},wL=function(e,t,n,r){return sn(r.getNode(t===Sn.Forwards))?wa.Br:va(n,r)===!1?wa.Block:wa.Wrap},E0=function(e,t,n,r){for(var a=Gr(n),i=r,s=[];i;){var u=CL(t,a,i);if(!u)break;if(sn(u.getNode(!1)))return t===Sn.Forwards?{positions:Vl(t,s).concat([u]),breakType:wa.Br,breakAt:S.some(u)}:{positions:Vl(t,s),breakType:wa.Br,breakAt:S.some(u)};if(!u.isVisible()){i=u;continue}if(e(i,u)){var l=wL(n,t,i,u);return{positions:Vl(t,s),breakType:l,breakAt:S.some(u)}}s.push(u),i=u}return{positions:Vl(t,s),breakType:wa.Eol,breakAt:S.none()}},S0=function(e,t,n,r){return t(n,r).breakAt.map(function(a){var i=t(n,a).positions;return e===Sn.Backwards?i.concat(a):[a].concat(i)}).getOr([])},Hv=function(e,t){return Gt(e,function(n,r){return n.fold(function(){return S.some(r)},function(a){return nr(bt(a.getClientRects()),bt(r.getClientRects()),function(i,s){var u=Math.abs(t-i.left),l=Math.abs(t-s.left);return l<=u?r:a}).or(n)})},S.none())},x0=function(e,t){return bt(t.getClientRects()).bind(function(n){return Hv(e,n.left)})},$s=h(E0,fe.isAbove,-1),Fs=h(E0,fe.isBelow,1),EL=h(S0,-1,$s),SL=h(S0,1,Fs),xL=function(e,t){return $s(e,t).breakAt.isNone()},DL=function(e,t){return Fs(e,t).breakAt.isNone()},kL=function(e){return Jn(e).map(function(t){return[t].concat(Fs(e,t).positions)}).getOr([])},OL=function(e){return ga(e).map(function(t){return $s(e,t).positions.concat(t)}).getOr([])},TL=function(e){var t=function(r){return xt(r,function(a){var i=Ti(a);return i.node=e,i})};if(lt(e))return t(e.getClientRects());if(Ge(e)){var n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}},Uv=function(e){return Tr(e,TL)},_i;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(_i||(_i={}));var AL=function(e,t,n,r){for(;r=xo(r,e,Ou,t);)if(n(r))return},D0=function(e,t,n,r,a,i){var s=0,u=[],l=function(m){var C=Uv([m]);e===-1&&(C=C.reverse());for(var x=0;x<C.length;x++){var D=C[x];if(!n(D,v)){if(u.length>0&&t(D,ia(u))&&s++,D.line=s,a(D))return!0;u.push(D)}}},v=ia(i.getClientRects());if(!v)return u;var g=i.getNode();return l(g),AL(e,r,l,g),u},NL=function(e,t){return t.line>e},PL=function(e,t){return t.line===e},RL=h(D0,_i.Up,wo,Eo),IL=h(D0,_i.Down,Eo,wo),BL=function(e,t,n,r){var a=Gr(t),i,s,u,l,v=[],g=0,m=function(k){return ia(k.getClientRects())};e===1?(i=a.next,s=Eo,u=wo,l=fe.after(r)):(i=a.prev,s=wo,u=Eo,l=fe.before(r));var C=m(l);do if(l.isVisible()){var x=m(l);if(!u(x,C)){v.length>0&&s(x,ia(v))&&g++;var D=Ti(x);if(D.position=l,D.line=g,n(D))return v;v.push(D)}}while(l=i(l));return v},k0=function(e){return function(t){return NL(e,t)}},jv=function(e){return function(t){return PL(e,t)}},ML=Jt,O0=xo,zv=function(e,t){return Math.abs(e.left-t)},Wv=function(e,t){return Math.abs(e.right-t)},T0=function(e,t){return e>=t.left&&e<=t.right},$L=function(e,t){return e>=t.top&&e<=t.bottom},FL=function(e){return wt(e,"node")},Hl=function(e,t,n){return n===void 0&&(n=M),aa(e,function(r,a){if(T0(t,a))return n(a)?a:r;if(T0(t,r))return n(r)?r:a;var i=Math.min(zv(r,t),Wv(r,t)),s=Math.min(zv(a,t),Wv(a,t));return s===i&&FL(a)&&ML(a.node)||s<i?a:r})},A0=function(e,t,n,r,a){var i=O0(r,e,Ou,t,!a);do if(!i||n(i))return;while(i=O0(i,e,Ou,t))},LL=function(e,t,n){n===void 0&&(n=!0);var r=[],a=function(i,s){var u=it(Uv([s]),function(l){return!i(l,t)});return r=r.concat(u),u.length===0};return r.push(t),A0(_i.Up,e,h(a,wo),t.node,n),A0(_i.Down,e,h(a,Eo),t.node,n),r},_L=function(e){return it(ot(e.getElementsByTagName("*")),Pi)},VL=function(e,t){return{node:e.node,before:zv(e,t)<Wv(e,t)}},HL=function(e,t,n){var r=Uv(_L(e)),a=it(r,h($L,n)),i=function(l){return!ro(l.node)&&!Ir(l.node)},s=Hl(a,t,i);if(s){var u=i(s);if(s=Hl(LL(e,s,u),t,i),s&&Pi(s.node))return VL(s,t)}return null},Ma=function(e,t){e.selection.setRng(t),Ns(e,e.selection.getRng())},Yv=function(e,t,n){return S.some($v(e,t,n))},N0=function(e,t,n,r,a,i){var s=t===Sn.Forwards,u=Gr(e.getBody()),l=h(Qc,s?u.next:u.prev),v=s?r:a;if(!n.collapsed){var g=zu(n);if(i(g))return Ba(t,e,g,t===Sn.Backwards,!1)}var m=xs(t,e.getBody(),n);if(v(m))return _o(e,m.getNode(!s));var C=wr(s,l(m)),x=tg(n);if(!C)return x?S.some(n):S.none();if(v(C))return Ba(t,e,C.getNode(!s),s,!1);var D=l(C);return D&&v(D)&&Xu(C,D)?Ba(t,e,D.getNode(!s),s,!1):x?Yv(e,C.toRange(),!1):S.none()},P0=function(e,t,n,r,a,i){var s=xs(t,e.getBody(),n),u=ia(s.getClientRects()),l=t===_i.Down;if(!u)return S.none();var v=l?IL:RL,g=v(e.getBody(),k0(1),s),m=it(g,jv(1)),C=u.left,x=Hl(m,C);if(x&&i(x.node)){var D=Math.abs(C-x.left),k=Math.abs(C-x.right);return Ba(t,e,x.node,D<k,!1)}var T;if(r(s)?T=s.getNode():a(s)?T=s.getNode(!0):T=zu(n),T){var F=BL(t,e.getBody(),k0(1),T),R=Hl(it(F,jv(1)),C);if(R||(R=ia(it(F,jv(0))),R))return Yv(e,R.position.toRange(),!1)}return m.length===0?Kv(e,l).filter(l?a:r).map(function(G){return $v(e,G.toRange(),!1)}):S.none()},Kv=function(e,t){var n=e.selection.getRng(),r=e.getBody();if(t){var a=fe.fromRangeEnd(n),i=Fs(r,a);return Ht(i.positions)}else{var a=fe.fromRangeStart(n),i=$s(r,a);return bt(i.positions)}},R0=function(e,t,n){return Kv(e,t).filter(n).exists(function(r){return e.selection.setRng(r.toRange()),!0})},Ul=function(e,t){var n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},I0=function(e,t){e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},B0=function(e,t,n){return Fv(t,n).map(function(r){return Ul(e,r),n})},UL=function(e,t,n){var r=e.getBody(),a=fe.fromRangeStart(e.selection.getRng()),i=h(Li,e),s=Vv(n,i,r,a);return s.bind(function(u){return B0(e,t,u)})},jL=function(e,t,n){var r=xt(rr(Z.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),function(s){return s.dom}),a=it(r,e),i=it(n,e);_e(je(a,i),h(I0,!1)),_e(je(i,a),h(I0,!0))},zL=function(e,t){if(e.selection.isCollapsed()&&e.composing!==!0&&t.get()){var n=fe.fromRangeStart(e.selection.getRng());fe.isTextPosition(n)&&vF(n)===!1&&(Ul(e,CO(t.get(),n)),t.set(null))}},WL=function(e,t,n,r){if(t.selection.isCollapsed()){var a=it(r,e);_e(a,function(i){var s=fe.fromRangeStart(t.selection.getRng());Ca(e,t.getBody(),s).bind(function(u){return B0(t,n,u)})})}},M0=function(e,t,n){return Cs(e)?UL(e,t,n).isSome():!1},$0=function(e,t,n){return Cs(t)?yL(e,t):!1},YL=function(e){var t=Hn(null),n=h(Li,e);return e.on("NodeChange",function(r){Cs(e)&&!(pt.browser.isIE()&&r.initial)&&(jL(n,e.dom,r.parents),zL(e,t),WL(n,e,t,r.parents))}),t},KL=h($0,!0),qL=h($0,!1),jl=function(e,t,n){if(Cs(e)){var r=Kv(e,t).getOrThunk(function(){var a=e.selection.getRng();return t?fe.fromRangeEnd(a):fe.fromRangeStart(a)});return Ca(h(Li,e),e.getBody(),r).exists(function(a){var i=_l(a);return Fv(n,i).exists(function(s){return Ul(e,s),!0})})}else return!1},GL=function(e,t){var n=document.createRange();return n.setStart(e.container(),e.offset()),n.setEnd(t.container(),t.offset()),n},XL=function(e){return nr(Jn(e),ga(e),function(t,n){var r=wr(!0,t),a=wr(!1,n);return Xr(e,r).forall(function(i){return i.isEqual(a)})}).getOr(!0)},F0=function(e,t){return function(n){return Fv(t,n).exists(function(r){return Ul(e,r),!0})}},L0=function(e,t,n,r){var a=e.getBody(),i=h(Li,e);e.undoManager.ignore(function(){e.selection.setRng(GL(n,r)),e.execCommand("Delete"),Ca(i,a,fe.fromRangeStart(e.selection.getRng())).map(_v).map(F0(e,t))}),e.nodeChanged()},JL=function(e,t){var n=ai(t,e);return n||e},QL=function(e,t,n,r){var a=JL(e.getBody(),r.container()),i=h(Li,e),s=Ca(i,a,r);return s.bind(function(u){return n?u.fold(Y(S.some(_v(u))),S.none,Y(S.some(_l(u))),S.none):u.fold(S.none,Y(S.some(_l(u))),S.none,Y(S.some(_v(u))))}).map(F0(e,t)).getOrThunk(function(){var u=Qu(n,a,r),l=u.bind(function(v){return Ca(i,a,v)});return nr(s,l,function(){return fi(i,a,r).exists(function(v){return XL(v)?($i(e,n,Z.fromDom(v)),!0):!1})}).orThunk(function(){return l.bind(function(v){return u.map(function(g){return n?L0(e,t,r,g):L0(e,t,g,r),!0})})}).getOr(!1)})},zl=function(e,t,n){if(e.selection.isCollapsed()&&Cs(e)){var r=fe.fromRangeStart(e.selection.getRng());return QL(e,t,n,r)}return!1},ZL=function(e,t){var n=Ra(t,e);return _r(n,la).fold(Y(n),function(r){return n.slice(0,r)})},e_=function(e){return Dh(e)===1},t_=function(e,t,n,r){var a=h(QR,t),i=xt(it(r,a),function(u){return u.dom});if(i.length===0)$i(t,e,n);else{var s=JR(n.dom,i);t.selection.setRng(s.toRange())}},n_=function(e,t){var n=Z.fromDom(e.getBody()),r=Z.fromDom(e.selection.getStart()),a=it(ZL(n,r),e_);return Ht(a).exists(function(i){var s=fe.fromRangeStart(e.selection.getRng());return mF(t,s,i.dom)&&!ZR(i)?(t_(t,e,i,a),!0):!1})},Wl=function(e,t){return e.selection.isCollapsed()?n_(e,t):!1},qv=function(e,t,n){return e._selectionOverrides.hideFakeCaret(),$i(e,t,Z.fromDom(n)),!0},r_=function(e,t){var n=t?Bo:Mo,r=t?Sn.Forwards:Sn.Backwards,a=xs(r,e.getBody(),e.selection.getRng());return n(a)?qv(e,t,a.getNode(!t)):S.from(wr(t,a)).filter(function(i){return n(i)&&Xu(a,i)}).exists(function(i){return qv(e,t,i.getNode(!t))})},a_=function(e,t){var n=e.selection.getNode();return Ir(n)?qv(e,t,n):!1},Yl=function(e,t){return e.selection.isCollapsed()?r_(e,t):a_(e,t)},i_=function(e){return yu(e,function(t){return sa(t.dom)||Jt(t.dom)}).exists(function(t){return sa(t.dom)})},Gv=function(e){var t=parseInt(e,10);return isNaN(t)?0:t},_0=function(e,t){var n=e||FS(t)?"margin":"padding",r=Ta(t,"direction")==="rtl"?"-right":"-left";return n+r},o_=function(e,t,n,r,a,i){var s=_0(n,Z.fromDom(i));if(t==="outdent"){var u=Math.max(0,Gv(i.style[s])-r);e.setStyle(i,s,u?u+a:"")}else{var u=Gv(i.style[s])+r+a;e.setStyle(i,s,u)}},s_=function(e,t){return Q(t,function(n){var r=_0(xm(e),n),a=Jf(n,r).map(Gv).getOr(0),i=e.dom.getContentEditable(n.dom);return i!=="false"&&a>0})},V0=function(e){var t=U0(e);return!e.mode.isReadOnly()&&(t.length>1||s_(e,t))},H0=function(e){return ac(e)||us(e)},u_=function(e){return jr(e).exists(H0)},U0=function(e){return it(UD(e.selection.getSelectedBlocks()),function(t){return!H0(t)&&!u_(t)&&i_(t)})},j0=function(e,t){var n=e.dom,r=e.selection,a=e.formatter,i=_k(e),s=/[a-z%]+$/i.exec(i)[0],u=parseInt(i,10),l=xm(e),v=$n(e);!e.queryCommandState("InsertUnorderedList")&&!e.queryCommandState("InsertOrderedList")&&v===""&&!n.getParent(r.getNode(),n.isBlock)&&a.apply("div"),_e(U0(e),function(g){o_(n,t,l,u,s,g.dom)})},z0=function(e,t){if(e.selection.isCollapsed()&&V0(e)){var n=e.dom,r=e.selection.getRng(),a=fe.fromRangeStart(r),i=n.getParent(r.startContainer,n.isBlock);if(i!==null&&_d(Z.fromDom(i),a))return j0(e,"outdent"),!0}return!1},W0=function(e,t){e.getDoc().execCommand(t,!1,null)},l_=function(e,t){if(!z0(e)){if($l(e,!1))return;if(Ml(e,!1))return;if(zl(e,t,!1))return;if(Il(e,!1))return;if(bl(e))return;if(Fl(e,!1))return;if(Yl(e,!1))return;if(Bl(e))return;if(Wl(e,!1))return;W0(e,"Delete"),QC(e)}},f_=function(e,t){if(!$l(e,!0)){if(Ml(e,!0))return;if(zl(e,t,!0))return;if(Il(e,!0))return;if(bl(e))return;if(Fl(e,!0))return;if(Yl(e,!0))return;if(Bl(e))return;if(Wl(e,!0))return;W0(e,"ForwardDelete")}},c_=function(e,t){e.addCommand("delete",function(){l_(e,t)}),e.addCommand("forwardDelete",function(){f_(e,t)})},Y0=5,d_=400,K0=function(e){return e.touches===void 0||e.touches.length!==1?S.none():S.some(e.touches[0])},v_=function(e,t){var n=Math.abs(e.clientX-t.x),r=Math.abs(e.clientY-t.y);return n>Y0||r>Y0},p_=function(e){var t=bo(),n=Hn(!1),r=Fg(function(a){e.fire("longpress",st(st({},a),{type:"longpress"})),n.set(!0)},d_);e.on("touchstart",function(a){K0(a).each(function(i){r.cancel();var s={x:i.clientX,y:i.clientY,target:a.target};r.throttle(a),n.set(!1),t.set(s)})},!0),e.on("touchmove",function(a){r.cancel(),K0(a).each(function(i){t.on(function(s){v_(i,s)&&(t.clear(),n.set(!1),e.fire("longpresscancel"))})})},!0),e.on("touchend touchcancel",function(a){r.cancel(),a.type!=="touchcancel"&&t.get().filter(function(i){return i.target.isEqualNode(a.target)}).each(function(){n.get()?a.preventDefault():e.fire("tap",st(st({},a),{type:"tap"}))})},!0)},Xv=function(e,t){return $e(e,t.nodeName)},h_=function(e,t){return Ge(t)?!0:lt(t)?!Xv(e,t)&&!Cr(t):!1},g_=function(e,t,n){return _t(ty(Z.fromDom(n),Z.fromDom(t)),function(r){return Xv(e,r.dom)})},m_=function(e,t){if(Ge(t)){if(t.nodeValue.length===0)return!0;if(/^\s+$/.test(t.nodeValue)&&(!t.nextSibling||Xv(e,t.nextSibling)))return!0}return!1},b_=function(e){var t=e.dom,n=e.selection,r=e.schema,a=r.getBlockElements(),i=n.getStart(),s=e.getBody(),u,l,v,g=$n(e);if(!(!i||!lt(i)||!g)){var m=s.nodeName.toLowerCase();if(!(!r.isValidChild(m,g.toLowerCase())||g_(a,s,i))){var C=n.getRng(),x=C.startContainer,D=C.startOffset,k=C.endContainer,T=C.endOffset,F=Bi(e);for(i=s.firstChild;i;)if(h_(a,i)){if(m_(a,i)){l=i,i=i.nextSibling,t.remove(l);continue}u||(u=t.create(g,bs(e)),i.parentNode.insertBefore(u,i),v=!0),l=i,i=i.nextSibling,u.appendChild(l)}else u=null,i=i.nextSibling;v&&F&&(C.setStart(x,D),C.setEnd(k,T),n.setRng(C),e.nodeChanged())}}},y_=function(e){$n(e)&&e.on("NodeChange",h(b_,e))},C_=function(e){return wu(Z.fromDom(e.getBody()),"*[data-mce-caret]").map(function(t){return t.dom}).getOrNull()},w_=function(e){e.selection.setRng(e.selection.getRng())},q0=function(e,t){t.hasAttribute("data-mce-caret")&&(uc(t),w_(e),e.selection.scrollIntoView(t))},E_=function(e,t){var n=C_(e);if(n){if(t.type==="compositionstart"){t.preventDefault(),t.stopPropagation(),q0(e,n);return}eg(n)&&(q0(e,n),e.undoManager.add())}},S_=function(e){e.on("keyup compositionstart",h(E_,e))},G0=Jt,x_=function(e,t,n){return N0(t,e,n,si,ui,G0)},D_=function(e,t,n){var r=function(i){return si(i)||Zb(i)},a=function(i){return ui(i)||ey(i)};return P0(t,e,n,r,a,G0)},k_=function(e){var t=e.dom.create($n(e));return(!pt.ie||pt.ie>=11)&&(t.innerHTML='<br data-mce-bogus="1">'),t},X0=function(e,t,n){var r=Gr(e.getBody()),a=h(Qc,t===1?r.next:r.prev);if(n.collapsed&&aO(e)){var i=e.dom.getParent(n.startContainer,"PRE");if(!i)return;var s=a(fe.fromRangeStart(n));if(!s){var u=k_(e);t===1?e.$(i).after(u):e.$(i).before(u),e.selection.select(u,!0),e.selection.collapse()}}},O_=function(e,t){var n=t?Sn.Forwards:Sn.Backwards,r=e.selection.getRng();return x_(n,e,r).orThunk(function(){return X0(e,n,r),S.none()})},T_=function(e,t){var n=t?1:-1,r=e.selection.getRng();return D_(n,e,r).orThunk(function(){return X0(e,n,r),S.none()})},J0=function(e,t){return O_(e,t).exists(function(n){return Ma(e,n),!0})},Q0=function(e,t){return T_(e,t).exists(function(n){return Ma(e,n),!0})},Z0=function(e,t){var n=t?ui:si;return R0(e,t,n)},A_=function(e){return qe(["figcaption"],yn(e))},ew=function(e){var t=document.createRange();return t.setStartBefore(e.dom),t.setEndBefore(e.dom),t},tw=function(e,t,n){n?Pn(e,t):Th(e,t)},N_=function(e,t){var n=Z.fromTag("br");return tw(e,n,t),ew(n)},P_=function(e,t,n,r){var a=Z.fromTag(n),i=Z.fromTag("br");return Ha(a,r),Pn(a,i),tw(e,a,t),ew(i)},R_=function(e,t,n,r){return t===""?N_(e,r):P_(e,r,t,n)},I_=function(e,t){var n=h(Yt,t);return yu(Z.fromDom(e.container()),la,n).filter(A_)},B_=function(e,t,n){return t?DL(e.dom,n):xL(e.dom,n)},M_=function(e,t){var n=Z.fromDom(e.getBody()),r=fe.fromRangeStart(e.selection.getRng()),a=$n(e),i=bs(e);return I_(r,n).exists(function(){if(B_(n,t,r)){var s=R_(n,a,i,t);return e.selection.setRng(s),!0}else return!1})},nw=function(e,t){return e.selection.isCollapsed()?M_(e,t):!1},$_=function(e){return xt(e,function(t){return st({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:pe},t)})},F_=function(e,t){return t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey},L_=function(e,t){return Tr($_(e),function(n){return F_(n,t)?[n]:[]})},Et=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){return e.apply(null,t)}},Ho=function(e,t){return St(L_(e,t),function(n){return n.action()})},rw=function(e,t){var n=t?Sn.Forwards:Sn.Backwards,r=e.selection.getRng();return N0(e,n,r,Bo,Mo,Ir).exists(function(a){return Ma(e,a),!0})},aw=function(e,t){var n=t?1:-1,r=e.selection.getRng();return P0(e,n,r,Bo,Mo,Ir).exists(function(a){return Ma(e,a),!0})},iw=function(e,t){var n=t?Mo:Bo;return R0(e,t,n)},__=function(e,t){return{left:e.left-t,top:e.top-t,right:e.right+t*2,bottom:e.bottom+t*2,width:e.width+t,height:e.height+t}},V_=function(e,t){return Tr(t,function(n){var r=__(Ti(n.getBoundingClientRect()),-1);return[{x:r.left,y:e(r),cell:n},{x:r.right,y:e(r),cell:n}]})},H_=function(e,t,n){return Gt(e,function(r,a){return r.fold(function(){return S.some(a)},function(i){var s=Math.sqrt(Math.abs(i.x-t)+Math.abs(i.y-n)),u=Math.sqrt(Math.abs(a.x-t)+Math.abs(a.y-n));return S.some(u<s?a:i)})},S.none())},ow=function(e,t,n,r,a){var i=rr(Z.fromDom(n),"td,th,caption").map(function(u){return u.dom}),s=it(V_(e,i),function(u){return t(u,a)});return H_(s,r,a).map(function(u){return u.cell})},U_=function(e){return e.bottom},j_=function(e){return e.top},z_=function(e,t){return e.y<t},W_=function(e,t){return e.y>t},Y_=h(ow,U_,z_),K_=h(ow,j_,W_),q_=function(e,t){return bt(t.getClientRects()).bind(function(n){return Y_(e,n.left,n.top)}).bind(function(n){return x0(OL(n),t)})},G_=function(e,t){return Ht(t.getClientRects()).bind(function(n){return K_(e,n.left,n.top)}).bind(function(n){return x0(kL(n),t)})},X_=function(e,t,n){return n.breakAt.exists(function(r){return e(t,r).breakAt.isSome()})},J_=function(e){return e.breakType===wa.Wrap&&e.positions.length===0},Q_=function(e){return e.breakType===wa.Br&&e.positions.length===1},sw=function(e,t,n){var r=e(t,n);return J_(r)||!sn(n.getNode())&&Q_(r)?!X_(e,t,r):r.breakAt.isNone()},Z_=h(sw,$s),e2=h(sw,Fs),t2=function(e,t,n){var r=fe.fromRangeStart(t);return ko(!e,n).exists(function(a){return a.isEqual(r)})},n2=function(e,t,n,r){var a=e.selection.getRng(),i=t?1:-1;return Bm()&&t2(t,a,n)?(Ba(i,e,n,!t,!1).each(function(s){Ma(e,s)}),!0):!1},r2=function(e,t,n){return q_(t,n).orThunk(function(){return bt(n.getClientRects()).bind(function(r){return Hv(EL(e,fe.before(t)),r.left)})}).getOr(fe.before(t))},a2=function(e,t,n){return G_(t,n).orThunk(function(){return bt(n.getClientRects()).bind(function(r){return Hv(SL(e,fe.after(t)),r.left)})}).getOr(fe.after(t))},uw=function(e,t){var n=t.getNode(e);return lt(n)&&n.nodeName==="TABLE"?S.some(n):S.none()},i2=function(e,t,n,r){var a=$n(t);a?t.undoManager.transact(function(){var i=Z.fromTag(a);Ha(i,bs(t)),Pn(i,Z.fromTag("br")),e?ns(Z.fromDom(n),i):zr(Z.fromDom(n),i);var s=t.dom.createRng();s.setStart(i.dom,0),s.setEnd(i.dom,0),Ma(t,s)}):Ma(t,r.toRange())},lw=function(e,t,n){var r=uw(!!t,n),a=t===!1;r.fold(function(){return Ma(e,n.toRange())},function(i){return ko(a,e.getBody()).filter(function(s){return s.isEqual(n)}).fold(function(){return Ma(e,n.toRange())},function(s){return i2(t,e,i,n)})})},o2=function(e,t,n,r){var a=e.selection.getRng(),i=fe.fromRangeStart(a),s=e.getBody();if(!t&&Z_(r,i)){var u=r2(s,n,i);return lw(e,t,u),!0}else if(t&&e2(r,i)){var u=a2(s,n,i);return lw(e,t,u),!0}else return!1},fw=function(e,t,n){return S.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(function(r){return S.from(e.dom.getParent(r,"table")).map(function(a){return n(e,t,a,r)})}).getOr(!1)},cw=function(e,t){return fw(e,t,n2)},dw=function(e,t){return fw(e,t,o2)},s2=function(e,t,n){var r=Ar().os;Ho([{keyCode:rt.RIGHT,action:Et(J0,e,!0)},{keyCode:rt.LEFT,action:Et(J0,e,!1)},{keyCode:rt.UP,action:Et(Q0,e,!1)},{keyCode:rt.DOWN,action:Et(Q0,e,!0)},{keyCode:rt.RIGHT,action:Et(cw,e,!0)},{keyCode:rt.LEFT,action:Et(cw,e,!1)},{keyCode:rt.UP,action:Et(dw,e,!1)},{keyCode:rt.DOWN,action:Et(dw,e,!0)},{keyCode:rt.RIGHT,action:Et(rw,e,!0)},{keyCode:rt.LEFT,action:Et(rw,e,!1)},{keyCode:rt.UP,action:Et(aw,e,!1)},{keyCode:rt.DOWN,action:Et(aw,e,!0)},{keyCode:rt.RIGHT,action:Et(M0,e,t,!0)},{keyCode:rt.LEFT,action:Et(M0,e,t,!1)},{keyCode:rt.RIGHT,ctrlKey:!r.isOSX(),altKey:r.isOSX(),action:Et(KL,e,t)},{keyCode:rt.LEFT,ctrlKey:!r.isOSX(),altKey:r.isOSX(),action:Et(qL,e,t)},{keyCode:rt.UP,action:Et(nw,e,!1)},{keyCode:rt.DOWN,action:Et(nw,e,!0)}],n).each(function(a){n.preventDefault()})},u2=function(e,t){e.on("keydown",function(n){n.isDefaultPrevented()===!1&&s2(e,t,n)})},l2=function(e,t,n){Ho([{keyCode:rt.BACKSPACE,action:Et(z0,e,!1)},{keyCode:rt.BACKSPACE,action:Et($l,e,!1)},{keyCode:rt.DELETE,action:Et($l,e,!0)},{keyCode:rt.BACKSPACE,action:Et(Ml,e,!1)},{keyCode:rt.DELETE,action:Et(Ml,e,!0)},{keyCode:rt.BACKSPACE,action:Et(zl,e,t,!1)},{keyCode:rt.DELETE,action:Et(zl,e,t,!0)},{keyCode:rt.BACKSPACE,action:Et(bl,e,!1)},{keyCode:rt.DELETE,action:Et(bl,e,!0)},{keyCode:rt.BACKSPACE,action:Et(Fl,e,!1)},{keyCode:rt.DELETE,action:Et(Fl,e,!0)},{keyCode:rt.BACKSPACE,action:Et(Yl,e,!1)},{keyCode:rt.DELETE,action:Et(Yl,e,!0)},{keyCode:rt.BACKSPACE,action:Et(Bl,e,!1)},{keyCode:rt.DELETE,action:Et(Bl,e,!0)},{keyCode:rt.BACKSPACE,action:Et(Il,e,!1)},{keyCode:rt.DELETE,action:Et(Il,e,!0)},{keyCode:rt.BACKSPACE,action:Et(Wl,e,!1)},{keyCode:rt.DELETE,action:Et(Wl,e,!0)}],n).each(function(r){n.preventDefault()})},f2=function(e,t){Ho([{keyCode:rt.BACKSPACE,action:Et(f0,e)},{keyCode:rt.DELETE,action:Et(f0,e)}],t)},c2=function(e,t){e.on("keydown",function(n){n.isDefaultPrevented()===!1&&l2(e,t,n)}),e.on("keyup",function(n){n.isDefaultPrevented()===!1&&f2(e,n)})},d2=function(e){for(;e;){if(e.nodeType===1||e.nodeType===3&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}},Ls=function(e,t){var n,r=t,a=e.dom,i=e.schema.getMoveCaretBeforeOnEnterElements();if(t){if(/^(LI|DT|DD)$/.test(t.nodeName)){var s=d2(t.firstChild);s&&/^(UL|OL|DL)$/.test(s.nodeName)&&t.insertBefore(a.doc.createTextNode(sr),t.firstChild)}var u=a.createRng();if(t.normalize(),t.hasChildNodes()){for(var l=new Cn(t,t);n=l.current();){if(Ge(n)){u.setStart(n,0),u.setEnd(n,0);break}if(i[n.nodeName.toLowerCase()]){u.setStartBefore(n),u.setEndBefore(n);break}r=n,n=l.next()}n||(u.setStart(r,0),u.setEnd(r,0))}else sn(t)?t.nextSibling&&a.isBlock(t.nextSibling)?(u.setStartBefore(t),u.setEndBefore(t)):(u.setStartAfter(t),u.setEndAfter(t)):(u.setStart(t,0),u.setEnd(t,0));e.selection.setRng(u),Ns(e,u)}},v2=function(e,t){var n=e.getRoot(),r,a;for(r=t;r!==n&&e.getContentEditable(r)!=="false";)e.getContentEditable(r)==="true"&&(a=r),r=r.parentNode;return r!==n?a:n},Jv=function(e){return S.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock))},p2=function(e){return Jv(e).fold(Y(""),function(t){return t.nodeName.toUpperCase()})},h2=function(e){return Jv(e).filter(function(t){return us(Z.fromDom(t))}).isSome()},g2=function(e,t){return e.firstChild&&e.firstChild.nodeName===t},m2=function(e){var t;return((t=e.parentNode)===null||t===void 0?void 0:t.firstChild)===e},vw=function(e,t){return e&&e.parentNode&&e.parentNode.nodeName===t},pw=function(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)},b2=function(e){return pw(e)&&pw(e.parentNode)},Kl=function(e){var t=e.parentNode;return/^(LI|DT|DD)$/.test(t.nodeName)?t:e},ql=function(e,t,n){for(var r=e[n?"firstChild":"lastChild"];r&&!lt(r);)r=r[n?"nextSibling":"previousSibling"];return r===t},y2=function(e,t,n,r,a){var i=e.dom,s=e.selection.getRng();if(n!==e.getBody()){b2(n)&&(a="LI");var u=a?t(a):i.create("BR");if(ql(n,r,!0)&&ql(n,r,!1))if(vw(n,"LI")){var l=Kl(n);i.insertAfter(u,l),m2(n)?i.remove(l):i.remove(n)}else i.replace(u,n);else if(ql(n,r,!0))vw(n,"LI")?(i.insertAfter(u,Kl(n)),u.appendChild(i.doc.createTextNode(" ")),u.appendChild(n)):n.parentNode.insertBefore(u,n),i.remove(r);else if(ql(n,r,!1))i.insertAfter(u,Kl(n)),i.remove(r);else{n=Kl(n);var v=s.cloneRange();v.setStartAfter(r),v.setEndAfter(n);var g=v.extractContents();a==="LI"&&g2(g,"LI")?(u=g.firstChild,i.insertAfter(g,n)):(i.insertAfter(g,n),i.insertAfter(u,n)),i.remove(r)}Ls(e,u)}},C2=function(e){_e(_g(Z.fromDom(e),Nr),function(t){var n=t.dom;n.nodeValue=Wa(n.nodeValue)})},w2=function(e,t){return t&&t.nodeName==="A"&&e.isEmpty(t)},E2=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},Qv=function(e){e.innerHTML='<br data-mce-bogus="1">'},Zv=function(e,t){return e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t},hw=function(e,t){return t&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.getContentEditable(t)!=="true"},S2=function(e,t,n){var r=n,a=[],i;if(r){for(;r=r.firstChild;){if(e.isBlock(r))return;lt(r)&&!t[r.nodeName.toLowerCase()]&&a.push(r)}for(i=a.length;i--;)r=a[i],(!r.hasChildNodes()||r.firstChild===r.lastChild&&r.firstChild.nodeValue===""||w2(e,r))&&e.remove(r)}},ep=function(e,t,n){return Ge(t)===!1?n:e?n===1&&t.data.charAt(n-1)===An?0:n:n===t.data.length-1&&t.data.charAt(n)===An?t.data.length:n},x2=function(e){var t=e.cloneRange();return t.setStart(e.startContainer,ep(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,ep(!1,e.endContainer,e.endOffset)),t},D2=function(e){do Ge(e)&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild;while(e)},gw=function(e,t){var n=e.getRoot(),r,a;for(r=t;r!==n&&e.getContentEditable(r)!=="false";)e.getContentEditable(r)==="true"&&(a=r),r=r.parentNode;return r!==n?a:n},k2=function(e,t,n){var r=e.dom;S.from(n.style).map(r.parseStyle).each(function(l){var v=Vh(Z.fromDom(t)),g=st(st({},v),l);r.setStyles(t,g)});var a=S.from(n.class).map(function(l){return l.split(/\s+/)}),i=S.from(t.className).map(function(l){return it(l.split(/\s+/),function(v){return v!==""})});nr(a,i,function(l,v){var g=it(v,function(C){return!qe(l,C)}),m=Hr(Hr([],l,!0),g,!0);r.setAttrib(t,"class",m.join(" "))});var s=["style","class"],u=L(n,function(l,v){return!qe(s,v)});r.setAttribs(t,u)},_s=function(e,t){var n=$n(e);if(n&&n.toLowerCase()===t.tagName.toLowerCase()){var r=bs(e);k2(e,t,r)}},O2=function(e,t,n,r,a){var i,s,u,l,v,g,m=t||"P",C=e.dom,x=gw(C,r);if(s=C.getParent(r,C.isBlock),!s||!hw(C,s)){if(s=s||x,s===e.getBody()||E2(s)?g=s.nodeName.toLowerCase():g=s.parentNode.nodeName.toLowerCase(),!s.hasChildNodes())return i=C.create(m),_s(e,i),s.appendChild(i),n.setStart(i,0),n.setEnd(i,0),i;for(l=r;l.parentNode!==s;)l=l.parentNode;for(;l&&!C.isBlock(l);)u=l,l=l.previousSibling;if(u&&e.schema.isValidChild(g,m.toLowerCase())){for(i=C.create(m),_s(e,i),u.parentNode.insertBefore(i,u),l=u;l&&!C.isBlock(l);)v=l.nextSibling,i.appendChild(l),l=v;n.setStart(r,a),n.setEnd(r,a)}}return r},T2=function(e,t){t.normalize();var n=t.lastChild;(!n||/^(left|right)$/gi.test(e.getStyle(n,"float",!0)))&&e.add(t,"br")},A2=function(e,t){var n,r,a,i,s,u,l,v,g,m,C=e.dom,x=e.schema,D=x.getNonEmptyElements(),k=e.selection.getRng(),T=function(ve){var Oe=r,nt,ze,me,Ze=x.getTextInlineElements();if(ve||v==="TABLE"||v==="HR"?nt=C.create(ve||g):nt=i.cloneNode(!1),me=nt,Dk(e)===!1)C.setAttrib(nt,"style",null),C.setAttrib(nt,"class",null);else do if(Ze[Oe.nodeName]){if(ma(Oe)||Cr(Oe))continue;ze=Oe.cloneNode(!1),C.setAttrib(ze,"id",""),nt.hasChildNodes()?(ze.appendChild(nt.firstChild),nt.appendChild(ze)):(me=ze,nt.appendChild(ze))}while((Oe=Oe.parentNode)&&Oe!==V);return _s(e,nt),Qv(me),nt},F=function(ve){var Oe,nt,ze=ep(ve,r,a);if(Ge(r)&&(ve?ze>0:ze<r.nodeValue.length))return!1;if(r.parentNode===i&&m&&!ve||ve&&lt(r)&&r===i.firstChild)return!0;if(Zv(r,"TABLE")||Zv(r,"HR"))return m&&!ve||!m&&ve;var me=new Cn(r,i);for(Ge(r)&&(ve&&ze===0?me.prev():!ve&&ze===r.nodeValue.length&&me.next());Oe=me.current();){if(lt(Oe)){if(!Oe.getAttribute("data-mce-bogus")&&(nt=Oe.nodeName.toLowerCase(),D[nt]&&nt!=="br"))return!1}else if(Ge(Oe)&&!Si(Oe.nodeValue))return!1;ve?me.prev():me.next()}return!0},R=function(){/^(H[1-6]|PRE|FIGURE)$/.test(v)&&ne!=="HGROUP"?s=T(g):s=T(),kk(e)&&hw(C,l)&&C.isEmpty(i)?s=C.split(l,i):C.insertAfter(s,i),Ls(e,s)};al(C,k).each(function(ve){k.setStart(ve.startContainer,ve.startOffset),k.setEnd(ve.endContainer,ve.endOffset)}),r=k.startContainer,a=k.startOffset,g=$n(e);var G=!!(t&&t.shiftKey),K=!!(t&&t.ctrlKey);lt(r)&&r.hasChildNodes()&&(m=a>r.childNodes.length-1,r=r.childNodes[Math.min(a,r.childNodes.length-1)]||r,m&&Ge(r)?a=r.nodeValue.length:a=0);var V=gw(C,r);if(V){(g&&!G||!g&&G)&&(r=O2(e,g,k,r,a)),i=C.getParent(r,C.isBlock),l=i?C.getParent(i.parentNode,C.isBlock):null,v=i?i.nodeName.toUpperCase():"";var ne=l?l.nodeName.toUpperCase():"";if(ne==="LI"&&!K&&(i=l,l=l.parentNode,v=ne),/^(LI|DT|DD)$/.test(v)&&C.isEmpty(i)){y2(e,T,l,i,g);return}g&&i===e.getBody()||(g=g||"P",uo(i)?(s=uc(i),C.isEmpty(i)&&Qv(i),_s(e,s),Ls(e,s)):F()?R():F(!0)?(s=i.parentNode.insertBefore(T(),i),Ls(e,Zv(i,"HR")?s:i)):(n=x2(k).cloneRange(),n.setEndAfter(i),u=n.extractContents(),C2(u),D2(u),s=u.firstChild,C.insertAfter(u,i),S2(C,D,s),T2(C,i),C.isEmpty(i)&&Qv(i),s.normalize(),C.isEmpty(s)?(C.remove(s),R()):(_s(e,s),Ls(e,s))),C.setAttrib(s,"id",""),e.fire("NewBlock",{newBlock:s}))}},N2=function(e,t,n){for(var r=new Cn(t,n),a,i=e.getNonEmptyElements();a=r.next();)if(i[a.nodeName.toLowerCase()]||a.length>0)return!0},mw=function(e,t,n){var r=e.dom.createRng();n?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)),e.selection.setRng(r),Ns(e,r)},P2=function(e,t){var n=e.selection,r=e.dom,a=n.getRng(),i,s;al(r,a).each(function(D){a.setStart(D.startContainer,D.startOffset),a.setEnd(D.endContainer,D.endOffset)});var u=a.startOffset,l=a.startContainer;if(l.nodeType===1&&l.hasChildNodes()){var v=u>l.childNodes.length-1;l=l.childNodes[Math.min(u,l.childNodes.length-1)]||l,v&&l.nodeType===3?u=l.nodeValue.length:u=0}var g=r.getParent(l,r.isBlock),m=g?r.getParent(g.parentNode,r.isBlock):null,C=m?m.nodeName.toUpperCase():"",x=!!(t&&t.ctrlKey);C==="LI"&&!x&&(g=m),l&&l.nodeType===3&&u>=l.nodeValue.length&&(N2(e.schema,l,g)||(i=r.create("br"),a.insertNode(i),a.setStartAfter(i),a.setEndAfter(i),s=!0)),i=r.create("br"),zc(r,a,i),mw(e,i,s),e.undoManager.add()},R2=function(e,t){var n=Z.fromTag("br");zr(Z.fromDom(t),n),e.undoManager.add()},I2=function(e,t){M2(e.getBody(),t)||ns(Z.fromDom(t),Z.fromTag("br"));var n=Z.fromTag("br");ns(Z.fromDom(t),n),mw(e,n.dom,!1),e.undoManager.add()},B2=function(e){return sn(e.getNode())},M2=function(e,t){return B2(fe.after(t))?!0:Xr(e,fe.after(t)).map(function(n){return sn(n.getNode())}).getOr(!1)},bw=function(e){return e&&e.nodeName==="A"&&"href"in e},$2=function(e){return e.fold(N,bw,bw,N)},F2=function(e){var t=h(Li,e),n=fe.fromRangeStart(e.selection.getRng());return Ca(t,e.getBody(),n).filter($2)},L2=function(e,t){t.fold(pe,h(R2,e),h(I2,e),pe)},yw=function(e,t){var n=F2(e);n.isSome()?n.each(h(L2,e)):P2(e,t)},Cw=function(e,t){return Jv(e).filter(function(n){return t.length>0&&eo(Z.fromDom(n),t)}).isSome()},_2=function(e){return Cw(e,Sk(e))},V2=function(e){return Cw(e,xk(e))},cr=ja.generate([{br:[]},{block:[]},{none:[]}]),H2=function(e,t){return V2(e)},tp=function(e){return function(t,n){var r=$n(t)==="";return r===e}},ww=function(e){return function(t,n){return h2(t)===e}},Ew=function(e,t){return function(n,r){var a=p2(n)===e.toUpperCase();return a===t}},Gl=function(e){return Ew("pre",e)},U2=function(){return Ew("summary",!0)},Xl=function(e){return function(t,n){return Ek(t)===e}},j2=function(e,t){return _2(e)},Vs=function(e,t){return t},Sw=function(e){var t=$n(e),n=v2(e.dom,e.selection.getStart());return n&&e.schema.isValidChild(n.nodeName,t||"P")},Er=function(e,t){return function(n,r){var a=Gt(e,function(i,s){return i&&s(n,r)},!0);return a?S.some(t):S.none()}},z2=function(e,t){return g0([Er([H2],cr.none()),Er([U2()],cr.br()),Er([Gl(!0),Xl(!1),Vs],cr.br()),Er([Gl(!0),Xl(!1)],cr.block()),Er([Gl(!0),Xl(!0),Vs],cr.block()),Er([Gl(!0),Xl(!0)],cr.br()),Er([ww(!0),Vs],cr.br()),Er([ww(!0)],cr.block()),Er([tp(!0),Vs,Sw],cr.block()),Er([tp(!0)],cr.br()),Er([j2],cr.br()),Er([tp(!1),Vs],cr.br()),Er([Sw],cr.block())],[e,!!(t&&t.shiftKey)]).getOr(cr.none())},xw=function(e,t){z2(e,t).fold(function(){yw(e,t)},function(){A2(e,t)},pe)},W2=function(e,t){t.isDefaultPrevented()||(t.preventDefault(),lB(e.undoManager),e.undoManager.transact(function(){e.selection.isCollapsed()===!1&&e.execCommand("Delete"),xw(e,t)}))},Y2=function(e){e.on("keydown",function(t){t.keyCode===rt.ENTER&&W2(e,t)})},K2=function(e,t,n){Ho([{keyCode:rt.END,action:Et(Z0,e,!0)},{keyCode:rt.HOME,action:Et(Z0,e,!1)},{keyCode:rt.END,action:Et(iw,e,!0)},{keyCode:rt.HOME,action:Et(iw,e,!1)},{keyCode:rt.END,action:Et(jl,e,!0,t)},{keyCode:rt.HOME,action:Et(jl,e,!1,t)}],n).each(function(r){n.preventDefault()})},q2=function(e,t){e.on("keydown",function(n){n.isDefaultPrevented()===!1&&K2(e,t,n)})},G2=Ar().browser,X2=function(e){var t=Fc(function(){e.composing||dy(e)},0);G2.isIE()&&(e.on("keypress",function(n){t.throttle()}),e.on("remove",function(n){t.cancel()}))},J2=function(e){X2(e),e.on("input",function(t){t.isComposing===!1&&dy(e)})},Q2=Ar(),Z2=function(e,t,n){Ho([{keyCode:rt.PAGE_UP,action:Et(jl,e,!1,t)},{keyCode:rt.PAGE_DOWN,action:Et(jl,e,!0,t)}],n)},Dw=function(e){return e.stopImmediatePropagation()},kw=function(e){return e.keyCode===rt.PAGE_UP||e.keyCode===rt.PAGE_DOWN},Ow=function(e,t,n){n&&!e.get()?t.on("NodeChange",Dw,!0):!n&&e.get()&&t.off("NodeChange",Dw),e.set(n)},e3=function(e,t){if(!Q2.os.isOSX()){var n=Hn(!1);e.on("keydown",function(r){kw(r)&&Ow(n,e,!0)}),e.on("keyup",function(r){r.isDefaultPrevented()===!1&&Z2(e,t,r),kw(r)&&n.get()&&(Ow(n,e,!1),e.nodeChanged())})}},Tw=function(e,t){var n=t.container(),r=t.offset();return Ge(n)?(n.insertData(r,e),S.some(fe(n,r+e.length))):Gu(t).map(function(a){var i=Z.fromText(e);return t.isAtEnd()?ns(a,i):zr(a,i),fe(i.dom,e.length)})},t3=h(Tw,sr),n3=h(Tw," "),r3=function(e){return function(t){return t.fold(function(n){return ha(e.dom,fe.before(n))},function(n){return Jn(n)},function(n){return ga(n)},function(n){return Xr(e.dom,fe.after(n))})}},a3=function(e,t){return function(n){return JN(e,n)?t3(t):n3(t)}},i3=function(e){return function(t){return e.selection.setRng(t.toRange()),e.nodeChanged(),!0}},o3=function(e){var t=fe.fromRangeStart(e.selection.getRng()),n=Z.fromDom(e.getBody());if(e.selection.isCollapsed()){var r=h(Li,e),a=fe.fromRangeStart(e.selection.getRng());return Ca(r,e.getBody(),a).bind(r3(n)).bind(a3(n,t)).exists(i3(e))}else return!1},s3=function(e,t){Ho([{keyCode:rt.SPACEBAR,action:Et(o3,e)}],t).each(function(n){t.preventDefault()})},u3=function(e){e.on("keydown",function(t){t.isDefaultPrevented()===!1&&s3(e,t)})},l3=function(e){var t=YL(e);return S_(e),u2(e,t),c2(e,t),Y2(e),u3(e),J2(e),q2(e,t),e3(e,t),t},f3=function(e){return Ia(e)?Hn(null):l3(e)},c3=function(){function e(t){this.lastPath=[],this.editor=t;var n,r=this;"onselectionchange"in t.getDoc()||t.on("NodeChange click mouseup keyup focus",function(a){var i=t.selection.getRng(),s={startContainer:i.startContainer,startOffset:i.startOffset,endContainer:i.endContainer,endOffset:i.endOffset};(a.type==="nodechange"||!yd(s,n))&&t.fire("SelectionChange"),n=s}),t.on("contextmenu",function(){t.fire("SelectionChange")}),t.on("SelectionChange",function(){var a=t.selection.getStart(!0);!a||!pt.range&&t.selection.isCollapsed()||rl(t)&&!r.isSameElementPath(a)&&t.dom.isChildOf(a,t.getBody())&&t.nodeChanged({selectionChange:!0})}),t.on("mouseup",function(a){!a.isDefaultPrevented()&&rl(t)&&(t.selection.getNode().nodeName==="IMG"?In.setEditorTimeout(t,function(){t.nodeChanged()}):t.nodeChanged())})}return e.prototype.nodeChanged=function(t){var n=this.editor.selection,r,a,i;this.editor.initialized&&n&&!oO(this.editor)&&!this.editor.mode.isReadOnly()&&(i=this.editor.getBody(),r=n.getStart(!0)||i,(r.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(r,i))&&(r=i),a=[],this.editor.dom.getParent(r,function(s){if(s===i)return!0;a.push(s)}),t=t||{},t.element=r,t.parents=a,this.editor.fire("NodeChange",t))},e.prototype.isSameElementPath=function(t){var n,r=this.editor.$(t).parentsUntil(this.editor.getBody()).add(t);if(r.length===this.lastPath.length){for(n=r.length;n>=0&&r[n]===this.lastPath[n];n--);if(n===-1)return this.lastPath=r,!0}return this.lastPath=r,!1},e}(),d3=function(e){e.on("click",function(t){e.dom.getParent(t.target,"details")&&t.preventDefault()})},v3=function(e){e.parser.addNodeFilter("details",function(t){_e(t,function(n){n.attr("data-mce-open",n.attr("open")),n.attr("open","open")})}),e.serializer.addNodeFilter("details",function(t){_e(t,function(n){var r=n.attr("data-mce-open");n.attr("open",ce(r)?r:null),n.attr("data-mce-open",null)})})},p3=function(e){d3(e),v3(e)},Aw=function(e){return lt(e)&&Zh(Z.fromDom(e))},h3=function(e){var t=e.selection.getRng(),n=fe.fromRangeStart(t),r=fe.fromRangeEnd(t);if(fe.isElementPosition(n)){var a=n.container();Aw(a)&&Jn(a).each(function(i){return t.setStart(i.container(),i.offset())})}if(fe.isElementPosition(r)){var a=n.container();Aw(a)&&ga(a).each(function(s){return t.setEnd(s.container(),s.offset())})}e.selection.setRng(Qd(t))},g3=function(e){e.on("click",function(t){t.detail>=3&&h3(e)})},Nw=function(e){var t=e.getBoundingClientRect(),n=e.ownerDocument,r=n.documentElement,a=n.defaultView;return{top:t.top+a.pageYOffset-r.clientTop,left:t.left+a.pageXOffset-r.clientLeft}},m3=function(e){return e.inline?Nw(e.getBody()):{left:0,top:0}},b3=function(e){var t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},y3=function(e){var t=e.getBody(),n=e.getDoc().documentElement,r={left:t.scrollLeft,top:t.scrollTop},a={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop};return e.inline?r:a},C3=function(e,t){if(t.target.ownerDocument!==e.getDoc()){var n=Nw(e.getContentAreaContainer()),r=y3(e);return{left:t.pageX-n.left+r.left,top:t.pageY-n.top+r.top}}return{left:t.pageX,top:t.pageY}},w3=function(e,t,n){return{pageX:n.left-e.left+t.left,pageY:n.top-e.top+t.top}},E3=function(e,t){return w3(m3(e),b3(e),C3(e,t))},Jl=Jt,S3=sa,x3=function(e,t){return Jl(t)&&t!==e},D3=function(e,t,n){return t===n||e.dom.isChildOf(t,n)?!1:!Jl(t)},k3=function(e){var t=e.cloneNode(!0);return t.removeAttribute("data-mce-selected"),t},O3=function(e,t,n,r){var a=e.dom,i=t.cloneNode(!0);a.setStyles(i,{width:n,height:r}),a.setAttrib(i,"data-mce-selected",null);var s=a.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return a.setStyles(s,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:r}),a.setStyles(i,{margin:0,boxSizing:"border-box"}),s.appendChild(i),s},T3=function(e,t){e.parentNode!==t&&t.appendChild(e)},A3=function(e,t,n,r,a,i){var s=0,u=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+n>a&&(s=t.pageX+n-a),t.pageY+r>i&&(u=t.pageY+r-i),e.style.width=n-s+"px",e.style.height=r-u+"px"},Pw=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},N3=function(e){return e.button===0},P3=function(e,t){return{pageX:t.pageX-e.relX,pageY:t.pageY+5}},R3=function(e,t){return function(n){if(N3(n)){var r=St(t.dom.getParents(n.target),qD(Jl,S3)).getOr(null);if(x3(t.getBody(),r)){var a=t.dom.getPos(r),i=t.getBody(),s=t.getDoc().documentElement;e.set({element:r,dragging:!1,screenX:n.screenX,screenY:n.screenY,maxX:(t.inline?i.scrollWidth:s.offsetWidth)-2,maxY:(t.inline?i.scrollHeight:s.offsetHeight)-2,relX:n.pageX-a.x,relY:n.pageY-a.y,width:r.offsetWidth,height:r.offsetHeight,ghost:O3(t,r,r.offsetWidth,r.offsetHeight)})}}}},I3=function(e,t){var n=In.throttle(function(r,a){t._selectionOverrides.hideFakeCaret(),t.selection.placeCaretAt(r,a)},0);return t.on("remove",n.stop),function(r){return e.on(function(a){var i=Math.max(Math.abs(r.screenX-a.screenX),Math.abs(r.screenY-a.screenY));if(!a.dragging&&i>10){var s=t.fire("dragstart",{target:a.element});if(s.isDefaultPrevented())return;a.dragging=!0,t.focus()}if(a.dragging){var u=P3(a,E3(t,r));T3(a.ghost,t.getBody()),A3(a.ghost,u,a.width,a.height,a.maxX,a.maxY),n(r.clientX,r.clientY)}})}},B3=function(e){var t=e.getSel().getRangeAt(0),n=t.startContainer;return n.nodeType===3?n.parentNode:n},M3=function(e,t){return function(n){e.on(function(r){if(r.dragging){if(D3(t,B3(t.selection),r.element)){var a=k3(r.element),i=t.fire("drop",{clientX:n.clientX,clientY:n.clientY});i.isDefaultPrevented()||t.undoManager.transact(function(){Pw(r.element),t.insertContent(t.dom.getOuterHTML(a)),t._selectionOverrides.hideFakeCaret()})}t.fire("dragend")}}),Rw(e)}},$3=function(e,t){return function(){e.on(function(n){n.dragging&&t.fire("dragend")}),Rw(e)}},Rw=function(e){e.on(function(t){Pw(t.ghost)}),e.clear()},F3=function(e){var t=bo(),n=zt.DOM,r=document,a=R3(t,e),i=I3(t,e),s=M3(t,e),u=$3(t,e);e.on("mousedown",a),e.on("mousemove",i),e.on("mouseup",s),n.bind(r,"mousemove",i),n.bind(r,"mouseup",u),e.on("remove",function(){n.unbind(r,"mousemove",i),n.unbind(r,"mouseup",u)}),e.on("keydown",function(l){l.keyCode===rt.ESC&&u()})},L3=function(e){e.on("drop",function(t){var n=typeof t.clientX<"u"?e.getDoc().elementFromPoint(t.clientX,t.clientY):null;(Jl(n)||e.dom.getContentEditableParent(n)==="false")&&t.preventDefault()})},_3=function(e){var t=function(a){if(!a.isDefaultPrevented()){var i=a.dataTransfer;i&&(qe(i.types,"Files")||i.files.length>0)&&(a.preventDefault(),a.type==="drop"&&Al(e,"Dropped file type is not supported"))}},n=function(a){ll(e,a.target)&&t(a)},r=function(){var a=zt.DOM,i=e.dom,s=document,u=e.inline?e.getBody():e.getDoc(),l=["drop","dragover"];_e(l,function(v){a.bind(s,v,n),i.bind(u,v,t)}),e.on("remove",function(){_e(l,function(v){a.unbind(s,v,n),i.unbind(u,v,t)})})};e.on("init",function(){In.setEditorTimeout(e,r,0)})},V3=function(e){F3(e),L3(e),fO(e)&&_3(e)},H3=function(e){var t=Fc(function(){if(!e.removed&&e.getBody().contains(document.activeElement)){var n=e.selection.getRng();if(n.collapsed){var r=$v(e,n,!1);e.selection.setRng(r)}}},0);e.on("focus",function(){t.throttle()}),e.on("blur",function(){t.cancel()})},U3=function(e){e.on("init",function(){e.on("focusin",function(t){var n=t.target;if(Ir(n)){var r=Ro(e.getBody(),n),a=Jt(r)?r:n;e.selection.getNode()!==a&&_o(e,a).each(function(i){return e.selection.setRng(i)})}})})},Iw=sa,Vi=Jt,Ql=function(e,t){return Ro(e.getBody(),t)},j3=function(e){var t=e.selection,n=e.dom,r=n.isBlock,a=e.getBody(),i=kO(e,a,r,function(){return Bi(e)}),s="sel-"+n.uniqueId(),u="data-mce-selected",l,v=function(me){return n.hasClass(me,"mce-offscreen-selection")},g=function(me){return me!==a&&(Vi(me)||Ir(me))&&n.isChildOf(me,a)},m=function(me){return si(me)||ui(me)||Bo(me)||Mo(me)},C=function(){var me=n.get(s);return me&&me.getElementsByTagName("*")[0]},x=function(me){me&&t.setRng(me)},D=t.getRng,k=function(me,Ze,Ie,He){He===void 0&&(He=!0);var Pe=e.fire("ShowCaret",{target:Ze,direction:me,before:Ie});return Pe.isDefaultPrevented()?null:(He&&t.scrollIntoView(Ze,me===-1),i.show(Ie,Ze))},T=function(me){me.hasAttribute("data-mce-caret")&&(uc(me),x(D()),t.scrollIntoView(me))},F=function(){e.on("mouseup",function(Pe){var Le=D();Le.collapsed&&BC(e,Pe.clientX,Pe.clientY)&&i0(e,Le,!1).each(x)}),e.on("click",function(Pe){var Le=Ql(e,Pe.target);Le&&(Vi(Le)&&(Pe.preventDefault(),e.focus()),Iw(Le)&&n.isChildOf(Le,t.getNode())&&Oe())}),e.on("blur NewBlock",Oe),e.on("ResizeWindow FullscreenStateChanged",i.reposition);var me=function(Pe){var Le=Pe.firstChild;if(ae(Le))return!1;var Ye=fe.before(Le);if(sn(Ye.getNode())&&Pe.childNodes.length===1)return!m(Ye);var we=Gr(Pe),We=we.next(Ye);return We&&!m(We)},Ze=function(Pe,Le){var Ye=n.getParent(Pe,r),we=n.getParent(Le,r);return Ye===we},Ie=function(Pe,Le){var Ye=n.getParent(Pe,r),we=n.getParent(Le,r);return ae(Ye)?!1:Pe!==we&&n.isChildOf(Ye,we)&&Vi(Ql(e,Ye))===!1?!0:!n.isChildOf(we,Ye)&&!Ze(Ye,we)&&me(Ye)};e.on("tap",function(Pe){var Le=Pe.target,Ye=Ql(e,Le);Vi(Ye)?(Pe.preventDefault(),_o(e,Ye).each(ve)):g(Le)&&_o(e,Le).each(ve)},!0),e.on("mousedown",function(Pe){var Le=Pe.target;if(!(Le!==a&&Le.nodeName!=="HTML"&&!n.isChildOf(Le,a))&&BC(e,Pe.clientX,Pe.clientY)!==!1){var Ye=Ql(e,Le);if(Ye)Vi(Ye)?(Pe.preventDefault(),_o(e,Ye).each(ve)):(Oe(),!(Iw(Ye)&&Pe.shiftKey)&&!gd(Pe.clientX,Pe.clientY,t.getRng())&&(ze(),t.placeCaretAt(Pe.clientX,Pe.clientY)));else if(g(Le))_o(e,Le).each(ve);else if(Pi(Le)===!1){Oe(),ze();var we=HL(a,Pe.clientX,Pe.clientY);if(we&&!Ie(Le,we.node)){Pe.preventDefault();var We=k(1,we.node,we.before,!1);x(We),e.getBody().focus()}}}}),e.on("keypress",function(Pe){rt.modifierPressed(Pe)||Vi(t.getNode())&&Pe.preventDefault()}),e.on("GetSelectionRange",function(Pe){var Le=Pe.range;if(l){if(!l.parentNode){l=null;return}Le=Le.cloneRange(),Le.selectNode(l),Pe.range=Le}}),e.on("SetSelectionRange",function(Pe){Pe.range=K(Pe.range);var Le=ve(Pe.range,Pe.forward);Le&&(Pe.range=Le)});var He=function(Pe){return Pe.id==="mcepastebin"};e.on("AfterSetSelectionRange",function(Pe){var Le=Pe.range,Ye=Le.startContainer.parentNode;!G(Le)&&!He(Ye)&&ze(),v(Ye)||Oe()}),e.on("copy",function(Pe){var Le=Pe.clipboardData;if(!Pe.isDefaultPrevented()&&Pe.clipboardData&&!pt.ie){var Ye=C();Ye&&(Pe.preventDefault(),Le.clearData(),Le.setData("text/html",Ye.outerHTML),Le.setData("text/plain",Ye.outerText||Ye.innerText))}}),V3(e),H3(e),U3(e)},R=function(me){return gr(me)||Du(me)||ku(me)},G=function(me){return R(me.startContainer)||R(me.endContainer)},K=function(me){var Ze=e.schema.getShortEndedElements(),Ie=n.createRng(),He=me.startContainer,Pe=me.startOffset,Le=me.endContainer,Ye=me.endOffset;return $e(Ze,He.nodeName.toLowerCase())?Pe===0?Ie.setStartBefore(He):Ie.setStartAfter(He):Ie.setStart(He,Pe),$e(Ze,Le.nodeName.toLowerCase())?Ye===0?Ie.setEndBefore(Le):Ie.setEndAfter(Le):Ie.setEnd(Le,Ye),Ie},V=function(me,Ze,Ie){var He=e.$,Pe=wu(Z.fromDom(e.getBody()),"#"+s).fold(function(){return He([])},function(we){return He([we.dom])});Pe.length===0&&(Pe=He('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",s),Pe.appendTo(e.getBody()));var Le=n.createRng();Ze===Ie&&pt.ie?(Pe.empty().append('<p style="font-size: 0" data-mce-bogus="all"> </p>').append(Ze),Le.setStartAfter(Pe[0].firstChild.firstChild),Le.setEndAfter(Ze)):(Pe.empty().append(sr).append(Ze).append(sr),Le.setStart(Pe[0].firstChild,1),Le.setEnd(Pe[0].lastChild,0)),Pe.css({top:n.getPos(me,e.getBody()).y}),Pe[0].focus();var Ye=t.getSel();return Ye.removeAllRanges(),Ye.addRange(Le),Le},ne=function(me){var Ze=me.cloneNode(!0),Ie=e.fire("ObjectSelected",{target:me,targetClone:Ze});if(Ie.isDefaultPrevented())return null;var He=V(me,Ie.targetClone,Ze),Pe=Z.fromDom(me);return _e(rr(Z.fromDom(e.getBody()),"*[data-mce-selected]"),function(Le){Yt(Pe,Le)||Ua(Le,u)}),n.getAttrib(me,u)||me.setAttribute(u,"1"),l=me,ze(),He},ve=function(me,Ze){if(!me)return null;if(me.collapsed){if(!G(me)){var Ie=Ze?1:-1,He=xs(Ie,a,me),Pe=He.getNode(!Ze);if(Pi(Pe))return k(Ie,Pe,Ze?!He.isAtEnd():!1,!1);var Le=He.getNode(Ze);if(Pi(Le))return k(Ie,Le,Ze?!1:!He.isAtEnd(),!1)}return null}var Ye=me.startContainer,we=me.startOffset,We=me.endOffset;if(Ye.nodeType===3&&we===0&&Vi(Ye.parentNode)&&(Ye=Ye.parentNode,we=n.nodeIndex(Ye),Ye=Ye.parentNode),Ye.nodeType!==1)return null;if(We===we+1&&Ye===me.endContainer){var mt=Ye.childNodes[we];if(g(mt))return ne(mt)}return null},Oe=function(){l&&l.removeAttribute(u),wu(Z.fromDom(e.getBody()),"#"+s).each(Tn),l=null},nt=function(){i.destroy(),l=null},ze=function(){i.hide()};return pt.ceFalse&&!Ia(e)&&F(),{showCaret:k,showBlockCaretContainer:T,hideFakeCaret:ze,destroy:nt}},z3=function(e){var t=he.each,n=rt.BACKSPACE,r=rt.DELETE,a=e.dom,i=e.selection,s=e.parser,u=pt.gecko,l=pt.ie,v=pt.webkit,g="data:text/mce-internal,",m=l?"Text":"URL",C=function(Se,Be){try{e.getDoc().execCommand(Se,!1,Be)}catch{}},x=function(Se){return Se.isDefaultPrevented()},D=function(Se){var Be,Xe;Se.dataTransfer&&(e.selection.isCollapsed()&&Se.target.tagName==="IMG"&&i.select(Se.target),Be=e.selection.getContent(),Be.length>0&&(Xe=g+escape(e.id)+","+escape(Be),Se.dataTransfer.setData(m,Xe)))},k=function(Se){var Be;return Se.dataTransfer&&(Be=Se.dataTransfer.getData(m),Be&&Be.indexOf(g)>=0)?(Be=Be.substr(g.length).split(","),{id:unescape(Be[0]),html:unescape(Be[1])}):null},T=function(Se,Be){e.queryCommandSupported("mceInsertClipboardContent")?e.execCommand("mceInsertClipboardContent",!1,{content:Se,internal:Be}):e.execCommand("mceInsertContent",!1,Se)},F=function(){var Se=function(Xe){var ie=a.create("body"),Te=Xe.cloneContents();return ie.appendChild(Te),i.serializer.serialize(ie,{format:"html"})},Be=function(Xe){var ie=Se(Xe),Te=a.createRng();Te.selectNode(e.getBody());var xe=Se(Te);return ie===xe};e.on("keydown",function(Xe){var ie=Xe.keyCode,Te,xe;if(!x(Xe)&&(ie===r||ie===n)){if(Te=e.selection.isCollapsed(),xe=e.getBody(),Te&&!a.isEmpty(xe)||!Te&&!Be(e.selection.getRng()))return;Xe.preventDefault(),e.setContent(""),xe.firstChild&&a.isBlock(xe.firstChild)?e.selection.setCursorLocation(xe.firstChild,0):e.selection.setCursorLocation(xe,0),e.nodeChanged()}})},R=function(){e.shortcuts.add("meta+a",null,"SelectAll")},G=function(){e.inline||a.bind(e.getDoc(),"mousedown mouseup",function(Se){var Be;if(Se.target===e.getDoc().documentElement)if(Be=i.getRng(),e.getBody().focus(),Se.type==="mousedown"){if(gr(Be.startContainer))return;i.placeCaretAt(Se.clientX,Se.clientY)}else i.setRng(Be)})},K=function(){e.on("keydown",function(Se){if(!x(Se)&&Se.keyCode===n){if(!e.getBody().getElementsByTagName("hr").length)return;if(i.isCollapsed()&&i.getRng().startOffset===0){var Be=i.getNode(),Xe=Be.previousSibling;if(Be.nodeName==="HR"){a.remove(Be),Se.preventDefault();return}Xe&&Xe.nodeName&&Xe.nodeName.toLowerCase()==="hr"&&(a.remove(Xe),Se.preventDefault())}}})},V=function(){Range.prototype.getClientRects||e.on("mousedown",function(Se){if(!x(Se)&&Se.target.nodeName==="HTML"){var Be=e.getBody();Be.blur(),In.setEditorTimeout(e,function(){Be.focus()})}})},ne=function(){e.on("click",function(Se){var Be=Se.target;/^(IMG|HR)$/.test(Be.nodeName)&&a.getContentEditableParent(Be)!=="false"&&(Se.preventDefault(),e.selection.select(Be),e.nodeChanged()),Be.nodeName==="A"&&a.hasClass(Be,"mce-item-anchor")&&(Se.preventDefault(),i.select(Be))})},ve=function(){var Se=function(){var Xe=a.getAttribs(i.getStart().cloneNode(!1));return function(){var ie=i.getStart();ie!==e.getBody()&&(a.setAttrib(ie,"style",null),t(Xe,function(Te){ie.setAttributeNode(Te.cloneNode(!0))}))}},Be=function(){return!i.isCollapsed()&&a.getParent(i.getStart(),a.isBlock)!==a.getParent(i.getEnd(),a.isBlock)};e.on("keypress",function(Xe){var ie;if(!x(Xe)&&(Xe.keyCode===8||Xe.keyCode===46)&&Be())return ie=Se(),e.getDoc().execCommand("delete",!1,null),ie(),Xe.preventDefault(),!1}),a.bind(e.getDoc(),"cut",function(Xe){var ie;!x(Xe)&&Be()&&(ie=Se(),In.setEditorTimeout(e,function(){ie()}))})},Oe=function(){e.on("keydown",function(Se){if(!x(Se)&&Se.keyCode===n&&i.isCollapsed()&&i.getRng().startOffset===0){var Be=i.getNode().previousSibling;if(Be&&Be.nodeName&&Be.nodeName.toLowerCase()==="table")return Se.preventDefault(),!1}})},nt=function(){e.on("keydown",function(Se){var Be,Xe;if(!(x(Se)||Se.keyCode!==rt.BACKSPACE)){Be=i.getRng();var ie=Be.startContainer,Te=Be.startOffset,xe=a.getRoot();if(Xe=ie,!(!Be.collapsed||Te!==0)){for(;Xe&&Xe.parentNode&&Xe.parentNode.firstChild===Xe&&Xe.parentNode!==xe;)Xe=Xe.parentNode;Xe.tagName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",null,Xe),Be=a.createRng(),Be.setStart(ie,0),Be.setEnd(ie,0),i.setRng(Be))}}})},ze=function(){var Se=function(){C("StyleWithCSS",!1),C("enableInlineTableEditing",!1),km(e)||C("enableObjectResizing",!1)};sO(e)||e.on("BeforeExecCommand mousedown",Se)},me=function(){var Se=function(){t(a.select("a"),function(Be){var Xe=Be.parentNode,ie=a.getRoot();if(Xe.lastChild===Be){for(;Xe&&!a.isBlock(Xe);){if(Xe.parentNode.lastChild!==Xe||Xe===ie)return;Xe=Xe.parentNode}a.add(Xe,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",function(Be){(Be.type==="setcontent"||Be.command==="mceInsertLink")&&Se()})},Ze=function(){$n(e)&&e.on("init",function(){C("DefaultParagraphSeparator",$n(e))})},Ie=function(){e.on("keyup focusin mouseup",function(Se){rt.modifierPressed(Se)||i.normalize()},!0)},He=function(){e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},Pe=function(){e.inline||e.on("keydown",function(){document.activeElement===document.body&&e.getWin().focus()})},Le=function(){e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",function(Se){var Be;if(Se.target.nodeName==="HTML"){if(pt.ie>11){e.getBody().focus();return}Be=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(Be),e.selection.normalize(),e.nodeChanged()}}))},Ye=function(){pt.mac&&e.on("keydown",function(Se){if(rt.metaKeyPressed(Se)&&!Se.shiftKey&&(Se.keyCode===37||Se.keyCode===39)){Se.preventDefault();var Be=e.selection.getSel();Be.modify("move",Se.keyCode===37?"backward":"forward","lineboundary")}})},we=function(){C("AutoUrlDetect",!1)},We=function(){e.on("click",function(Se){var Be=Se.target;do if(Be.tagName==="A"){Se.preventDefault();return}while(Be=Be.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},mt=function(){e.on("init",function(){e.dom.bind(e.getBody(),"submit",function(Se){Se.preventDefault()})})},kt=function(){s.addNodeFilter("br",function(Se){for(var Be=Se.length;Be--;)Se[Be].attr("class")==="Apple-interchange-newline"&&Se[Be].remove()})},Dt=function(){e.on("dragstart",function(Se){D(Se)}),e.on("drop",function(Se){if(!x(Se)){var Be=k(Se);if(Be&&Be.id!==e.id){Se.preventDefault();var Xe=bd(Se.x,Se.y,e.getDoc());i.setRng(Xe),T(Be.html,!0)}}})},pn=pe,Xt=function(){if(!u||e.removed)return!1;var Se=e.selection.getSel();return!Se||!Se.rangeCount||Se.rangeCount===0},Fn=function(){v&&(G(),ne(),mt(),R(),pt.iOS&&(Pe(),Le(),We())),u&&(V(),ze(),He(),Ye())},ar=function(){nt(),F(),pt.windowsPhone||Ie(),v&&(G(),ne(),Ze(),mt(),Oe(),kt(),pt.iOS?(Pe(),Le(),We()):R()),pt.ie>=11&&(Le(),Oe()),pt.ie&&(R(),we(),Dt()),u&&(K(),V(),ve(),ze(),me(),He(),Ye(),Oe())};return Ia(e)?Fn():ar(),{refreshContentEditable:pn,isHidden:Xt}},np=zt.DOM,W3=function(e,t){var n=Z.fromDom(e.getBody()),r=zf(wi(n)),a=Z.fromTag("style");ua(a,"type","text/css"),Pn(a,Z.fromText(t)),Pn(r,a),e.on("remove",function(){Tn(a)})},Y3=function(e){return e.inline?e.getElement().nodeName.toLowerCase():void 0},rp=function(e){return L(e,function(t){return j(t)===!1})},Bw=function(e){var t=e.settings;return rp({block_elements:t.block_elements,boolean_attributes:t.boolean_attributes,custom_elements:t.custom_elements,extended_valid_elements:t.extended_valid_elements,invalid_elements:t.invalid_elements,invalid_styles:t.invalid_styles,move_caret_before_on_enter_elements:t.move_caret_before_on_enter_elements,non_empty_elements:t.non_empty_elements,schema:t.schema,self_closing_elements:t.self_closing_elements,short_ended_elements:t.short_ended_elements,special:t.special,text_block_elements:t.text_block_elements,text_inline_elements:t.text_inline_elements,valid_children:t.valid_children,valid_classes:t.valid_classes,valid_elements:t.valid_elements,valid_styles:t.valid_styles,verify_html:t.verify_html,whitespace_elements:t.whitespace_elements,padd_empty_block_inline_children:t.format_empty_lines})},Mw=function(e){var t=e.settings,n=e.editorUpload.blobCache;return rp({allow_conditional_comments:t.allow_conditional_comments,allow_html_data_urls:t.allow_html_data_urls,allow_svg_data_urls:t.allow_svg_data_urls,allow_html_in_named_anchor:t.allow_html_in_named_anchor,allow_script_urls:t.allow_script_urls,allow_unsafe_link_target:t.allow_unsafe_link_target,convert_fonts_to_spans:t.convert_fonts_to_spans,fix_list_elements:t.fix_list_elements,font_size_legacy_values:t.font_size_legacy_values,forced_root_block:t.forced_root_block,forced_root_block_attrs:t.forced_root_block_attrs,padd_empty_with_br:t.padd_empty_with_br,preserve_cdata:t.preserve_cdata,remove_trailing_brs:t.remove_trailing_brs,inline_styles:t.inline_styles,root_name:Y3(e),validate:!0,blob_cache:n,document:e.getDoc(),images_dataimg_filter:t.images_dataimg_filter})},K3=function(e){var t=e.settings;return st(st(st({},Mw(e)),Bw(e)),rp({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope,element_format:t.element_format,entities:t.entities,entity_encoding:t.entity_encoding,indent:t.indent,indent_after:t.indent_after,indent_before:t.indent_before}))},q3=function(e){var t=Av(Mw(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",function(n,r){for(var a=n.length,i,s,u=e.dom,l="data-mce-"+r;a--;)if(i=n[a],s=i.attr(r),s&&!i.attr(l)){if(s.indexOf("data:")===0||s.indexOf("blob:")===0)continue;r==="style"?(s=u.serializeStyle(u.parseStyle(s),i.name),s.length||(s=null),i.attr(l,s),i.attr(r,s)):r==="tabindex"?(i.attr(l,s),i.attr(r,null)):i.attr(l,e.convertURL(s,r,i.name))}}),t.addNodeFilter("script",function(n){for(var r=n.length;r--;){var a=n[r],i=a.attr("type")||"no/type";i.indexOf("mce-")!==0&&a.attr("type","mce-"+i)}}),e.settings.preserve_cdata&&t.addNodeFilter("#cdata",function(n){for(var r=n.length;r--;){var a=n[r];a.type=8,a.name="#comment",a.value="[CDATA["+e.dom.encode(a.value)+"]]"}}),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(n){for(var r=n.length,a=e.schema.getNonEmptyElements();r--;){var i=n[r];i.isEmpty(a)&&i.getAll("br").length===0&&(i.append(new Br("br",1)).shortEnded=!0)}}),t},G3=function(e){e.settings.auto_focus&&In.setEditorTimeout(e,function(){var t;e.settings.auto_focus===!0?t=e:t=e.editorManager.get(e.settings.auto_focus),t.destroyed||t.focus()},100)},X3=function(e){var t=e.dom.getRoot();!e.inline&&(!rl(e)||e.selection.getStart(!0)===t)&&Jn(t).each(function(n){var r=n.getNode(),a=ro(r)?Jn(r).getOr(n):n;pt.browser.isIE()?BA(e,a.toRange()):e.selection.setRng(a.toRange())})},J3=function(e){e.bindPendingEventDelegates(),e.initialized=!0,PT(e),e.focus(!0),X3(e),e.nodeChanged({initial:!0}),e.execCallback("init_instance_callback",e),G3(e)},$w=function(e){return e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader},Q3=function(e,t,n){var r=[new Rn(function(a,i){return $w(e).loadAll(t,a,i)})];return e.inline?r:r.concat([new Rn(function(a,i){return e.ui.styleSheetLoader.loadAll(n,a,i)})])},Fw=function(e){var t=$w(e),n=Dm(e),r=e.contentCSS,a=function(){t.unloadAll(r),e.inline||e.ui.styleSheetLoader.unloadAll(n)},i=function(){e.removed?a():e.on("remove",a)};if(e.contentStyles.length>0){var s="";he.each(e.contentStyles,function(l){s+=l+`\r
`}),e.dom.addStyle(s)}var u=Rn.all(Q3(e,r,n)).then(i).catch(i);return e.settings.content_style&&W3(e,e.settings.content_style),u},Z3=function(e){var t=e.settings,n=e.getDoc(),r=e.getBody();AT(e),!t.browser_spellcheck&&!t.gecko_spellcheck&&(n.body.spellcheck=!1,np.setAttrib(r,"spellcheck","false")),e.quirks=z3(e),NT(e);var a=Hk(e);a!==void 0&&(r.dir=a),t.protect&&e.on("BeforeSetContent",function(i){he.each(t.protect,function(s){i.content=i.content.replace(s,function(u){return"<!--mce:protected "+escape(u)+"-->"})})}),e.on("SetContent",function(){e.addVisual(e.getBody())}),e.on("compositionstart compositionend",function(i){e.composing=i.type==="compositionstart"})},e5=function(e){Ia(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},ap=function(e){e.removed!==!0&&(e5(e),J3(e))},ip=function(e,t){var n=e.settings,r=e.getElement(),a=e.getDoc();n.inline||(e.getElement().style.visibility=e.orgVisibility),!t&&!e.inline&&(a.open(),a.write(e.iframeHTML),a.close()),e.inline&&(np.addClass(r,"mce-content-body"),e.contentDocument=a=document,e.contentWindow=window,e.bodyElement=r,e.contentAreaContainer=r);var i=e.getBody();i.disabled=!0,e.readonly=!!n.readonly,e.readonly||(e.inline&&np.getStyle(i,"position",!0)==="static"&&(i.style.position="relative"),i.contentEditable=e.getParam("content_editable_state",!0)),i.disabled=!1,e.editorUpload=q$(e),e.schema=qa(Bw(e)),e.dom=zt(a,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,hex_colors:n.force_hex_style_colors,update_styles:!0,root_element:e.inline?e.getBody():null,collect:function(){return e.inline},schema:e.schema,contentCssCors:Fk(e),referrerPolicy:Em(e),onSetAttrib:function(l){e.fire("SetAttrib",l)}}),e.parser=q3(e),e.serializer=OC(K3(e),e),e.selection=CC(e.dom,e.getWin(),e.serializer,e),e.annotator=hb(e),e.formatter=zC(e),e.undoManager=YC(e),e._nodeChangeDispatcher=new c3(e),e._selectionOverrides=j3(e),p_(e),p3(e),Ia(e)||g3(e);var s=f3(e);c_(e,s),y_(e),sF(e);var u=DB(e);Z3(e),u.fold(function(){Fw(e).then(function(){return ap(e)})},function(l){e.setProgressState(!0),Fw(e).then(function(){l().then(function(v){e.setProgressState(!1),ap(e)},function(v){e.notificationManager.open({type:"error",text:String(v)}),ap(e)})})})},Hs=zt.DOM,t5=function(e,t){if(document.domain!==window.location.hostname&&pt.browser.isIE()){var n=VC("mce");e[n]=function(){ip(e)};var r='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);document.close();ed.'+n+"(true);})()";return Hs.setAttrib(t,"src",r),!0}return!1},n5=function(e,t,n,r){var a=Z.fromTag("iframe");return Ha(a,r),Ha(a,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),Uu(a,"tox-edit-area__iframe"),a},r5=function(e){var t=bk(e)+"<html><head>";yk(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';var n=Ck(e),r=wk(e),a=e.translate(pO(e));return ym(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+ym(e)+'" />'),t+="</head>"+('<body id="'+n+'" class="mce-content-body '+r+'" data-id="'+e.id+'" aria-label="'+a+'">')+"<br></body></html>",t},a5=function(e,t){var n=e.translate("Rich Text Area"),r=n5(e.id,n,t.height,mk(e)).dom;r.onload=function(){r.onload=null,e.fire("load")};var a=t5(e,r);return e.contentAreaContainer=t.iframeContainer,e.iframeElement=r,e.iframeHTML=r5(e),Hs.add(t.iframeContainer,r),a},i5=function(e,t){var n=a5(e,t);t.editorContainer&&(Hs.get(t.editorContainer).style.display=e.orgDisplay,e.hidden=Hs.isHidden(t.editorContainer)),e.getElement().style.display="none",Hs.setAttrib(e.id,"aria-hidden","true"),n||ip(e)},Lw=zt.DOM,_w=function(e,t,n){var r=Jr.get(n),a=Jr.urls[n]||e.documentBaseUrl.replace(/\/$/,"");if(n=he.trim(n),r&&he.inArray(t,n)===-1){if(he.each(Jr.dependencies(n),function(s){_w(e,t,s)}),e.plugins[n])return;try{var i=new r(e,a,e.$);e.plugins[n]=i,i.init&&(i.init(e,a),t.push(n))}catch(s){F$(e,n,s)}}},Vw=function(e){return e.replace(/^\-/,"")},o5=function(e){var t=[];he.each(Kc(e).split(/[ ,]/),function(n){_w(e,t,Vw(n))})},s5=function(e){var t=he.trim(wm(e)),n=e.ui.registry.getAll().icons,r=st(st({},Tl.get("default").icons),Tl.get(t).icons);Ut(r,function(a,i){$e(n,i)||e.ui.registry.addIcon(i,a)})},u5=function(e){var t=ys(e);if(ce(t)){e.settings.theme=Vw(t);var n=li.get(t);e.theme=new n(e,li.urls[t]),e.theme.init&&e.theme.init(e,li.urls[t]||e.documentBaseUrl.replace(/\/$/,""),e.$)}else e.theme={}},l5=function(e){return e.theme.renderUI()},f5=function(e){var t=e.getElement(),n=ys(e),r=n(e,t);return r.editorContainer.nodeType&&(r.editorContainer.id=r.editorContainer.id||e.id+"_parent"),r.iframeContainer&&r.iframeContainer.nodeType&&(r.iframeContainer.id=r.iframeContainer.id||e.id+"_iframecontainer"),r.height=r.iframeHeight?r.iframeHeight:t.offsetHeight,r},Hw=function(e){return{editorContainer:e,iframeContainer:e,api:{}}},c5=function(e){var t=Lw.create("div");return Lw.insertAfter(t,e),Hw(t)},d5=function(e){var t=e.getElement();return e.inline?Hw(null):c5(t)},v5=function(e){var t=e.getElement();return e.orgDisplay=t.style.display,ce(ys(e))?l5(e):ge(ys(e))?f5(e):d5(e)},p5=function(e,t){var n={show:S.from(t.show).getOr(pe),hide:S.from(t.hide).getOr(pe),disable:S.from(t.disable).getOr(pe),isDisabled:S.from(t.isDisabled).getOr(N),enable:function(){e.mode.isReadOnly()||S.from(t.enable).map(J)}};e.ui=st(st({},e.ui),n)},Uw=function(e){e.fire("ScriptsLoaded"),s5(e),u5(e),o5(e);var t=v5(e);p5(e,S.from(t.api).getOr({}));var n={editorContainer:t.editorContainer,iframeContainer:t.iframeContainer};return e.editorContainer=n.editorContainer?n.editorContainer:null,H$(e),e.inline?ip(e):i5(e,n)},Hi=zt.DOM,jw=function(e){return e.charAt(0)==="-"},h5=function(e,t){var n=Sm(t),r=Lk(t);if(Kr.hasCode(n)===!1&&n!=="en"){var a=r!==""?r:t.editorManager.baseURL+"/langs/"+n+".js";e.add(a,pe,void 0,function(){$$(t,a,n)})}},g5=function(e,t,n,r){var a=ys(t);if(ce(a)){if(!jw(a)&&!$e(li.urls,a)){var i=Jk(t);i?li.load(a,t.documentBaseURI.toAbsolute(i)):li.load(a,"themes/"+a+"/theme"+n+".js")}e.loadQueue(function(){li.waitFor(a,r)})}else r()},m5=function(e){return S.from(Rk(e)).filter(function(t){return t.length>0}).map(function(t){return{url:t,name:S.none()}})},zw=function(e,t,n){return S.from(t).filter(function(r){return r.length>0&&!Tl.has(r)}).map(function(r){return{url:e.editorManager.baseURL+"/icons/"+r+"/icons"+n+".js",name:S.some(r)}})},b5=function(e,t,n){var r=zw(t,"default",n),a=m5(t).orThunk(function(){return zw(t,wm(t),"")});_e(nS([r,a]),function(i){e.add(i.url,pe,void 0,function(){M$(t,i.url,i.name.getOrUndefined())})})},y5=function(e,t){he.each(lO(e),function(n,r){Jr.load(r,n,pe,void 0,function(){Bv(e,n,r)}),e.settings.plugins+=" "+r}),he.each(Kc(e).split(/[ ,]/),function(n){if(n=he.trim(n),n&&!Jr.urls[n])if(jw(n)){n=n.substr(1,n.length);var r=Jr.dependencies(n);he.each(r,function(i){var s={prefix:"plugins/",resource:i,suffix:"/plugin"+t+".js"},u=Jr.createUrl(s,i);Jr.load(u.resource,u,pe,void 0,function(){Bv(e,u.prefix+u.resource+u.suffix,u.resource)})})}else{var a={prefix:"plugins/",resource:n,suffix:"/plugin"+t+".js"};Jr.load(n,a,pe,void 0,function(){Bv(e,a.prefix+a.resource+a.suffix,n)})}})},C5=function(e,t){var n=Na.ScriptLoader;g5(n,e,t,function(){h5(n,e),b5(n,e,t),y5(e,t),n.loadQueue(function(){e.removed||Uw(e)},e,function(){e.removed||Uw(e)})})},w5=function(e,t){return Qh.forElement(e,{contentCssCors:uO(t),referrerPolicy:Em(t)})},E5=function(e){var t=e.id;Kr.setCode(Sm(e));var n=function(){Hi.unbind(window,"ready",n),e.render()};if(!vo.Event.domLoaded){Hi.bind(window,"ready",n);return}if(e.getElement()&&pt.contentEditable){var r=Z.fromDom(e.getElement()),a=oS(r);e.on("remove",function(){en(r.dom.attributes,function(s){return Ua(r,s.name)}),Ha(r,a)}),e.ui.styleSheetLoader=w5(r,e),Qk(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");var i=e.getElement().form||Hi.getParent(t,"form");i&&(e.formElement=i,Zk(e)&&!qf(e.getElement())&&(Hi.insertAfter(Hi.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=function(s){e.fire(s.type,s)},Hi.bind(i,"submit reset",e.formEventDelegate),e.on("reset",function(){e.resetContent()}),eO(e)&&!i.submit.nodeType&&!i.submit.length&&!i._mceOldSubmit&&(i._mceOldSubmit=i.submit,i.submit=function(){return e.editorManager.triggerSave(),e.setDirty(!1),i._mceOldSubmit(i)})),e.windowManager=$C(e),e.notificationManager=MC(e),tO(e)&&e.on("GetContent",function(s){s.save&&(s.content=Hi.encode(s.content))}),nO(e)&&e.on("submit",function(){e.initialized&&e.save()}),rO(e)&&(e._beforeUnload=function(){e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),C5(e,e.suffix)}},S5=function(e,t){return XB(e,t)},x5={"font-size":"size","font-family":"face"},D5=function(e,t,n){var r=function(i){return Jf(i,e).orThunk(function(){return yn(i)==="font"?Ve(x5,e).bind(function(s){return Lh(i,s)}):S.none()})},a=function(i){return Yt(Z.fromDom(t),i)};return av(Z.fromDom(n),function(i){return r(i)},a)},k5=function(e){return e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},O5=function(e,t){return S.from(zt.DOM.getStyle(t,e,!0))},Ww=function(e){return function(t,n){return S.from(n).map(Z.fromDom).filter(Ur).bind(function(r){return D5(e,t,r.dom).or(O5(e,r.dom))}).getOr("")}},T5=Ww("font-size"),A5=Ke(k5,Ww("font-family")),N5=function(e){return Jn(e.getBody()).map(function(t){var n=t.container();return Ge(n)?n.parentNode:n})},P5=function(e){return S.from(e.selection.getRng()).bind(function(t){var n=e.getBody(),r=t.startContainer===n&&t.startOffset===0;return r?S.none():S.from(e.selection.getStart(!0))})},R5=function(e,t){return P5(e).orThunk(h(N5,e)).map(Z.fromDom).filter(Ur).bind(t)},op=function(e,t){return R5(e,ye(S.some,t))},Yw=function(e,t){if(/^[0-9.]+$/.test(t)){var n=parseInt(t,10);if(n>=1&&n<=7){var r=Ok(e),a=Tk(e);return a?a[n-1]||t:r[n-1]||t}else return t}else return t},I5=function(e){var t=e.split(/\s*,\s*/);return xt(t,function(n){return n.indexOf(" ")!==-1&&!(yi(n,'"')||yi(n,"'"))?"'"+n+"'":n}).join(",")},B5=function(e,t){var n=Yw(e,t);e.formatter.toggle("fontname",{value:I5(n)}),e.nodeChanged()},M5=function(e){return op(e,function(t){return A5(e.getBody(),t.dom)}).getOr("")},$5=function(e,t){e.formatter.toggle("fontsize",{value:Yw(e,t)}),e.nodeChanged()},F5=function(e){return op(e,function(t){return T5(e.getBody(),t.dom)}).getOr("")},L5=function(e){return op(e,function(t){var n=Z.fromDom(e.getBody()),r=av(t,function(i){return Jf(i,"line-height")},h(Yt,n)),a=function(){var i=parseFloat(Ta(t,"line-height")),s=parseFloat(Ta(t,"font-size"));return String(i/s)};return r.getOrThunk(a)}).getOr("")},_5=function(e,t){e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()},V5=function(e){if(typeof e!="string"){var t=he.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}},H5=function(e,t){var n=V5(t);qB(e,n.content,n.details)},Zl=he.each,U5=he.map,j5=he.inArray,Kw=function(){function e(t){this.commands={state:{},exec:{},value:{}},this.editor=t,this.setupCommands(t)}return e.prototype.execCommand=function(t,n,r,a){var i,s=!1,u=this;if(!u.editor.removed){if(t.toLowerCase()!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(t)&&(!a||!a.skip_focus)?u.editor.focus():MA(u.editor)),a=u.editor.fire("BeforeExecCommand",{command:t,ui:n,value:r}),a.isDefaultPrevented())return!1;var l=t.toLowerCase();if(i=u.commands.exec[l])return i(l,n,r),u.editor.fire("ExecCommand",{command:t,ui:n,value:r}),!0;if(Zl(this.editor.plugins,function(v){if(v.execCommand&&v.execCommand(t,n,r))return u.editor.fire("ExecCommand",{command:t,ui:n,value:r}),s=!0,!1}),s)return s;if(u.editor.theme&&u.editor.theme.execCommand&&u.editor.theme.execCommand(t,n,r))return u.editor.fire("ExecCommand",{command:t,ui:n,value:r}),!0;try{s=u.editor.getDoc().execCommand(t,n,r)}catch{}return s?(u.editor.fire("ExecCommand",{command:t,ui:n,value:r}),!0):!1}},e.prototype.queryCommandState=function(t){var n;if(!(this.editor.quirks.isHidden()||this.editor.removed)){if(t=t.toLowerCase(),n=this.commands.state[t])return n(t);try{return this.editor.getDoc().queryCommandState(t)}catch{}return!1}},e.prototype.queryCommandValue=function(t){var n;if(!(this.editor.quirks.isHidden()||this.editor.removed)){if(t=t.toLowerCase(),n=this.commands.value[t])return n(t);try{return this.editor.getDoc().queryCommandValue(t)}catch{}}},e.prototype.addCommands=function(t,n){n===void 0&&(n="exec");var r=this;Zl(t,function(a,i){Zl(i.toLowerCase().split(","),function(s){r.commands[n][s]=a})})},e.prototype.addCommand=function(t,n,r){var a=this;t=t.toLowerCase(),this.commands.exec[t]=function(i,s,u,l){return n.call(r||a.editor,s,u,l)}},e.prototype.queryCommandSupported=function(t){if(t=t.toLowerCase(),this.commands.exec[t])return!0;try{return this.editor.getDoc().queryCommandSupported(t)}catch{}return!1},e.prototype.addQueryStateHandler=function(t,n,r){var a=this;t=t.toLowerCase(),this.commands.state[t]=function(){return n.call(r||a.editor)}},e.prototype.addQueryValueHandler=function(t,n,r){var a=this;t=t.toLowerCase(),this.commands.value[t]=function(){return n.call(r||a.editor)}},e.prototype.hasCustomCommand=function(t){return t=t.toLowerCase(),!!this.commands.exec[t]},e.prototype.execNativeCommand=function(t,n,r){return n===void 0&&(n=!1),r===void 0&&(r=null),this.editor.getDoc().execCommand(t,n,r)},e.prototype.isFormatMatch=function(t){return this.editor.formatter.match(t)},e.prototype.toggleFormat=function(t,n){this.editor.formatter.toggle(t,n),this.editor.nodeChanged()},e.prototype.storeSelection=function(t){this.selectionBookmark=this.editor.selection.getBookmark(t)},e.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},e.prototype.setupCommands=function(t){var n=this;this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":pe,"mceEndUndoLevel,mceAddUndoLevel":function(){t.undoManager.add()},mceFocus:function(a,i,s){aN(t,s)},"Cut,Copy,Paste":function(a){var i=t.getDoc(),s;try{n.execNativeCommand(a)}catch{s=!0}if(a==="paste"&&!i.queryCommandEnabled(a)&&(s=!0),s||!i.queryCommandSupported(a)){var u=t.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");pt.mac&&(u=u.replace(/Ctrl\+/g,"⌘+")),t.notificationManager.open({text:u,type:"error"})}},unlink:function(){if(t.selection.isCollapsed()){var a=t.dom.getParent(t.selection.getStart(),"a");a&&t.dom.remove(a,!0);return}t.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(a){var i=a.substring(7);i==="full"&&(i="justify"),Zl("left,center,right,justify".split(","),function(s){i!==s&&t.formatter.remove("align"+s)}),i!=="none"&&n.toggleFormat("align"+i)},"InsertUnorderedList,InsertOrderedList":function(a){var i;n.execNativeCommand(a);var s=t.dom.getParent(t.selection.getNode(),"ol,ul");s&&(i=s.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(i.nodeName)&&(n.storeSelection(),t.dom.split(i,s),n.restoreSelection()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(a){n.toggleFormat(a)},"ForeColor,HiliteColor":function(a,i,s){n.toggleFormat(a,{value:s})},FontName:function(a,i,s){B5(t,s)},FontSize:function(a,i,s){$5(t,s)},LineHeight:function(a,i,s){_5(t,s)},Lang:function(a,i,s){n.toggleFormat(a,{value:s.code,customValue:s.customCode})},RemoveFormat:function(a){t.formatter.remove(a)},mceBlockQuote:function(){n.toggleFormat("blockquote")},FormatBlock:function(a,i,s){return n.toggleFormat(s||"p")},mceCleanup:function(){var a=t.selection.getBookmark();t.setContent(t.getContent()),t.selection.moveToBookmark(a)},mceRemoveNode:function(a,i,s){var u=s||t.selection.getNode();u!==t.getBody()&&(n.storeSelection(),t.dom.remove(u,!0),n.restoreSelection())},mceSelectNodeDepth:function(a,i,s){var u=0;t.dom.getParent(t.selection.getNode(),function(l){if(l.nodeType===1&&u++===s)return t.selection.select(l),!1},t.getBody())},mceSelectNode:function(a,i,s){t.selection.select(s)},mceInsertContent:function(a,i,s){H5(t,s)},mceInsertRawHTML:function(a,i,s){t.selection.setContent("tiny_mce_marker");var u=t.getContent();t.setContent(u.replace(/tiny_mce_marker/g,function(){return s}))},mceInsertNewLine:function(a,i,s){xw(t,s)},mceToggleFormat:function(a,i,s){n.toggleFormat(s)},mceSetContent:function(a,i,s){t.setContent(s)},"Indent,Outdent":function(a){j0(t,a)},mceRepaint:pe,InsertHorizontalRule:function(){t.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){t.hasVisual=!t.hasVisual,t.addVisual()},mceReplaceContent:function(a,i,s){t.execCommand("mceInsertContent",!1,s.replace(/\{\$selection\}/g,t.selection.getContent({format:"text"})))},mceInsertLink:function(a,i,s){typeof s=="string"&&(s={href:s});var u=t.dom.getParent(t.selection.getNode(),"a");s.href=s.href.replace(/ /g,"%20"),(!u||!s.href)&&t.formatter.remove("link"),s.href&&t.formatter.apply("link",s,u)},selectAll:function(){var a=t.dom.getParent(t.selection.getStart(),sa);if(a){var i=t.dom.createRng();i.selectNodeContents(a),t.selection.setRng(i)}},mceNewDocument:function(){t.setContent("")},InsertLineBreak:function(a,i,s){return yw(t,s),!0}});var r=function(a){return function(){var i=t.selection,s=i.isCollapsed()?[t.dom.getParent(i.getNode(),t.dom.isBlock)]:i.getSelectedBlocks(),u=U5(s,function(l){return!!t.formatter.matchNode(l,a)});return j5(u,!0)!==-1}};n.addCommands({JustifyLeft:r("alignleft"),JustifyCenter:r("aligncenter"),JustifyRight:r("alignright"),JustifyFull:r("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(a){return n.isFormatMatch(a)},mceBlockQuote:function(){return n.isFormatMatch("blockquote")},Outdent:function(){return V0(t)},"InsertUnorderedList,InsertOrderedList":function(a){var i=t.dom.getParent(t.selection.getNode(),"ul,ol");return i&&(a==="insertunorderedlist"&&i.tagName==="UL"||a==="insertorderedlist"&&i.tagName==="OL")}},"state"),n.addCommands({Undo:function(){t.undoManager.undo()},Redo:function(){t.undoManager.redo()}}),n.addQueryValueHandler("FontName",function(){return M5(t)},this),n.addQueryValueHandler("FontSize",function(){return F5(t)},this),n.addQueryValueHandler("LineHeight",function(){return L5(t)},this)},e}(),Ui="data-mce-contenteditable",z5=function(e,t,n){Lg(e,t)&&n===!1?ID(e,t):n&&Uu(e,t)},sp=function(e,t,n){try{e.getDoc().execCommand(t,!1,String(n))}catch{}},ef=function(e,t){e.dom.contentEditable=t?"true":"false"},W5=function(e){_e(rr(e,'*[contenteditable="true"]'),function(t){ua(t,Ui,"true"),ef(t,!1)})},Y5=function(e){_e(rr(e,"*["+Ui+'="true"]'),function(t){Ua(t,Ui),ef(t,!0)})},K5=function(e){S.from(e.selection.getNode()).each(function(t){t.removeAttribute("data-mce-selected")})},q5=function(e){e.selection.setRng(e.selection.getRng())},G5=function(e,t){var n=Z.fromDom(e.getBody());z5(n,"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),K5(e),e.readonly=!0,ef(n,!1),W5(n)):(e.readonly=!1,ef(n,!0),Y5(n),sp(e,"StyleWithCSS",!1),sp(e,"enableInlineTableEditing",!1),sp(e,"enableObjectResizing",!1),nN(e)&&e.focus(),q5(e),e.nodeChanged())},ji=function(e){return e.readonly},qw=function(e){e.parser.addAttributeFilter("contenteditable",function(t){ji(e)&&_e(t,function(n){n.attr(Ui,n.attr("contenteditable")),n.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(Ui,function(t){ji(e)&&_e(t,function(n){n.attr("contenteditable",n.attr(Ui))})}),e.serializer.addTempAttr(Ui)},X5=function(e){e.serializer?qw(e):e.on("PreInit",function(){qw(e)})},J5=function(e){return e.type==="click"},Q5=function(e,t){var n=function(r){return Yt(r,Z.fromDom(e.getBody()))};return ec(t,"a",n).bind(function(r){return Lh(r,"href")})},Z5=function(e,t){if(J5(t)&&!rt.metaKeyPressed(t)){var n=Z.fromDom(t.target);Q5(e,n).each(function(r){if(t.preventDefault(),/^#/.test(r)){var a=e.dom.select(r+',[name="'+eE(r,"#")+'"]');a.length&&e.selection.scrollIntoView(a[0],!0)}else window.open(r,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}},eV=function(e){e.on("ShowCaret",function(t){ji(e)&&t.preventDefault()}),e.on("ObjectSelected",function(t){ji(e)&&t.preventDefault()})},tV=he.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," "),up=function(){function e(t){this.bindings={},this.settings=t||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||N}return e.isNative=function(t){return!!tV[t.toLowerCase()]},e.prototype.fire=function(t,n){var r=t.toLowerCase(),a=vg(r,n||{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(a);var i=this.bindings[r];if(i)for(var s=0,u=i.length;s<u;s++){var l=i[s];if(!l.removed){if(l.once&&this.off(r,l.func),a.isImmediatePropagationStopped())return a;if(l.func.call(this.scope,a)===!1)return a.preventDefault(),a}}return a},e.prototype.on=function(t,n,r,a){if(n===!1&&(n=N),n){var i={func:n,removed:!1};a&&he.extend(i,a);for(var s=t.toLowerCase().split(" "),u=s.length;u--;){var l=s[u],v=this.bindings[l];v||(v=[],this.toggleEvent(l,!0)),r?v=Hr([i],v,!0):v=Hr(Hr([],v,!0),[i],!1),this.bindings[l]=v}}return this},e.prototype.off=function(t,n){var r=this;if(t)for(var a=t.toLowerCase().split(" "),i=a.length;i--;){var s=a[i],u=this.bindings[s];if(!s)return Ut(this.bindings,function(v,g){r.toggleEvent(g,!1),delete r.bindings[g]}),this;if(u){if(!n)u.length=0;else{var l=nn(u,function(v){return v.func===n});u=l.fail,this.bindings[s]=u,_e(l.pass,function(v){v.removed=!0})}u.length||(this.toggleEvent(t,!1),delete this.bindings[s])}}else Ut(this.bindings,function(v,g){r.toggleEvent(g,!1)}),this.bindings={};return this},e.prototype.once=function(t,n,r){return this.on(t,n,r,{once:!0})},e.prototype.has=function(t){return t=t.toLowerCase(),!(!this.bindings[t]||this.bindings[t].length===0)},e}(),Us=function(e){return e._eventDispatcher||(e._eventDispatcher=new up({scope:e,toggleEvent:function(t,n){up.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}})),e._eventDispatcher},tf={fire:function(e,t,n){var r=this;if(r.removed&&e!=="remove"&&e!=="detach")return t;var a=Us(r).fire(e,t);if(n!==!1&&r.parent)for(var i=r.parent();i&&!a.isPropagationStopped();)i.fire(e,a,!1),i=i.parent();return a},on:function(e,t,n){return Us(this).on(e,t,n)},off:function(e,t){return Us(this).off(e,t)},once:function(e,t){return Us(this).once(e,t)},hasEventListeners:function(e){return Us(this).has(e)}},nf=zt.DOM,zi,rf=function(e,t){if(t==="selectionchange")return e.getDoc();if(!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t))return e.getDoc().documentElement;var n=Om(e);return n?(e.eventRoot||(e.eventRoot=nf.select(n)[0]),e.eventRoot):e.getBody()},nV=function(e){return!e.hidden&&!ji(e)},Gw=function(e,t,n){nV(e)?e.fire(t,n):ji(e)&&Z5(e,n)},Xw=function(e,t){var n;if(e.delegates||(e.delegates={}),!(e.delegates[t]||e.removed)){var r=rf(e,t);if(Om(e)){if(zi||(zi={},e.editorManager.on("removeEditor",function(){e.editorManager.activeEditor||zi&&(Ut(zi,function(a,i){e.dom.unbind(rf(e,i))}),zi=null)})),zi[t])return;n=function(a){for(var i=a.target,s=e.editorManager.get(),u=s.length;u--;){var l=s[u].getBody();(l===i||nf.isChildOf(i,l))&&Gw(s[u],t,a)}},zi[t]=n,nf.bind(r,t,n)}else n=function(a){Gw(e,t,a)},nf.bind(r,t,n),e.delegates[t]=n}},Jw=st(st({},tf),{bindPendingEventDelegates:function(){var e=this;he.each(e._pendingNativeEvents,function(t){Xw(e,t)})},toggleNativeEvent:function(e,t){var n=this;e==="focus"||e==="blur"||n.removed||(t?n.initialized?Xw(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&(n.dom.unbind(rf(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents:function(){var e=this,t=e.getBody(),n=e.dom;e.delegates&&(Ut(e.delegates,function(r,a){e.dom.unbind(rf(e,a),a,r)}),delete e.delegates),!e.inline&&t&&n&&(t.onload=null,n.unbind(e.getWin()),n.unbind(e.getDoc())),n&&(n.unbind(t),n.unbind(e.getContainer()))}}),rV=["design","readonly"],Qw=function(e,t,n,r){var a=n[t.get()],i=n[r];try{i.activate()}catch(s){console.error("problem while activating editor mode "+r+":",s);return}a.deactivate(),a.editorReadOnly!==i.editorReadOnly&&G5(e,i.editorReadOnly),t.set(r),kT(e,r)},aV=function(e,t,n,r){if(r!==n.get()){if(!$e(t,r))throw new Error("Editor mode '"+r+"' is invalid");e.initialized?Qw(e,n,t,r):e.on("init",function(){return Qw(e,n,t,r)})}},iV=function(e,t,n){var r;if(qe(rV,t))throw new Error("Cannot override default mode "+t);return st(st({},e),(r={},r[t]=st(st({},n),{deactivate:function(){try{n.deactivate()}catch(a){console.error("problem while deactivating editor mode "+t+":",a)}}}),r))},oV=function(e){var t=Hn("design"),n=Hn({design:{activate:pe,deactivate:pe,editorReadOnly:!1},readonly:{activate:pe,deactivate:pe,editorReadOnly:!0}});return X5(e),eV(e),{isReadOnly:function(){return ji(e)},set:function(r){return aV(e,n.get(),t,r)},get:function(){return t.get()},register:function(r,a){n.set(iV(n.get(),r,a))}}},lp=he.each,fp=he.explode,sV={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},Zw=he.makeMap("alt,ctrl,shift,meta,access"),uV=function(e){var t,n={};lp(fp(e.toLowerCase(),"+"),function(a){a in Zw?n[a]=!0:/^[0-9]{2,}$/.test(a)?n.keyCode=parseInt(a,10):(n.charCode=a.charCodeAt(0),n.keyCode=sV[a]||a.toUpperCase().charCodeAt(0))});var r=[n.keyCode];for(t in Zw)n[t]?r.push(t):n[t]=!1;return n.id=r.join(","),n.access&&(n.alt=!0,pt.mac?n.ctrl=!0:n.shift=!0),n.meta&&(pt.mac?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n},e1=function(){function e(t){this.shortcuts={},this.pendingPatterns=[],this.editor=t;var n=this;t.on("keyup keypress keydown",function(r){(n.hasModifier(r)||n.isFunctionKey(r))&&!r.isDefaultPrevented()&&(lp(n.shortcuts,function(a){if(n.matchShortcut(r,a))return n.pendingPatterns=a.subpatterns.slice(0),r.type==="keydown"&&n.executeShortcutAction(a),!0}),n.matchShortcut(r,n.pendingPatterns[0])&&(n.pendingPatterns.length===1&&r.type==="keydown"&&n.executeShortcutAction(n.pendingPatterns[0]),n.pendingPatterns.shift()))})}return e.prototype.add=function(t,n,r,a){var i=this,s=i.normalizeCommandFunc(r);return lp(fp(he.trim(t)),function(u){var l=i.createShortcut(u,n,s,a);i.shortcuts[l.id]=l}),!0},e.prototype.remove=function(t){var n=this.createShortcut(t);return this.shortcuts[n.id]?(delete this.shortcuts[n.id],!0):!1},e.prototype.normalizeCommandFunc=function(t){var n=this,r=t;return typeof r=="string"?function(){n.editor.execCommand(r,!1,null)}:he.isArray(r)?function(){n.editor.execCommand(r[0],r[1],r[2])}:r},e.prototype.createShortcut=function(t,n,r,a){var i=he.map(fp(t,">"),uV);return i[i.length-1]=he.extend(i[i.length-1],{func:r,scope:a||this.editor}),he.extend(i[0],{desc:this.editor.translate(n),subpatterns:i.slice(1)})},e.prototype.hasModifier=function(t){return t.altKey||t.ctrlKey||t.metaKey},e.prototype.isFunctionKey=function(t){return t.type==="keydown"&&t.keyCode>=112&&t.keyCode<=123},e.prototype.matchShortcut=function(t,n){return!n||n.ctrl!==t.ctrlKey||n.meta!==t.metaKey||n.alt!==t.altKey||n.shift!==t.shiftKey?!1:t.keyCode===n.keyCode||t.charCode&&t.charCode===n.charCode?(t.preventDefault(),!0):!1},e.prototype.executeShortcutAction=function(t){return t.func?t.func.call(t.scope):null},e}(),lV=function(){var e={},t={},n={},r={},a={},i={},s={},u=function(v,g){return function(m,C){return v[m.toLowerCase()]=st(st({},C),{type:g})}},l=function(v,g){return r[v.toLowerCase()]=g};return{addButton:u(e,"button"),addGroupToolbarButton:u(e,"grouptoolbarbutton"),addToggleButton:u(e,"togglebutton"),addMenuButton:u(e,"menubutton"),addSplitButton:u(e,"splitbutton"),addMenuItem:u(t,"menuitem"),addNestedMenuItem:u(t,"nestedmenuitem"),addToggleMenuItem:u(t,"togglemenuitem"),addAutocompleter:u(n,"autocompleter"),addContextMenu:u(a,"contextmenu"),addContextToolbar:u(i,"contexttoolbar"),addContextForm:u(i,"contextform"),addSidebar:u(s,"sidebar"),addIcon:l,getAll:function(){return{buttons:e,menuItems:t,icons:r,popups:n,contextMenus:a,contextToolbars:i,sidebars:s}}}},fV=function(){var e=lV();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,getAll:e.getAll}},Wi=zt.DOM,t1=he.extend,cV=he.each,n1=he.resolve,dV=pt.ie,af=function(){function e(t,n,r){var a=this;this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=r,this.documentBaseUrl=r.documentBaseURL,t1(this,Jw),this.settings=b$(this,t,this.documentBaseUrl,r.defaultSettings,n),this.settings.suffix&&(r.suffix=this.settings.suffix),this.suffix=r.suffix,this.settings.base_url&&r._setBaseUrl(this.settings.base_url),this.baseUri=r.baseURI,this.settings.referrer_policy&&(Na.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),zt.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)),ur.languageLoad=this.settings.language_load,ur.baseURL=r.baseURL,this.id=t,this.setDirty(!1),this.documentBaseURI=new ii(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=!!this.settings.inline,this.shortcuts=new e1(this),this.editorCommands=new Kw(this),this.settings.cache_suffix&&(pt.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,"")),this.ui={registry:fV(),styleSheetLoader:void 0,show:pe,hide:pe,enable:pe,disable:pe,isDisabled:N};var i=this,s=oV(i);this.mode=s,this.setMode=s.set,r.fire("SetupEditor",{editor:this}),this.execCallback("setup",this),this.$=dt.overrideDefaults(function(){return{context:a.inline?a.getBody():a.getDoc(),element:a.getBody()}})}return e.prototype.render=function(){E5(this)},e.prototype.focus=function(t){this.execCommand("mceFocus",!1,t)},e.prototype.hasFocus=function(){return Bi(this)},e.prototype.execCallback=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var a=this,i=a.settings[t],s;if(i)return a.callbackLookup&&(s=a.callbackLookup[t])&&(i=s.func,s=s.scope),typeof i=="string"&&(s=i.replace(/\.\w+$/,""),s=s?n1(s):0,i=n1(i),a.callbackLookup=a.callbackLookup||{},a.callbackLookup[t]={func:i,scope:s}),i.apply(s||a,n)},e.prototype.translate=function(t){return Kr.translate(t)},e.prototype.getParam=function(t,n,r){return w$(this,t,n,r)},e.prototype.hasPlugin=function(t,n){var r=qe(Kc(this).split(/[ ,]/),t);return r?n?Jr.get(t)!==void 0:!0:!1},e.prototype.nodeChanged=function(t){this._nodeChangeDispatcher.nodeChanged(t)},e.prototype.addCommand=function(t,n,r){this.editorCommands.addCommand(t,n,r)},e.prototype.addQueryStateHandler=function(t,n,r){this.editorCommands.addQueryStateHandler(t,n,r)},e.prototype.addQueryValueHandler=function(t,n,r){this.editorCommands.addQueryValueHandler(t,n,r)},e.prototype.addShortcut=function(t,n,r,a){this.shortcuts.add(t,n,r,a)},e.prototype.execCommand=function(t,n,r,a){return this.editorCommands.execCommand(t,n,r,a)},e.prototype.queryCommandState=function(t){return this.editorCommands.queryCommandState(t)},e.prototype.queryCommandValue=function(t){return this.editorCommands.queryCommandValue(t)},e.prototype.queryCommandSupported=function(t){return this.editorCommands.queryCommandSupported(t)},e.prototype.show=function(){var t=this;t.hidden&&(t.hidden=!1,t.inline?t.getBody().contentEditable="true":(Wi.show(t.getContainer()),Wi.hide(t.id)),t.load(),t.fire("show"))},e.prototype.hide=function(){var t=this,n=t.getDoc();t.hidden||(dV&&n&&!t.inline&&n.execCommand("SelectAll"),t.save(),t.inline?(t.getBody().contentEditable="false",t===t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(Wi.hide(t.getContainer()),Wi.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.fire("hide"))},e.prototype.isHidden=function(){return!!this.hidden},e.prototype.setProgressState=function(t,n){this.fire("ProgressState",{state:t,time:n})},e.prototype.load=function(t){var n=this,r=n.getElement(),a;if(n.removed)return"";if(r){t=t||{},t.load=!0;var i=qf(r)?r.value:r.innerHTML;return a=n.setContent(i,t),t.element=r,t.no_events||n.fire("LoadContent",t),t.element=r=null,a}},e.prototype.save=function(t){var n=this,r=n.getElement(),a,i;if(!(!r||!n.initialized||n.removed))return t=t||{},t.save=!0,t.element=r,a=t.content=n.getContent(t),t.no_events||n.fire("SaveContent",t),t.format==="raw"&&n.fire("RawSaveContent",t),a=t.content,qf(r)?r.value=a:((t.is_removing||!n.inline)&&(r.innerHTML=a),(i=Wi.getParent(n.id,"form"))&&cV(i.elements,function(s){if(s.name===n.id)return s.value=a,!1})),t.element=r=null,t.set_dirty!==!1&&n.setDirty(!1),a},e.prototype.setContent=function(t,n){return Nv(this,t,n)},e.prototype.getContent=function(t){return HM(this,t)},e.prototype.insertContent=function(t,n){n&&(t=t1({content:t},n)),this.execCommand("mceInsertContent",!1,t)},e.prototype.resetContent=function(t){t===void 0?Nv(this,this.startContent,{format:"raw"}):Nv(this,t),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},e.prototype.isDirty=function(){return!this.isNotDirty},e.prototype.setDirty=function(t){var n=!this.isNotDirty;this.isNotDirty=!t,t&&t!==n&&this.fire("dirty")},e.prototype.getContainer=function(){var t=this;return t.container||(t.container=Wi.get(t.editorContainer||t.id+"_parent")),t.container},e.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},e.prototype.getElement=function(){return this.targetElm||(this.targetElm=Wi.get(this.id)),this.targetElm},e.prototype.getWin=function(){var t=this,n;return t.contentWindow||(n=t.iframeElement,n&&(t.contentWindow=n.contentWindow)),t.contentWindow},e.prototype.getDoc=function(){var t=this,n;return t.contentDocument||(n=t.getWin(),n&&(t.contentDocument=n.document)),t.contentDocument},e.prototype.getBody=function(){var t=this.getDoc();return this.bodyElement||(t?t.body:null)},e.prototype.convertURL=function(t,n,r){var a=this,i=a.settings;return i.urlconverter_callback?a.execCallback("urlconverter_callback",t,r,!0,n):!i.convert_urls||r&&r.nodeName==="LINK"||t.indexOf("file:")===0||t.length===0?t:i.relative_urls?a.documentBaseURI.toRelative(t):(t=a.documentBaseURI.toAbsolute(t,i.remove_script_host),t)},e.prototype.addVisual=function(t){S5(this,t)},e.prototype.remove=function(){WM(this)},e.prototype.destroy=function(t){YM(this,t)},e.prototype.uploadImages=function(t){return this.editorUpload.uploadImages(t)},e.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},e.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")},e.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")},e.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")},e.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")},e}(),Mr=zt.DOM,vV=he.explode,Ea=he.each,pV=he.extend,hV=0,r1=!1,of,ci=[],Qn=[],gV=function(e){return e!=="length"},a1=function(e){var t=e.type;Ea(di.get(),function(n){switch(t){case"scroll":n.fire("ScrollWindow",e);break;case"resize":n.fire("ResizeWindow",e);break}})},i1=function(e){e!==r1&&(e?dt(window).on("resize scroll",a1):dt(window).off("resize scroll",a1),r1=e)},o1=function(e){var t=Qn;delete ci[e.id];for(var n=0;n<ci.length;n++)if(ci[n]===e){ci.splice(n,1);break}return Qn=it(Qn,function(r){return e!==r}),di.activeEditor===e&&(di.activeEditor=Qn.length>0?Qn[0]:null),di.focusedEditor===e&&(di.focusedEditor=null),t.length!==Qn.length},mV=function(e){return e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(o1(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0,e=null),e},bV=document.compatMode!=="CSS1Compat",di=st(st({},tf),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:dt,majorVersion:"5",minorVersion:"10.7",releaseDate:"2022-12-06",editors:ci,i18n:Kr,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var e=this,t,n,r="";n=ii.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(n)&&(n=n.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(n)||(n+="/"));var a=window.tinymce||window.tinyMCEPreInit;if(a)t=a.base||a.baseURL,r=a.suffix;else{for(var i=document.getElementsByTagName("script"),s=0;s<i.length;s++){var u=i[s].src||"";if(u!==""){var l=u.substring(u.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(u)){l.indexOf(".min")!==-1&&(r=".min"),t=u.substring(0,u.lastIndexOf("/"));break}}}if(!t&&document.currentScript){var u=document.currentScript.src;u.indexOf(".min")!==-1&&(r=".min"),t=u.substring(0,u.lastIndexOf("/"))}}e.baseURL=new ii(n).toAbsolute(t),e.documentBaseURL=n,e.baseURI=new ii(e.baseURL),e.suffix=r,qA(e)},overrideDefaults:function(e){var t=e.base_url;t&&this._setBaseUrl(t);var n=e.suffix;e.suffix&&(this.suffix=n),this.defaultSettings=e;var r=e.plugin_base_urls;r!==void 0&&Ut(r,function(a,i){ur.PluginManager.urls[i]=a})},init:function(e){var t=this,n,r=he.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),a=function(m,C){return m.inline&&C.tagName.toLowerCase()in r},i=function(m){var C=m.id;return C||(C=Ve(m,"name").filter(function(x){return!Mr.get(x)}).getOrThunk(Mr.uniqueId),m.setAttribute("id",C)),C},s=function(m){var C=e[m];if(C)return C.apply(t,[])},u=function(m,C){return C.constructor===RegExp?C.test(m.className):Mr.hasClass(m,C)},l=function(m){var C=[];if(pt.browser.isIE()&&pt.browser.version.major<11)return Nl("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(bV)return Nl("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[];if(m.types)return Ea(m.types,function(D){C=C.concat(Mr.select(D.selector))}),C;if(m.selector)return Mr.select(m.selector);if(m.target)return[m.target];switch(m.mode){case"exact":var x=m.elements||"";x.length>0&&Ea(vV(x),function(D){var k=Mr.get(D);k?C.push(k):Ea(document.forms,function(T){Ea(T.elements,function(F){F.name===D&&(D="mce_editor_"+hV++,Mr.setAttrib(F,"id",D),C.push(F))})})});break;case"textareas":case"specific_textareas":Ea(Mr.select("textarea"),function(D){m.editor_deselector&&u(D,m.editor_deselector)||(!m.editor_selector||u(D,m.editor_selector))&&C.push(D)});break}return C},v=function(m){n=m},g=function(){var m=0,C=[],x,D=function(k,T,F){var R=new af(k,T,t);C.push(R),R.on("init",function(){++m===x.length&&v(C)}),R.targetElm=R.targetElm||F,R.render()};if(Mr.unbind(window,"ready",g),s("onpageload"),x=dt.unique(l(e)),e.types){Ea(e.types,function(k){he.each(x,function(T){return Mr.is(T,k.selector)?(D(i(T),pV({},e,k),T),!1):!0})});return}he.each(x,function(k){mV(t.get(k.id))}),x=he.grep(x,function(k){return!t.get(k.id)}),x.length===0?v([]):Ea(x,function(k){a(e,k)?Nl("Could not initialize inline editor on invalid inline target element",k):D(i(k),e,k)})};return t.settings=e,Mr.bind(window,"ready",g),new Rn(function(m){n?m(n):v=function(C){m(C)}})},get:function(e){return arguments.length===0?Qn.slice(0):ce(e)?St(Qn,function(t){return t.id===e}).getOr(null):Ue(e)&&Qn[e]?Qn[e]:null},add:function(e){var t=this,n=ci[e.id];return n===e||(t.get(e.id)===null&&(gV(e.id)&&(ci[e.id]=e),ci.push(e),Qn.push(e)),i1(!0),t.activeEditor=e,t.fire("AddEditor",{editor:e}),of||(of=function(r){var a=t.fire("BeforeUnload");if(a.returnValue)return r.preventDefault(),r.returnValue=a.returnValue,a.returnValue},window.addEventListener("beforeunload",of))),e},createEditor:function(e,t){return this.add(new af(e,t,this))},remove:function(e){var t=this,n,r;if(!e){for(n=Qn.length-1;n>=0;n--)t.remove(Qn[n]);return}if(ce(e)){Ea(Mr.select(e),function(a){r=t.get(a.id),r&&t.remove(r)});return}return r=e,de(t.get(r.id))?null:(o1(r)&&t.fire("RemoveEditor",{editor:r}),Qn.length===0&&window.removeEventListener("beforeunload",of),r.remove(),i1(Qn.length>0),r)},execCommand:function(e,t,n){var r=this,a=r.get(n);switch(e){case"mceAddEditor":return r.get(n)||new af(n,r.settings,r).render(),!0;case"mceRemoveEditor":return a&&a.remove(),!0;case"mceToggleEditor":return a?(a.isHidden()?a.show():a.hide(),!0):(r.execCommand("mceAddEditor",!1,n),!0)}return r.activeEditor?r.activeEditor.execCommand(e,t,n):!1},triggerSave:function(){Ea(Qn,function(e){e.save()})},addI18n:function(e,t){Kr.add(e,t)},translate:function(e){return Kr.translate(e)},setActive:function(e){var t=this.activeEditor;this.activeEditor!==e&&(t&&t.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl:function(e){this.baseURL=new ii(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new ii(this.baseURL)}});di.setup();var s1=Math.min,Uo=Math.max,sf=Math.round,u1=function(e,t,n){var r=t.x,a=t.y,i=e.w,s=e.h,u=t.w,l=t.h,v=(n||"").split("");return v[0]==="b"&&(a+=l),v[1]==="r"&&(r+=u),v[0]==="c"&&(a+=sf(l/2)),v[1]==="c"&&(r+=sf(u/2)),v[3]==="b"&&(a-=s),v[4]==="r"&&(r-=i),v[3]==="c"&&(a-=sf(s/2)),v[4]==="c"&&(r-=sf(i/2)),jo(r,a,i,s)},yV=function(e,t,n,r){var a,i;for(i=0;i<r.length;i++)if(a=u1(e,t,r[i]),a.x>=n.x&&a.x+a.w<=n.w+n.x&&a.y>=n.y&&a.y+a.h<=n.h+n.y)return r[i];return null},CV=function(e,t,n){return jo(e.x-t,e.y-n,e.w+t*2,e.h+n*2)},wV=function(e,t){var n=Uo(e.x,t.x),r=Uo(e.y,t.y),a=s1(e.x+e.w,t.x+t.w),i=s1(e.y+e.h,t.y+t.h);return a-n<0||i-r<0?null:jo(n,r,a-n,i-r)},EV=function(e,t,n){var r=e.x,a=e.y,i=e.x+e.w,s=e.y+e.h,u=t.x+t.w,l=t.y+t.h,v=Uo(0,t.x-r),g=Uo(0,t.y-a),m=Uo(0,i-u),C=Uo(0,s-l);return r+=v,a+=g,n&&(i+=v,s+=g,r-=m,a-=C),i-=m,s-=C,jo(r,a,i-r,s-a)},jo=function(e,t,n,r){return{x:e,y:t,w:n,h:r}},SV=function(e){return jo(e.left,e.top,e.width,e.height)},xV={inflate:CV,relativePosition:u1,findBestRelativePosition:yV,intersect:wV,clamp:EV,create:jo,fromClientRect:SV},DV=function(e,t,n){n===void 0&&(n=1e3);var r=!1,a=null,i=function(v){return function(){for(var g=[],m=0;m<arguments.length;m++)g[m]=arguments[m];r||(r=!0,a!==null&&(clearTimeout(a),a=null),v.apply(null,g))}},s=i(e),u=i(t),l=function(){for(var v=[],g=0;g<arguments.length;g++)v[g]=arguments[g];!r&&a===null&&(a=setTimeout(function(){return u.apply(null,v)},n))};return{start:l,resolve:s,reject:u}},kV=function(){var e={},t={},n=function(a,i){var s='Script at URL "'+i+'" failed to load',u='Script at URL "'+i+"\" did not call `tinymce.Resource.add('"+a+"', data)` within 1 second";if(e[a]!==void 0)return e[a];var l=new Rn(function(v,g){var m=DV(v,g);t[a]=m.resolve,Na.ScriptLoader.loadScript(i,function(){return m.start(u)},function(){return m.reject(s)})});return e[a]=l,l},r=function(a,i){t[a]!==void 0&&(t[a](i),delete t[a]),e[a]=Rn.resolve(i)};return{load:n,add:r}},OV=kV(),uf=he.each,TV=he.extend,l1,cp,f1=function(){};f1.extend=l1=function(e){var t=this,n=t.prototype,r=function(){var u,l,v,g=this;if(!cp&&(g.init&&g.init.apply(g,arguments),l=g.Mixins,l))for(u=l.length;u--;)v=l[u],v.init&&v.init.apply(g,arguments)},a=function(){return this},i=function(u,l){return function(){var v=this,g=v._super;v._super=n[u];var m=l.apply(v,arguments);return v._super=g,m}};cp=!0;var s=new t;return cp=!1,e.Mixins&&(uf(e.Mixins,function(u){for(var l in u)l!=="init"&&(e[l]=u[l])}),n.Mixins&&(e.Mixins=n.Mixins.concat(e.Mixins))),e.Methods&&uf(e.Methods.split(","),function(u){e[u]=a}),e.Properties&&uf(e.Properties.split(","),function(u){var l="_"+u;e[u]=function(v){var g=this;return v!==void 0?(g[l]=v,g):g[l]}}),e.Statics&&uf(e.Statics,function(u,l){r[l]=u}),e.Defaults&&n.Defaults&&(e.Defaults=TV({},n.Defaults,e.Defaults)),Ut(e,function(u,l){typeof u=="function"&&n[l]?s[l]=i(l,u):s[l]=u}),r.prototype=s,r.constructor=r,r.extend=l1,r};var lf=Math.min,ff=Math.max,Yi=Math.round,AV=function(e){var t={},n=0,r=0,a=0,i=function(m,C,x){var D,k,T;D=0,k=0,T=0,m=m/255,C=C/255,x=x/255;var F=lf(m,lf(C,x)),R=ff(m,ff(C,x));if(F===R)return T=F,{h:0,s:0,v:T*100};var G=m===F?C-x:x===F?m-C:x-m;return D=m===F?3:x===F?1:5,D=60*(D-G/(R-F)),k=(R-F)/R,T=R,{h:Yi(D),s:Yi(k*100),v:Yi(T*100)}},s=function(m,C,x){if(m=(parseInt(m,10)||0)%360,C=parseInt(C,10)/100,x=parseInt(x,10)/100,C=ff(0,lf(C,1)),x=ff(0,lf(x,1)),C===0){n=r=a=Yi(255*x);return}var D=m/60,k=x*C,T=k*(1-Math.abs(D%2-1)),F=x-k;switch(Math.floor(D)){case 0:n=k,r=T,a=0;break;case 1:n=T,r=k,a=0;break;case 2:n=0,r=k,a=T;break;case 3:n=0,r=T,a=k;break;case 4:n=T,r=0,a=k;break;case 5:n=k,r=0,a=T;break;default:n=r=a=0}n=Yi(255*(n+F)),r=Yi(255*(r+F)),a=Yi(255*(a+F))},u=function(){var m=function(C){return C=parseInt(C,10).toString(16),C.length>1?C:"0"+C};return"#"+m(n)+m(r)+m(a)},l=function(){return{r:n,g:r,b:a}},v=function(){return i(n,r,a)},g=function(m){var C;return typeof m=="object"?"r"in m?(n=m.r,r=m.g,a=m.b):"v"in m&&s(m.h,m.s,m.v):(C=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(m))?(n=parseInt(C[1],10),r=parseInt(C[2],10),a=parseInt(C[3],10)):(C=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(m))?(n=parseInt(C[1],16),r=parseInt(C[2],16),a=parseInt(C[3],16)):(C=/#([0-F])([0-F])([0-F])/gi.exec(m))&&(n=parseInt(C[1]+C[1],16),r=parseInt(C[2]+C[2],16),a=parseInt(C[3]+C[3],16)),n=n<0?0:n>255?255:n,r=r<0?0:r>255?255:r,a=a<0?0:a>255?255:a,t};return e&&g(e),t.toRgb=l,t.toHsv=v,t.toHex=u,t.parse=g,t},NV=function(e){var t=JSON.stringify(e);return ce(t)?t.replace(/[\u0080-\uFFFF]/g,function(n){var r=n.charCodeAt(0).toString(16);return"\\u"+"0000".substring(r.length)+r}):t},dp={serialize:NV,parse:function(e){try{return JSON.parse(e)}catch{}}},PV={callbacks:{},count:0,send:function(e){var t=this,n=zt.DOM,r=e.count!==void 0?e.count:t.count,a="tinymce_jsonp_"+r;t.callbacks[r]=function(i){n.remove(a),delete t.callbacks[r],e.callback(i)},n.add(n.doc.body,"script",{id:a,src:e.url,type:"text/javascript"}),t.count++}},cf=st(st({},tf),{send:function(e){var t,n=0,r=function(){!e.async||t.readyState===4||n++>1e4?(e.success&&n<1e4&&t.status===200?e.success.call(e.success_scope,""+t.responseText,t,e):e.error&&e.error.call(e.error_scope,n>1e4?"TIMED_OUT":"GENERAL",t,e),t=null):In.setTimeout(r,10)};if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=e.async!==!1,e.data=e.data||"",cf.fire("beforeInitialize",{settings:e}),t=new XMLHttpRequest,t.overrideMimeType&&t.overrideMimeType(e.content_type),t.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(t.withCredentials=!0),e.content_type&&t.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&he.each(e.requestheaders,function(a){t.setRequestHeader(a.key,a.value)}),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t=cf.fire("beforeSend",{xhr:t,settings:e}).xhr,t.send(e.data),!e.async)return r();In.setTimeout(r,10)}}),c1=he.extend,RV=function(){function e(t){this.settings=c1({},t),this.count=0}return e.sendRPC=function(t){return new e().send(t)},e.prototype.send=function(t){var n=t.error,r=t.success,a=c1(this.settings,t);a.success=function(i,s){i=dp.parse(i),typeof i>"u"&&(i={error:"JSON Parse error."}),i.error?n.call(a.error_scope||a.scope,i.error,s):r.call(a.success_scope||a.scope,i.result)},a.error=function(i,s){n&&n.call(a.error_scope||a.scope,i,s)},a.data=dp.serialize({id:t.id||"c"+this.count++,method:t.method,params:t.params}),a.content_type="application/json",cf.send(a)},e}(),IV=function(){return function(){var e={},t=[],n={getItem:function(r){var a=e[r];return a||null},setItem:function(r,a){t.push(r),e[r]=String(a)},key:function(r){return t[r]},removeItem:function(r){t=t.filter(function(a){return a===r}),delete e[r]},clear:function(){t=[],e={}},length:0};return Object.defineProperty(n,"length",{get:function(){return t.length},configurable:!1,enumerable:!1}),n}()},js;try{var vp="__storage_test__";js=window.localStorage,js.setItem(vp,vp),js.removeItem(vp)}catch{js=IV()}var BV=js,MV={geom:{Rect:xV},util:{Promise:Rn,Delay:In,Tools:he,VK:rt,URI:ii,Class:f1,EventDispatcher:up,Observable:tf,I18n:Kr,XHR:cf,JSON:dp,JSONRequest:RV,JSONP:PV,LocalStorage:BV,Color:AV,ImageUploader:Y$},dom:{EventUtils:vo,Sizzle:Ft,DomQuery:dt,TreeWalker:Cn,TextSeeker:Kg,DOMUtils:zt,ScriptLoader:Na,RangeUtils:As,Serializer:OC,StyleSheetLoader:Jh,ControlSelection:bb,BookmarkManager:Ts,Selection:CC,Event:vo.Event},html:{Styles:hc,Entities:Ya,Node:Br,Schema:qa,SaxParser:cl,DomParser:Av,Writer:Kb,Serializer:Io},Env:pt,AddOnManager:ur,Annotator:hb,Formatter:zC,UndoManager:YC,EditorCommands:Kw,WindowManager:$C,NotificationManager:MC,EditorObservable:Jw,Shortcuts:e1,Editor:af,FocusManager:$b,EditorManager:di,DOM:zt.DOM,ScriptLoader:Na.ScriptLoader,PluginManager:Jr,ThemeManager:li,IconManager:Tl,Resource:OV,trim:he.trim,isArray:he.isArray,is:he.is,toArray:he.toArray,makeMap:he.makeMap,each:he.each,map:he.map,grep:he.grep,inArray:he.inArray,extend:he.extend,create:he.create,walk:he.walk,createNS:he.createNS,resolve:he.resolve,explode:he.explode,_addCacheSuffix:he._addCacheSuffix,isOpera:pt.opera,isWebKit:pt.webkit,isIE:pt.ie,isGecko:pt.gecko,isMac:pt.mac},d1=he.extend(di,MV),$V=function(e){try{f.exports=e}catch{}},FV=function(e){window.tinymce=e,window.tinyMCE=e};FV(d1),$V(d1)})()})(R1);var qV=R1.exports;const gp=au(qV);var I1={exports:{}};/**!
 * Sortable 1.10.2
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function yf(f){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?yf=function(c){return typeof c}:yf=function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},yf(f)}function GV(f,c,o){return c in f?Object.defineProperty(f,c,{value:o,enumerable:!0,configurable:!0,writable:!0}):f[c]=o,f}function Lr(){return Lr=Object.assign||function(f){for(var c=1;c<arguments.length;c++){var o=arguments[c];for(var d in o)Object.prototype.hasOwnProperty.call(o,d)&&(f[d]=o[d])}return f},Lr.apply(this,arguments)}function bi(f){for(var c=1;c<arguments.length;c++){var o=arguments[c]!=null?arguments[c]:{},d=Object.keys(o);typeof Object.getOwnPropertySymbols=="function"&&(d=d.concat(Object.getOwnPropertySymbols(o).filter(function(b){return Object.getOwnPropertyDescriptor(o,b).enumerable}))),d.forEach(function(b){GV(f,b,o[b])})}return f}function XV(f,c){if(f==null)return{};var o={},d=Object.keys(f),b,p;for(p=0;p<d.length;p++)b=d[p],!(c.indexOf(b)>=0)&&(o[b]=f[b]);return o}function JV(f,c){if(f==null)return{};var o=XV(f,c),d,b;if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(f);for(b=0;b<p.length;b++)d=p[b],!(c.indexOf(d)>=0)&&Object.prototype.propertyIsEnumerable.call(f,d)&&(o[d]=f[d])}return o}function QV(f){return ZV(f)||eH(f)||tH()}function ZV(f){if(Array.isArray(f)){for(var c=0,o=new Array(f.length);c<f.length;c++)o[c]=f[c];return o}}function eH(f){if(Symbol.iterator in Object(f)||Object.prototype.toString.call(f)==="[object Arguments]")return Array.from(f)}function tH(){throw new TypeError("Invalid attempt to spread non-iterable instance")}var nH="1.10.2";function Fa(f){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(f)}var La=Fa(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),iu=Fa(/Edge/i),m1=Fa(/firefox/i),Ip=Fa(/safari/i)&&!Fa(/chrome/i)&&!Fa(/android/i),B1=Fa(/iP(ad|od|hone)/i),rH=Fa(/chrome/i)&&Fa(/android/i),M1={capture:!1,passive:!1};function $t(f,c,o){f.addEventListener(c,o,!La&&M1)}function It(f,c,o){f.removeEventListener(c,o,!La&&M1)}function xf(f,c){if(c){if(c[0]===">"&&(c=c.substring(1)),f)try{if(f.matches)return f.matches(c);if(f.msMatchesSelector)return f.msMatchesSelector(c);if(f.webkitMatchesSelector)return f.webkitMatchesSelector(c)}catch{return!1}return!1}}function aH(f){return f.host&&f!==document&&f.host.nodeType?f.host:f.parentNode}function ra(f,c,o,d){if(f){o=o||document;do{if(c!=null&&(c[0]===">"?f.parentNode===o&&xf(f,c):xf(f,c))||d&&f===o)return f;if(f===o)break}while(f=aH(f))}return null}var b1=/\s+/g;function dn(f,c,o){if(f&&c)if(f.classList)f.classList[o?"add":"remove"](c);else{var d=(" "+f.className+" ").replace(b1," ").replace(" "+c+" "," ");f.className=(d+(o?" "+c:"")).replace(b1," ")}}function ct(f,c,o){var d=f&&f.style;if(d){if(o===void 0)return document.defaultView&&document.defaultView.getComputedStyle?o=document.defaultView.getComputedStyle(f,""):f.currentStyle&&(o=f.currentStyle),c===void 0?o:o[c];!(c in d)&&c.indexOf("webkit")===-1&&(c="-webkit-"+c),d[c]=o+(typeof o=="string"?"":"px")}}function Qi(f,c){var o="";if(typeof f=="string")o=f;else do{var d=ct(f,"transform");d&&d!=="none"&&(o=d+" "+o)}while(!c&&(f=f.parentNode));var b=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return b&&new b(o)}function $1(f,c,o){if(f){var d=f.getElementsByTagName(c),b=0,p=d.length;if(o)for(;b<p;b++)o(d[b],b);return d}return[]}function xa(){var f=document.scrollingElement;return f||document.documentElement}function mn(f,c,o,d,b){if(!(!f.getBoundingClientRect&&f!==window)){var p,y,E,O,A,H,U;if(f!==window&&f!==xa()?(p=f.getBoundingClientRect(),y=p.top,E=p.left,O=p.bottom,A=p.right,H=p.height,U=p.width):(y=0,E=0,O=window.innerHeight,A=window.innerWidth,H=window.innerHeight,U=window.innerWidth),(c||o)&&f!==window&&(b=b||f.parentNode,!La))do if(b&&b.getBoundingClientRect&&(ct(b,"transform")!=="none"||o&&ct(b,"position")!=="static")){var re=b.getBoundingClientRect();y-=re.top+parseInt(ct(b,"border-top-width")),E-=re.left+parseInt(ct(b,"border-left-width")),O=y+p.height,A=E+p.width;break}while(b=b.parentNode);if(d&&f!==window){var X=Qi(b||f),ee=X&&X.a,te=X&&X.d;X&&(y/=te,E/=ee,U/=ee,H/=te,O=y+H,A=E+U)}return{top:y,left:E,bottom:O,right:A,width:U,height:H}}}function y1(f,c,o){for(var d=mi(f,!0),b=mn(f)[c];d;){var p=mn(d)[o],y=void 0;if(o==="top"||o==="left"?y=b>=p:y=b<=p,!y)return d;if(d===xa())break;d=mi(d,!1)}return!1}function Df(f,c,o){for(var d=0,b=0,p=f.children;b<p.length;){if(p[b].style.display!=="none"&&p[b]!==yt.ghost&&p[b]!==yt.dragged&&ra(p[b],o.draggable,f,!1)){if(d===c)return p[b];d++}b++}return null}function _p(f,c){for(var o=f.lastElementChild;o&&(o===yt.ghost||ct(o,"display")==="none"||c&&!xf(o,c));)o=o.previousElementSibling;return o||null}function gn(f,c){var o=0;if(!f||!f.parentNode)return-1;for(;f=f.previousElementSibling;)f.nodeName.toUpperCase()!=="TEMPLATE"&&f!==yt.clone&&(!c||xf(f,c))&&o++;return o}function C1(f){var c=0,o=0,d=xa();if(f)do{var b=Qi(f),p=b.a,y=b.d;c+=f.scrollLeft*p,o+=f.scrollTop*y}while(f!==d&&(f=f.parentNode));return[c,o]}function iH(f,c){for(var o in f)if(f.hasOwnProperty(o)){for(var d in c)if(c.hasOwnProperty(d)&&c[d]===f[o][d])return Number(o)}return-1}function mi(f,c){if(!f||!f.getBoundingClientRect)return xa();var o=f,d=!1;do if(o.clientWidth<o.scrollWidth||o.clientHeight<o.scrollHeight){var b=ct(o);if(o.clientWidth<o.scrollWidth&&(b.overflowX=="auto"||b.overflowX=="scroll")||o.clientHeight<o.scrollHeight&&(b.overflowY=="auto"||b.overflowY=="scroll")){if(!o.getBoundingClientRect||o===document.body)return xa();if(d||c)return o;d=!0}}while(o=o.parentNode);return xa()}function oH(f,c){if(f&&c)for(var o in c)c.hasOwnProperty(o)&&(f[o]=c[o]);return f}function mp(f,c){return Math.round(f.top)===Math.round(c.top)&&Math.round(f.left)===Math.round(c.left)&&Math.round(f.height)===Math.round(c.height)&&Math.round(f.width)===Math.round(c.width)}var Qs;function F1(f,c){return function(){if(!Qs){var o=arguments,d=this;o.length===1?f.call(d,o[0]):f.apply(d,o),Qs=setTimeout(function(){Qs=void 0},c)}}}function sH(){clearTimeout(Qs),Qs=void 0}function L1(f,c,o){f.scrollLeft+=c,f.scrollTop+=o}function Vp(f){var c=window.Polymer,o=window.jQuery||window.Zepto;return c&&c.dom?c.dom(f).cloneNode(!0):o?o(f).clone(!0)[0]:f.cloneNode(!0)}function w1(f,c){ct(f,"position","absolute"),ct(f,"top",c.top),ct(f,"left",c.left),ct(f,"width",c.width),ct(f,"height",c.height)}function bp(f){ct(f,"position",""),ct(f,"top",""),ct(f,"left",""),ct(f,"width",""),ct(f,"height","")}var tr="Sortable"+new Date().getTime();function uH(){var f=[],c;return{captureAnimationState:function(){if(f=[],!!this.options.animation){var d=[].slice.call(this.el.children);d.forEach(function(b){if(!(ct(b,"display")==="none"||b===yt.ghost)){f.push({target:b,rect:mn(b)});var p=bi({},f[f.length-1].rect);if(b.thisAnimationDuration){var y=Qi(b,!0);y&&(p.top-=y.f,p.left-=y.e)}b.fromRect=p}})}},addAnimationState:function(d){f.push(d)},removeAnimationState:function(d){f.splice(iH(f,{target:d}),1)},animateAll:function(d){var b=this;if(!this.options.animation){clearTimeout(c),typeof d=="function"&&d();return}var p=!1,y=0;f.forEach(function(E){var O=0,A=E.target,H=A.fromRect,U=mn(A),re=A.prevFromRect,X=A.prevToRect,ee=E.rect,te=Qi(A,!0);te&&(U.top-=te.f,U.left-=te.e),A.toRect=U,A.thisAnimationDuration&&mp(re,U)&&!mp(H,U)&&(ee.top-U.top)/(ee.left-U.left)===(H.top-U.top)/(H.left-U.left)&&(O=fH(ee,re,X,b.options)),mp(U,H)||(A.prevFromRect=H,A.prevToRect=U,O||(O=b.options.animation),b.animate(A,ee,U,O)),O&&(p=!0,y=Math.max(y,O),clearTimeout(A.animationResetTimer),A.animationResetTimer=setTimeout(function(){A.animationTime=0,A.prevFromRect=null,A.fromRect=null,A.prevToRect=null,A.thisAnimationDuration=null},O),A.thisAnimationDuration=O)}),clearTimeout(c),p?c=setTimeout(function(){typeof d=="function"&&d()},y):typeof d=="function"&&d(),f=[]},animate:function(d,b,p,y){if(y){ct(d,"transition",""),ct(d,"transform","");var E=Qi(this.el),O=E&&E.a,A=E&&E.d,H=(b.left-p.left)/(O||1),U=(b.top-p.top)/(A||1);d.animatingX=!!H,d.animatingY=!!U,ct(d,"transform","translate3d("+H+"px,"+U+"px,0)"),lH(d),ct(d,"transition","transform "+y+"ms"+(this.options.easing?" "+this.options.easing:"")),ct(d,"transform","translate3d(0,0,0)"),typeof d.animated=="number"&&clearTimeout(d.animated),d.animated=setTimeout(function(){ct(d,"transition",""),ct(d,"transform",""),d.animated=!1,d.animatingX=!1,d.animatingY=!1},y)}}}}function lH(f){return f.offsetWidth}function fH(f,c,o,d){return Math.sqrt(Math.pow(c.top-f.top,2)+Math.pow(c.left-f.left,2))/Math.sqrt(Math.pow(c.top-o.top,2)+Math.pow(c.left-o.left,2))*d.animation}var zs=[],yp={initializeByDefault:!0},ou={mount:function(c){for(var o in yp)yp.hasOwnProperty(o)&&!(o in c)&&(c[o]=yp[o]);zs.push(c)},pluginEvent:function(c,o,d){var b=this;this.eventCanceled=!1,d.cancel=function(){b.eventCanceled=!0};var p=c+"Global";zs.forEach(function(y){o[y.pluginName]&&(o[y.pluginName][p]&&o[y.pluginName][p](bi({sortable:o},d)),o.options[y.pluginName]&&o[y.pluginName][c]&&o[y.pluginName][c](bi({sortable:o},d)))})},initializePlugins:function(c,o,d,b){zs.forEach(function(E){var O=E.pluginName;if(!(!c.options[O]&&!E.initializeByDefault)){var A=new E(c,o,c.options);A.sortable=c,A.options=c.options,c[O]=A,Lr(d,A.defaults)}});for(var p in c.options)if(c.options.hasOwnProperty(p)){var y=this.modifyOption(c,p,c.options[p]);typeof y<"u"&&(c.options[p]=y)}},getEventProperties:function(c,o){var d={};return zs.forEach(function(b){typeof b.eventProperties=="function"&&Lr(d,b.eventProperties.call(o[b.pluginName],c))}),d},modifyOption:function(c,o,d){var b;return zs.forEach(function(p){c[p.pluginName]&&p.optionListeners&&typeof p.optionListeners[o]=="function"&&(b=p.optionListeners[o].call(c[p.pluginName],d))}),b}};function qs(f){var c=f.sortable,o=f.rootEl,d=f.name,b=f.targetEl,p=f.cloneEl,y=f.toEl,E=f.fromEl,O=f.oldIndex,A=f.newIndex,H=f.oldDraggableIndex,U=f.newDraggableIndex,re=f.originalEvent,X=f.putSortable,ee=f.extraEventProperties;if(c=c||o&&o[tr],!!c){var te,ce=c.options,be="on"+d.charAt(0).toUpperCase()+d.substr(1);window.CustomEvent&&!La&&!iu?te=new CustomEvent(d,{bubbles:!0,cancelable:!0}):(te=document.createEvent("Event"),te.initEvent(d,!0,!0)),te.to=y||o,te.from=E||o,te.item=b||o,te.clone=p,te.oldIndex=O,te.newIndex=A,te.oldDraggableIndex=H,te.newDraggableIndex=U,te.originalEvent=re,te.pullMode=X?X.lastPutMode:void 0;var le=bi({},ee,ou.getEventProperties(d,c));for(var de in le)te[de]=le[de];o&&o.dispatchEvent(te),ce[be]&&ce[be].call(c,te)}}var vr=function(c,o){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},b=d.evt,p=JV(d,["evt"]);ou.pluginEvent.bind(yt)(c,o,bi({dragEl:Qe,parentEl:Dn,ghostEl:Pt,rootEl:cn,nextEl:Xi,lastDownEl:Cf,cloneEl:hn,cloneHidden:gi,dragStarted:Gs,putSortable:Yn,activeSortable:yt.active,originalEvent:b,oldIndex:Ko,oldDraggableIndex:Zs,newIndex:Or,newDraggableIndex:hi,hideGhostForTarget:U1,unhideGhostForTarget:j1,cloneNowHidden:function(){gi=!0},cloneNowShown:function(){gi=!1},dispatchSortableEvent:function(E){or({sortable:o,name:E,originalEvent:b})}},p))};function or(f){qs(bi({putSortable:Yn,cloneEl:hn,targetEl:Qe,rootEl:cn,oldIndex:Ko,oldDraggableIndex:Zs,newIndex:Or,newDraggableIndex:hi},f))}var Qe,Dn,Pt,cn,Xi,Cf,hn,gi,Ko,Or,Zs,hi,df,Yn,Yo=!1,kf=!1,Of=[],qi,ta,Cp,wp,E1,S1,Gs,zo,eu,tu=!1,vf=!1,wf,Zn,Ep=[],Bp=!1,Tf=[],Pf=typeof document<"u",pf=B1,x1=iu||La?"cssFloat":"float",cH=Pf&&!rH&&!B1&&"draggable"in document.createElement("div"),_1=function(){if(Pf){if(La)return!1;var f=document.createElement("x");return f.style.cssText="pointer-events:auto",f.style.pointerEvents==="auto"}}(),V1=function(c,o){var d=ct(c),b=parseInt(d.width)-parseInt(d.paddingLeft)-parseInt(d.paddingRight)-parseInt(d.borderLeftWidth)-parseInt(d.borderRightWidth),p=Df(c,0,o),y=Df(c,1,o),E=p&&ct(p),O=y&&ct(y),A=E&&parseInt(E.marginLeft)+parseInt(E.marginRight)+mn(p).width,H=O&&parseInt(O.marginLeft)+parseInt(O.marginRight)+mn(y).width;if(d.display==="flex")return d.flexDirection==="column"||d.flexDirection==="column-reverse"?"vertical":"horizontal";if(d.display==="grid")return d.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(p&&E.float&&E.float!=="none"){var U=E.float==="left"?"left":"right";return y&&(O.clear==="both"||O.clear===U)?"vertical":"horizontal"}return p&&(E.display==="block"||E.display==="flex"||E.display==="table"||E.display==="grid"||A>=b&&d[x1]==="none"||y&&d[x1]==="none"&&A+H>b)?"vertical":"horizontal"},dH=function(c,o,d){var b=d?c.left:c.top,p=d?c.right:c.bottom,y=d?c.width:c.height,E=d?o.left:o.top,O=d?o.right:o.bottom,A=d?o.width:o.height;return b===E||p===O||b+y/2===E+A/2},vH=function(c,o){var d;return Of.some(function(b){if(!_p(b)){var p=mn(b),y=b[tr].options.emptyInsertThreshold,E=c>=p.left-y&&c<=p.right+y,O=o>=p.top-y&&o<=p.bottom+y;if(y&&E&&O)return d=b}}),d},H1=function(c){function o(p,y){return function(E,O,A,H){var U=E.options.group.name&&O.options.group.name&&E.options.group.name===O.options.group.name;if(p==null&&(y||U))return!0;if(p==null||p===!1)return!1;if(y&&p==="clone")return p;if(typeof p=="function")return o(p(E,O,A,H),y)(E,O,A,H);var re=(y?E:O).options.group.name;return p===!0||typeof p=="string"&&p===re||p.join&&p.indexOf(re)>-1}}var d={},b=c.group;(!b||yf(b)!="object")&&(b={name:b}),d.name=b.name,d.checkPull=o(b.pull,!0),d.checkPut=o(b.put),d.revertClone=b.revertClone,c.group=d},U1=function(){!_1&&Pt&&ct(Pt,"display","none")},j1=function(){!_1&&Pt&&ct(Pt,"display","")};Pf&&document.addEventListener("click",function(f){if(kf)return f.preventDefault(),f.stopPropagation&&f.stopPropagation(),f.stopImmediatePropagation&&f.stopImmediatePropagation(),kf=!1,!1},!0);var Gi=function(c){if(Qe){c=c.touches?c.touches[0]:c;var o=vH(c.clientX,c.clientY);if(o){var d={};for(var b in c)c.hasOwnProperty(b)&&(d[b]=c[b]);d.target=d.rootEl=o,d.preventDefault=void 0,d.stopPropagation=void 0,o[tr]._onDragOver(d)}}},pH=function(c){Qe&&Qe.parentNode[tr]._isOutsideThisEl(c.target)};function yt(f,c){if(!(f&&f.nodeType&&f.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(f));this.el=f,this.options=c=Lr({},c),f[tr]=this;var o={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(f.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return V1(f,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(y,E){y.setData("Text",E.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:yt.supportPointer!==!1&&"PointerEvent"in window,emptyInsertThreshold:5};ou.initializePlugins(this,f,o);for(var d in o)!(d in c)&&(c[d]=o[d]);H1(c);for(var b in this)b.charAt(0)==="_"&&typeof this[b]=="function"&&(this[b]=this[b].bind(this));this.nativeDraggable=c.forceFallback?!1:cH,this.nativeDraggable&&(this.options.touchStartThreshold=1),c.supportPointer?$t(f,"pointerdown",this._onTapStart):($t(f,"mousedown",this._onTapStart),$t(f,"touchstart",this._onTapStart)),this.nativeDraggable&&($t(f,"dragover",this),$t(f,"dragenter",this)),Of.push(this.el),c.store&&c.store.get&&this.sort(c.store.get(this)||[]),Lr(this,uH())}yt.prototype={constructor:yt,_isOutsideThisEl:function(c){!this.el.contains(c)&&c!==this.el&&(zo=null)},_getDirection:function(c,o){return typeof this.options.direction=="function"?this.options.direction.call(this,c,o,Qe):this.options.direction},_onTapStart:function(c){if(c.cancelable){var o=this,d=this.el,b=this.options,p=b.preventOnFilter,y=c.type,E=c.touches&&c.touches[0]||c.pointerType&&c.pointerType==="touch"&&c,O=(E||c).target,A=c.target.shadowRoot&&(c.path&&c.path[0]||c.composedPath&&c.composedPath()[0])||O,H=b.filter;if(wH(d),!Qe&&!(/mousedown|pointerdown/.test(y)&&c.button!==0||b.disabled)&&!A.isContentEditable&&(O=ra(O,b.draggable,d,!1),!(O&&O.animated)&&Cf!==O)){if(Ko=gn(O),Zs=gn(O,b.draggable),typeof H=="function"){if(H.call(this,c,O,this)){or({sortable:o,rootEl:A,name:"filter",targetEl:O,toEl:d,fromEl:d}),vr("filter",o,{evt:c}),p&&c.cancelable&&c.preventDefault();return}}else if(H&&(H=H.split(",").some(function(U){if(U=ra(A,U.trim(),d,!1),U)return or({sortable:o,rootEl:U,name:"filter",targetEl:O,fromEl:d,toEl:d}),vr("filter",o,{evt:c}),!0}),H)){p&&c.cancelable&&c.preventDefault();return}b.handle&&!ra(A,b.handle,d,!1)||this._prepareDragStart(c,E,O)}}},_prepareDragStart:function(c,o,d){var b=this,p=b.el,y=b.options,E=p.ownerDocument,O;if(d&&!Qe&&d.parentNode===p){var A=mn(d);if(cn=p,Qe=d,Dn=Qe.parentNode,Xi=Qe.nextSibling,Cf=d,df=y.group,yt.dragged=Qe,qi={target:Qe,clientX:(o||c).clientX,clientY:(o||c).clientY},E1=qi.clientX-A.left,S1=qi.clientY-A.top,this._lastX=(o||c).clientX,this._lastY=(o||c).clientY,Qe.style["will-change"]="all",O=function(){if(vr("delayEnded",b,{evt:c}),yt.eventCanceled){b._onDrop();return}b._disableDelayedDragEvents(),!m1&&b.nativeDraggable&&(Qe.draggable=!0),b._triggerDragStart(c,o),or({sortable:b,name:"choose",originalEvent:c}),dn(Qe,y.chosenClass,!0)},y.ignore.split(",").forEach(function(H){$1(Qe,H.trim(),xp)}),$t(E,"dragover",Gi),$t(E,"mousemove",Gi),$t(E,"touchmove",Gi),$t(E,"mouseup",b._onDrop),$t(E,"touchend",b._onDrop),$t(E,"touchcancel",b._onDrop),m1&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Qe.draggable=!0),vr("delayStart",this,{evt:c}),y.delay&&(!y.delayOnTouchOnly||o)&&(!this.nativeDraggable||!(iu||La))){if(yt.eventCanceled){this._onDrop();return}$t(E,"mouseup",b._disableDelayedDrag),$t(E,"touchend",b._disableDelayedDrag),$t(E,"touchcancel",b._disableDelayedDrag),$t(E,"mousemove",b._delayedDragTouchMoveHandler),$t(E,"touchmove",b._delayedDragTouchMoveHandler),y.supportPointer&&$t(E,"pointermove",b._delayedDragTouchMoveHandler),b._dragStartTimer=setTimeout(O,y.delay)}else O()}},_delayedDragTouchMoveHandler:function(c){var o=c.touches?c.touches[0]:c;Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Qe&&xp(Qe),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var c=this.el.ownerDocument;It(c,"mouseup",this._disableDelayedDrag),It(c,"touchend",this._disableDelayedDrag),It(c,"touchcancel",this._disableDelayedDrag),It(c,"mousemove",this._delayedDragTouchMoveHandler),It(c,"touchmove",this._delayedDragTouchMoveHandler),It(c,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(c,o){o=o||c.pointerType=="touch"&&c,!this.nativeDraggable||o?this.options.supportPointer?$t(document,"pointermove",this._onTouchMove):o?$t(document,"touchmove",this._onTouchMove):$t(document,"mousemove",this._onTouchMove):($t(Qe,"dragend",this),$t(cn,"dragstart",this._onDragStart));try{document.selection?Ef(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(c,o){if(Yo=!1,cn&&Qe){vr("dragStarted",this,{evt:o}),this.nativeDraggable&&$t(document,"dragover",pH);var d=this.options;!c&&dn(Qe,d.dragClass,!1),dn(Qe,d.ghostClass,!0),yt.active=this,c&&this._appendGhost(),or({sortable:this,name:"start",originalEvent:o})}else this._nulling()},_emulateDragOver:function(){if(ta){this._lastX=ta.clientX,this._lastY=ta.clientY,U1();for(var c=document.elementFromPoint(ta.clientX,ta.clientY),o=c;c&&c.shadowRoot&&(c=c.shadowRoot.elementFromPoint(ta.clientX,ta.clientY),c!==o);)o=c;if(Qe.parentNode[tr]._isOutsideThisEl(c),o)do{if(o[tr]){var d=void 0;if(d=o[tr]._onDragOver({clientX:ta.clientX,clientY:ta.clientY,target:c,rootEl:o}),d&&!this.options.dragoverBubble)break}c=o}while(o=o.parentNode);j1()}},_onTouchMove:function(c){if(qi){var o=this.options,d=o.fallbackTolerance,b=o.fallbackOffset,p=c.touches?c.touches[0]:c,y=Pt&&Qi(Pt,!0),E=Pt&&y&&y.a,O=Pt&&y&&y.d,A=pf&&Zn&&C1(Zn),H=(p.clientX-qi.clientX+b.x)/(E||1)+(A?A[0]-Ep[0]:0)/(E||1),U=(p.clientY-qi.clientY+b.y)/(O||1)+(A?A[1]-Ep[1]:0)/(O||1);if(!yt.active&&!Yo){if(d&&Math.max(Math.abs(p.clientX-this._lastX),Math.abs(p.clientY-this._lastY))<d)return;this._onDragStart(c,!0)}if(Pt){y?(y.e+=H-(Cp||0),y.f+=U-(wp||0)):y={a:1,b:0,c:0,d:1,e:H,f:U};var re="matrix(".concat(y.a,",").concat(y.b,",").concat(y.c,",").concat(y.d,",").concat(y.e,",").concat(y.f,")");ct(Pt,"webkitTransform",re),ct(Pt,"mozTransform",re),ct(Pt,"msTransform",re),ct(Pt,"transform",re),Cp=H,wp=U,ta=p}c.cancelable&&c.preventDefault()}},_appendGhost:function(){if(!Pt){var c=this.options.fallbackOnBody?document.body:cn,o=mn(Qe,!0,pf,!0,c),d=this.options;if(pf){for(Zn=c;ct(Zn,"position")==="static"&&ct(Zn,"transform")==="none"&&Zn!==document;)Zn=Zn.parentNode;Zn!==document.body&&Zn!==document.documentElement?(Zn===document&&(Zn=xa()),o.top+=Zn.scrollTop,o.left+=Zn.scrollLeft):Zn=xa(),Ep=C1(Zn)}Pt=Qe.cloneNode(!0),dn(Pt,d.ghostClass,!1),dn(Pt,d.fallbackClass,!0),dn(Pt,d.dragClass,!0),ct(Pt,"transition",""),ct(Pt,"transform",""),ct(Pt,"box-sizing","border-box"),ct(Pt,"margin",0),ct(Pt,"top",o.top),ct(Pt,"left",o.left),ct(Pt,"width",o.width),ct(Pt,"height",o.height),ct(Pt,"opacity","0.8"),ct(Pt,"position",pf?"absolute":"fixed"),ct(Pt,"zIndex","100000"),ct(Pt,"pointerEvents","none"),yt.ghost=Pt,c.appendChild(Pt),ct(Pt,"transform-origin",E1/parseInt(Pt.style.width)*100+"% "+S1/parseInt(Pt.style.height)*100+"%")}},_onDragStart:function(c,o){var d=this,b=c.dataTransfer,p=d.options;if(vr("dragStart",this,{evt:c}),yt.eventCanceled){this._onDrop();return}vr("setupClone",this),yt.eventCanceled||(hn=Vp(Qe),hn.draggable=!1,hn.style["will-change"]="",this._hideClone(),dn(hn,this.options.chosenClass,!1),yt.clone=hn),d.cloneId=Ef(function(){vr("clone",d),!yt.eventCanceled&&(d.options.removeCloneOnHide||cn.insertBefore(hn,Qe),d._hideClone(),or({sortable:d,name:"clone"}))}),!o&&dn(Qe,p.dragClass,!0),o?(kf=!0,d._loopId=setInterval(d._emulateDragOver,50)):(It(document,"mouseup",d._onDrop),It(document,"touchend",d._onDrop),It(document,"touchcancel",d._onDrop),b&&(b.effectAllowed="move",p.setData&&p.setData.call(d,b,Qe)),$t(document,"drop",d),ct(Qe,"transform","translateZ(0)")),Yo=!0,d._dragStartId=Ef(d._dragStarted.bind(d,o,c)),$t(document,"selectstart",d),Gs=!0,Ip&&ct(document.body,"user-select","none")},_onDragOver:function(c){var o=this.el,d=c.target,b,p,y,E=this.options,O=E.group,A=yt.active,H=df===O,U=E.sort,re=Yn||A,X,ee=this,te=!1;if(Bp)return;function ce(w,B){vr(w,ee,bi({evt:c,isOwner:H,axis:X?"vertical":"horizontal",revert:y,dragRect:b,targetRect:p,canSort:U,fromSortable:re,target:d,completed:le,onMove:function(J,N){return Sp(cn,o,Qe,b,J,mn(J),c,N)},changed:de},B))}function be(){ce("dragOverAnimationCapture"),ee.captureAnimationState(),ee!==re&&re.captureAnimationState()}function le(w){return ce("dragOverCompleted",{insertion:w}),w&&(H?A._hideClone():A._showClone(ee),ee!==re&&(dn(Qe,Yn?Yn.options.ghostClass:A.options.ghostClass,!1),dn(Qe,E.ghostClass,!0)),Yn!==ee&&ee!==yt.active?Yn=ee:ee===yt.active&&Yn&&(Yn=null),re===ee&&(ee._ignoreWhileAnimating=d),ee.animateAll(function(){ce("dragOverAnimationComplete"),ee._ignoreWhileAnimating=null}),ee!==re&&(re.animateAll(),re._ignoreWhileAnimating=null)),(d===Qe&&!Qe.animated||d===o&&!d.animated)&&(zo=null),!E.dragoverBubble&&!c.rootEl&&d!==document&&(Qe.parentNode[tr]._isOutsideThisEl(c.target),!w&&Gi(c)),!E.dragoverBubble&&c.stopPropagation&&c.stopPropagation(),te=!0}function de(){Or=gn(Qe),hi=gn(Qe,E.draggable),or({sortable:ee,name:"change",toEl:o,newIndex:Or,newDraggableIndex:hi,originalEvent:c})}if(c.preventDefault!==void 0&&c.cancelable&&c.preventDefault(),d=ra(d,E.draggable,o,!0),ce("dragOver"),yt.eventCanceled)return te;if(Qe.contains(c.target)||d.animated&&d.animatingX&&d.animatingY||ee._ignoreWhileAnimating===d)return le(!1);if(kf=!1,A&&!E.disabled&&(H?U||(y=!cn.contains(Qe)):Yn===this||(this.lastPutMode=df.checkPull(this,A,Qe,c))&&O.checkPut(this,A,Qe,c))){if(X=this._getDirection(c,d)==="vertical",b=mn(Qe),ce("dragOverValid"),yt.eventCanceled)return te;if(y)return Dn=cn,be(),this._hideClone(),ce("revert"),yt.eventCanceled||(Xi?cn.insertBefore(Qe,Xi):cn.appendChild(Qe)),le(!0);var De=_p(o,E.draggable);if(!De||mH(c,X,this)&&!De.animated){if(De===Qe)return le(!1);if(De&&o===c.target&&(d=De),d&&(p=mn(d)),Sp(cn,o,Qe,b,d,p,c,!!d)!==!1)return be(),o.appendChild(Qe),Dn=o,de(),le(!0)}else if(d.parentNode===o){p=mn(d);var j=0,ae,P=Qe.parentNode!==o,ge=!dH(Qe.animated&&Qe.toRect||b,d.animated&&d.toRect||p,X),Ue=X?"top":"left",pe=y1(d,"top","top")||y1(Qe,"top","top"),Ke=pe?pe.scrollTop:void 0;zo!==d&&(ae=p[Ue],tu=!1,vf=!ge&&E.invertSwap||P),j=bH(c,d,p,X,ge?1:E.swapThreshold,E.invertedSwapThreshold==null?E.swapThreshold:E.invertedSwapThreshold,vf,zo===d);var ye;if(j!==0){var Y=gn(Qe);do Y-=j,ye=Dn.children[Y];while(ye&&(ct(ye,"display")==="none"||ye===Pt))}if(j===0||ye===d)return le(!1);zo=d,eu=j;var Ee=d.nextElementSibling,Ce=!1;Ce=j===1;var h=Sp(cn,o,Qe,b,d,p,c,Ce);if(h!==!1)return(h===1||h===-1)&&(Ce=h===1),Bp=!0,setTimeout(gH,30),be(),Ce&&!Ee?o.appendChild(Qe):d.parentNode.insertBefore(Qe,Ce?Ee:d),pe&&L1(pe,0,Ke-pe.scrollTop),Dn=Qe.parentNode,ae!==void 0&&!vf&&(wf=Math.abs(ae-mn(d)[Ue])),de(),le(!0)}if(o.contains(Qe))return le(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){It(document,"mousemove",this._onTouchMove),It(document,"touchmove",this._onTouchMove),It(document,"pointermove",this._onTouchMove),It(document,"dragover",Gi),It(document,"mousemove",Gi),It(document,"touchmove",Gi)},_offUpEvents:function(){var c=this.el.ownerDocument;It(c,"mouseup",this._onDrop),It(c,"touchend",this._onDrop),It(c,"pointerup",this._onDrop),It(c,"touchcancel",this._onDrop),It(document,"selectstart",this)},_onDrop:function(c){var o=this.el,d=this.options;if(Or=gn(Qe),hi=gn(Qe,d.draggable),vr("drop",this,{evt:c}),Dn=Qe&&Qe.parentNode,Or=gn(Qe),hi=gn(Qe,d.draggable),yt.eventCanceled){this._nulling();return}Yo=!1,vf=!1,tu=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Mp(this.cloneId),Mp(this._dragStartId),this.nativeDraggable&&(It(document,"drop",this),It(o,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Ip&&ct(document.body,"user-select",""),ct(Qe,"transform",""),c&&(Gs&&(c.cancelable&&c.preventDefault(),!d.dropBubble&&c.stopPropagation()),Pt&&Pt.parentNode&&Pt.parentNode.removeChild(Pt),(cn===Dn||Yn&&Yn.lastPutMode!=="clone")&&hn&&hn.parentNode&&hn.parentNode.removeChild(hn),Qe&&(this.nativeDraggable&&It(Qe,"dragend",this),xp(Qe),Qe.style["will-change"]="",Gs&&!Yo&&dn(Qe,Yn?Yn.options.ghostClass:this.options.ghostClass,!1),dn(Qe,this.options.chosenClass,!1),or({sortable:this,name:"unchoose",toEl:Dn,newIndex:null,newDraggableIndex:null,originalEvent:c}),cn!==Dn?(Or>=0&&(or({rootEl:Dn,name:"add",toEl:Dn,fromEl:cn,originalEvent:c}),or({sortable:this,name:"remove",toEl:Dn,originalEvent:c}),or({rootEl:Dn,name:"sort",toEl:Dn,fromEl:cn,originalEvent:c}),or({sortable:this,name:"sort",toEl:Dn,originalEvent:c})),Yn&&Yn.save()):Or!==Ko&&Or>=0&&(or({sortable:this,name:"update",toEl:Dn,originalEvent:c}),or({sortable:this,name:"sort",toEl:Dn,originalEvent:c})),yt.active&&((Or==null||Or===-1)&&(Or=Ko,hi=Zs),or({sortable:this,name:"end",toEl:Dn,originalEvent:c}),this.save()))),this._nulling()},_nulling:function(){vr("nulling",this),cn=Qe=Dn=Pt=Xi=hn=Cf=gi=qi=ta=Gs=Or=hi=Ko=Zs=zo=eu=Yn=df=yt.dragged=yt.ghost=yt.clone=yt.active=null,Tf.forEach(function(c){c.checked=!0}),Tf.length=Cp=wp=0},handleEvent:function(c){switch(c.type){case"drop":case"dragend":this._onDrop(c);break;case"dragenter":case"dragover":Qe&&(this._onDragOver(c),hH(c));break;case"selectstart":c.preventDefault();break}},toArray:function(){for(var c=[],o,d=this.el.children,b=0,p=d.length,y=this.options;b<p;b++)o=d[b],ra(o,y.draggable,this.el,!1)&&c.push(o.getAttribute(y.dataIdAttr)||CH(o));return c},sort:function(c){var o={},d=this.el;this.toArray().forEach(function(b,p){var y=d.children[p];ra(y,this.options.draggable,d,!1)&&(o[b]=y)},this),c.forEach(function(b){o[b]&&(d.removeChild(o[b]),d.appendChild(o[b]))})},save:function(){var c=this.options.store;c&&c.set&&c.set(this)},closest:function(c,o){return ra(c,o||this.options.draggable,this.el,!1)},option:function(c,o){var d=this.options;if(o===void 0)return d[c];var b=ou.modifyOption(this,c,o);typeof b<"u"?d[c]=b:d[c]=o,c==="group"&&H1(d)},destroy:function(){vr("destroy",this);var c=this.el;c[tr]=null,It(c,"mousedown",this._onTapStart),It(c,"touchstart",this._onTapStart),It(c,"pointerdown",this._onTapStart),this.nativeDraggable&&(It(c,"dragover",this),It(c,"dragenter",this)),Array.prototype.forEach.call(c.querySelectorAll("[draggable]"),function(o){o.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Of.splice(Of.indexOf(this.el),1),this.el=c=null},_hideClone:function(){if(!gi){if(vr("hideClone",this),yt.eventCanceled)return;ct(hn,"display","none"),this.options.removeCloneOnHide&&hn.parentNode&&hn.parentNode.removeChild(hn),gi=!0}},_showClone:function(c){if(c.lastPutMode!=="clone"){this._hideClone();return}if(gi){if(vr("showClone",this),yt.eventCanceled)return;cn.contains(Qe)&&!this.options.group.revertClone?cn.insertBefore(hn,Qe):Xi?cn.insertBefore(hn,Xi):cn.appendChild(hn),this.options.group.revertClone&&this.animate(Qe,hn),ct(hn,"display",""),gi=!1}}};function hH(f){f.dataTransfer&&(f.dataTransfer.dropEffect="move"),f.cancelable&&f.preventDefault()}function Sp(f,c,o,d,b,p,y,E){var O,A=f[tr],H=A.options.onMove,U;return window.CustomEvent&&!La&&!iu?O=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(O=document.createEvent("Event"),O.initEvent("move",!0,!0)),O.to=c,O.from=f,O.dragged=o,O.draggedRect=d,O.related=b||c,O.relatedRect=p||mn(c),O.willInsertAfter=E,O.originalEvent=y,f.dispatchEvent(O),H&&(U=H.call(A,O,y)),U}function xp(f){f.draggable=!1}function gH(){Bp=!1}function mH(f,c,o){var d=mn(_p(o.el,o.options.draggable)),b=10;return c?f.clientX>d.right+b||f.clientX<=d.right&&f.clientY>d.bottom&&f.clientX>=d.left:f.clientX>d.right&&f.clientY>d.top||f.clientX<=d.right&&f.clientY>d.bottom+b}function bH(f,c,o,d,b,p,y,E){var O=d?f.clientY:f.clientX,A=d?o.height:o.width,H=d?o.top:o.left,U=d?o.bottom:o.right,re=!1;if(!y){if(E&&wf<A*b){if(!tu&&(eu===1?O>H+A*p/2:O<U-A*p/2)&&(tu=!0),tu)re=!0;else if(eu===1?O<H+wf:O>U-wf)return-eu}else if(O>H+A*(1-b)/2&&O<U-A*(1-b)/2)return yH(c)}return re=re||y,re&&(O<H+A*p/2||O>U-A*p/2)?O>H+A/2?1:-1:0}function yH(f){return gn(Qe)<gn(f)?1:-1}function CH(f){for(var c=f.tagName+f.className+f.src+f.href+f.textContent,o=c.length,d=0;o--;)d+=c.charCodeAt(o);return d.toString(36)}function wH(f){Tf.length=0;for(var c=f.getElementsByTagName("input"),o=c.length;o--;){var d=c[o];d.checked&&Tf.push(d)}}function Ef(f){return setTimeout(f,0)}function Mp(f){return clearTimeout(f)}Pf&&$t(document,"touchmove",function(f){(yt.active||Yo)&&f.cancelable&&f.preventDefault()});yt.utils={on:$t,off:It,css:ct,find:$1,is:function(c,o){return!!ra(c,o,c,!1)},extend:oH,throttle:F1,closest:ra,toggleClass:dn,clone:Vp,index:gn,nextTick:Ef,cancelNextTick:Mp,detectDirection:V1,getChild:Df};yt.get=function(f){return f[tr]};yt.mount=function(){for(var f=arguments.length,c=new Array(f),o=0;o<f;o++)c[o]=arguments[o];c[0].constructor===Array&&(c=c[0]),c.forEach(function(d){if(!d.prototype||!d.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(d));d.utils&&(yt.utils=bi({},yt.utils,d.utils)),ou.mount(d)})};yt.create=function(f,c){return new yt(f,c)};yt.version=nH;var kn=[],Xs,$p,Fp=!1,Dp,kp,Af,Js;function EH(){function f(){this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var c in this)c.charAt(0)==="_"&&typeof this[c]=="function"&&(this[c]=this[c].bind(this))}return f.prototype={dragStarted:function(o){var d=o.originalEvent;this.sortable.nativeDraggable?$t(document,"dragover",this._handleAutoScroll):this.options.supportPointer?$t(document,"pointermove",this._handleFallbackAutoScroll):d.touches?$t(document,"touchmove",this._handleFallbackAutoScroll):$t(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(o){var d=o.originalEvent;!this.options.dragOverBubble&&!d.rootEl&&this._handleAutoScroll(d)},drop:function(){this.sortable.nativeDraggable?It(document,"dragover",this._handleAutoScroll):(It(document,"pointermove",this._handleFallbackAutoScroll),It(document,"touchmove",this._handleFallbackAutoScroll),It(document,"mousemove",this._handleFallbackAutoScroll)),D1(),Sf(),sH()},nulling:function(){Af=$p=Xs=Fp=Js=Dp=kp=null,kn.length=0},_handleFallbackAutoScroll:function(o){this._handleAutoScroll(o,!0)},_handleAutoScroll:function(o,d){var b=this,p=(o.touches?o.touches[0]:o).clientX,y=(o.touches?o.touches[0]:o).clientY,E=document.elementFromPoint(p,y);if(Af=o,d||iu||La||Ip){Op(o,this.options,E,d);var O=mi(E,!0);Fp&&(!Js||p!==Dp||y!==kp)&&(Js&&D1(),Js=setInterval(function(){var A=mi(document.elementFromPoint(p,y),!0);A!==O&&(O=A,Sf()),Op(o,b.options,A,d)},10),Dp=p,kp=y)}else{if(!this.options.bubbleScroll||mi(E,!0)===xa()){Sf();return}Op(o,this.options,mi(E,!1),!1)}}},Lr(f,{pluginName:"scroll",initializeByDefault:!0})}function Sf(){kn.forEach(function(f){clearInterval(f.pid)}),kn=[]}function D1(){clearInterval(Js)}var Op=F1(function(f,c,o,d){if(c.scroll){var b=(f.touches?f.touches[0]:f).clientX,p=(f.touches?f.touches[0]:f).clientY,y=c.scrollSensitivity,E=c.scrollSpeed,O=xa(),A=!1,H;$p!==o&&($p=o,Sf(),Xs=c.scroll,H=c.scrollFn,Xs===!0&&(Xs=mi(o,!0)));var U=0,re=Xs;do{var X=re,ee=mn(X),te=ee.top,ce=ee.bottom,be=ee.left,le=ee.right,de=ee.width,De=ee.height,j=void 0,ae=void 0,P=X.scrollWidth,ge=X.scrollHeight,Ue=ct(X),pe=X.scrollLeft,Ke=X.scrollTop;X===O?(j=de<P&&(Ue.overflowX==="auto"||Ue.overflowX==="scroll"||Ue.overflowX==="visible"),ae=De<ge&&(Ue.overflowY==="auto"||Ue.overflowY==="scroll"||Ue.overflowY==="visible")):(j=de<P&&(Ue.overflowX==="auto"||Ue.overflowX==="scroll"),ae=De<ge&&(Ue.overflowY==="auto"||Ue.overflowY==="scroll"));var ye=j&&(Math.abs(le-b)<=y&&pe+de<P)-(Math.abs(be-b)<=y&&!!pe),Y=ae&&(Math.abs(ce-p)<=y&&Ke+De<ge)-(Math.abs(te-p)<=y&&!!Ke);if(!kn[U])for(var Ee=0;Ee<=U;Ee++)kn[Ee]||(kn[Ee]={});(kn[U].vx!=ye||kn[U].vy!=Y||kn[U].el!==X)&&(kn[U].el=X,kn[U].vx=ye,kn[U].vy=Y,clearInterval(kn[U].pid),(ye!=0||Y!=0)&&(A=!0,kn[U].pid=setInterval((function(){d&&this.layer===0&&yt.active._onTouchMove(Af);var Ce=kn[this.layer].vy?kn[this.layer].vy*E:0,h=kn[this.layer].vx?kn[this.layer].vx*E:0;typeof H=="function"&&H.call(yt.dragged.parentNode[tr],h,Ce,f,Af,kn[this.layer].el)!=="continue"||L1(kn[this.layer].el,h,Ce)}).bind({layer:U}),24))),U++}while(c.bubbleScroll&&re!==O&&(re=mi(re,!1)));Fp=A}},30),z1=function(c){var o=c.originalEvent,d=c.putSortable,b=c.dragEl,p=c.activeSortable,y=c.dispatchSortableEvent,E=c.hideGhostForTarget,O=c.unhideGhostForTarget;if(o){var A=d||p;E();var H=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:o,U=document.elementFromPoint(H.clientX,H.clientY);O(),A&&!A.el.contains(U)&&(y("spill"),this.onSpill({dragEl:b,putSortable:d}))}};function Hp(){}Hp.prototype={startIndex:null,dragStart:function(c){var o=c.oldDraggableIndex;this.startIndex=o},onSpill:function(c){var o=c.dragEl,d=c.putSortable;this.sortable.captureAnimationState(),d&&d.captureAnimationState();var b=Df(this.sortable.el,this.startIndex,this.options);b?this.sortable.el.insertBefore(o,b):this.sortable.el.appendChild(o),this.sortable.animateAll(),d&&d.animateAll()},drop:z1};Lr(Hp,{pluginName:"revertOnSpill"});function Up(){}Up.prototype={onSpill:function(c){var o=c.dragEl,d=c.putSortable,b=d||this.sortable;b.captureAnimationState(),o.parentNode&&o.parentNode.removeChild(o),b.animateAll()},drop:z1};Lr(Up,{pluginName:"removeOnSpill"});var $r;function SH(){function f(){this.defaults={swapClass:"sortable-swap-highlight"}}return f.prototype={dragStart:function(o){var d=o.dragEl;$r=d},dragOverValid:function(o){var d=o.completed,b=o.target,p=o.onMove,y=o.activeSortable,E=o.changed,O=o.cancel;if(y.options.swap){var A=this.sortable.el,H=this.options;if(b&&b!==A){var U=$r;p(b)!==!1?(dn(b,H.swapClass,!0),$r=b):$r=null,U&&U!==$r&&dn(U,H.swapClass,!1)}E(),d(!0),O()}},drop:function(o){var d=o.activeSortable,b=o.putSortable,p=o.dragEl,y=b||this.sortable,E=this.options;$r&&dn($r,E.swapClass,!1),$r&&(E.swap||b&&b.options.swap)&&p!==$r&&(y.captureAnimationState(),y!==d&&d.captureAnimationState(),xH(p,$r),y.animateAll(),y!==d&&d.animateAll())},nulling:function(){$r=null}},Lr(f,{pluginName:"swap",eventProperties:function(){return{swapItem:$r}}})}function xH(f,c){var o=f.parentNode,d=c.parentNode,b,p;!o||!d||o.isEqualNode(c)||d.isEqualNode(f)||(b=gn(f),p=gn(c),o.isEqualNode(d)&&b<p&&p++,o.insertBefore(c,o.children[b]),d.insertBefore(f,d.children[p]))}var Ot=[],Dr=[],Ws,na,Ys=!1,Sr=!1,Wo=!1,Zt,Ks,hf;function DH(){function f(c){for(var o in this)o.charAt(0)==="_"&&typeof this[o]=="function"&&(this[o]=this[o].bind(this));c.options.supportPointer?$t(document,"pointerup",this._deselectMultiDrag):($t(document,"mouseup",this._deselectMultiDrag),$t(document,"touchend",this._deselectMultiDrag)),$t(document,"keydown",this._checkKeyDown),$t(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(b,p){var y="";Ot.length&&na===c?Ot.forEach(function(E,O){y+=(O?", ":"")+E.textContent}):y=p.textContent,b.setData("Text",y)}}}return f.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(o){var d=o.dragEl;Zt=d},delayEnded:function(){this.isMultiDrag=~Ot.indexOf(Zt)},setupClone:function(o){var d=o.sortable,b=o.cancel;if(this.isMultiDrag){for(var p=0;p<Ot.length;p++)Dr.push(Vp(Ot[p])),Dr[p].sortableIndex=Ot[p].sortableIndex,Dr[p].draggable=!1,Dr[p].style["will-change"]="",dn(Dr[p],this.options.selectedClass,!1),Ot[p]===Zt&&dn(Dr[p],this.options.chosenClass,!1);d._hideClone(),b()}},clone:function(o){var d=o.sortable,b=o.rootEl,p=o.dispatchSortableEvent,y=o.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||Ot.length&&na===d&&(k1(!0,b),p("clone"),y()))},showClone:function(o){var d=o.cloneNowShown,b=o.rootEl,p=o.cancel;this.isMultiDrag&&(k1(!1,b),Dr.forEach(function(y){ct(y,"display","")}),d(),hf=!1,p())},hideClone:function(o){var d=this;o.sortable;var b=o.cloneNowHidden,p=o.cancel;this.isMultiDrag&&(Dr.forEach(function(y){ct(y,"display","none"),d.options.removeCloneOnHide&&y.parentNode&&y.parentNode.removeChild(y)}),b(),hf=!0,p())},dragStartGlobal:function(o){o.sortable,!this.isMultiDrag&&na&&na.multiDrag._deselectMultiDrag(),Ot.forEach(function(d){d.sortableIndex=gn(d)}),Ot=Ot.sort(function(d,b){return d.sortableIndex-b.sortableIndex}),Wo=!0},dragStarted:function(o){var d=this,b=o.sortable;if(this.isMultiDrag){if(this.options.sort&&(b.captureAnimationState(),this.options.animation)){Ot.forEach(function(y){y!==Zt&&ct(y,"position","absolute")});var p=mn(Zt,!1,!0,!0);Ot.forEach(function(y){y!==Zt&&w1(y,p)}),Sr=!0,Ys=!0}b.animateAll(function(){Sr=!1,Ys=!1,d.options.animation&&Ot.forEach(function(y){bp(y)}),d.options.sort&&gf()})}},dragOver:function(o){var d=o.target,b=o.completed,p=o.cancel;Sr&&~Ot.indexOf(d)&&(b(!1),p())},revert:function(o){var d=o.fromSortable,b=o.rootEl,p=o.sortable,y=o.dragRect;Ot.length>1&&(Ot.forEach(function(E){p.addAnimationState({target:E,rect:Sr?mn(E):y}),bp(E),E.fromRect=y,d.removeAnimationState(E)}),Sr=!1,kH(!this.options.removeCloneOnHide,b))},dragOverCompleted:function(o){var d=o.sortable,b=o.isOwner,p=o.insertion,y=o.activeSortable,E=o.parentEl,O=o.putSortable,A=this.options;if(p){if(b&&y._hideClone(),Ys=!1,A.animation&&Ot.length>1&&(Sr||!b&&!y.options.sort&&!O)){var H=mn(Zt,!1,!0,!0);Ot.forEach(function(re){re!==Zt&&(w1(re,H),E.appendChild(re))}),Sr=!0}if(!b)if(Sr||gf(),Ot.length>1){var U=hf;y._showClone(d),y.options.animation&&!hf&&U&&Dr.forEach(function(re){y.addAnimationState({target:re,rect:Ks}),re.fromRect=Ks,re.thisAnimationDuration=null})}else y._showClone(d)}},dragOverAnimationCapture:function(o){var d=o.dragRect,b=o.isOwner,p=o.activeSortable;if(Ot.forEach(function(E){E.thisAnimationDuration=null}),p.options.animation&&!b&&p.multiDrag.isMultiDrag){Ks=Lr({},d);var y=Qi(Zt,!0);Ks.top-=y.f,Ks.left-=y.e}},dragOverAnimationComplete:function(){Sr&&(Sr=!1,gf())},drop:function(o){var d=o.originalEvent,b=o.rootEl,p=o.parentEl,y=o.sortable,E=o.dispatchSortableEvent,O=o.oldIndex,A=o.putSortable,H=A||this.sortable;if(d){var U=this.options,re=p.children;if(!Wo)if(U.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),dn(Zt,U.selectedClass,!~Ot.indexOf(Zt)),~Ot.indexOf(Zt))Ot.splice(Ot.indexOf(Zt),1),Ws=null,qs({sortable:y,rootEl:b,name:"deselect",targetEl:Zt,originalEvt:d});else{if(Ot.push(Zt),qs({sortable:y,rootEl:b,name:"select",targetEl:Zt,originalEvt:d}),d.shiftKey&&Ws&&y.el.contains(Ws)){var X=gn(Ws),ee=gn(Zt);if(~X&&~ee&&X!==ee){var te,ce;for(ee>X?(ce=X,te=ee):(ce=ee,te=X+1);ce<te;ce++)~Ot.indexOf(re[ce])||(dn(re[ce],U.selectedClass,!0),Ot.push(re[ce]),qs({sortable:y,rootEl:b,name:"select",targetEl:re[ce],originalEvt:d}))}}else Ws=Zt;na=H}if(Wo&&this.isMultiDrag){if((p[tr].options.sort||p!==b)&&Ot.length>1){var be=mn(Zt),le=gn(Zt,":not(."+this.options.selectedClass+")");if(!Ys&&U.animation&&(Zt.thisAnimationDuration=null),H.captureAnimationState(),!Ys&&(U.animation&&(Zt.fromRect=be,Ot.forEach(function(De){if(De.thisAnimationDuration=null,De!==Zt){var j=Sr?mn(De):be;De.fromRect=j,H.addAnimationState({target:De,rect:j})}})),gf(),Ot.forEach(function(De){re[le]?p.insertBefore(De,re[le]):p.appendChild(De),le++}),O===gn(Zt))){var de=!1;Ot.forEach(function(De){if(De.sortableIndex!==gn(De)){de=!0;return}}),de&&E("update")}Ot.forEach(function(De){bp(De)}),H.animateAll()}na=H}(b===p||A&&A.lastPutMode!=="clone")&&Dr.forEach(function(De){De.parentNode&&De.parentNode.removeChild(De)})}},nullingGlobal:function(){this.isMultiDrag=Wo=!1,Dr.length=0},destroyGlobal:function(){this._deselectMultiDrag(),It(document,"pointerup",this._deselectMultiDrag),It(document,"mouseup",this._deselectMultiDrag),It(document,"touchend",this._deselectMultiDrag),It(document,"keydown",this._checkKeyDown),It(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(o){if(!(typeof Wo<"u"&&Wo)&&na===this.sortable&&!(o&&ra(o.target,this.options.draggable,this.sortable.el,!1))&&!(o&&o.button!==0))for(;Ot.length;){var d=Ot[0];dn(d,this.options.selectedClass,!1),Ot.shift(),qs({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:d,originalEvt:o})}},_checkKeyDown:function(o){o.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(o){o.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},Lr(f,{pluginName:"multiDrag",utils:{select:function(o){var d=o.parentNode[tr];!d||!d.options.multiDrag||~Ot.indexOf(o)||(na&&na!==d&&(na.multiDrag._deselectMultiDrag(),na=d),dn(o,d.options.selectedClass,!0),Ot.push(o))},deselect:function(o){var d=o.parentNode[tr],b=Ot.indexOf(o);!d||!d.options.multiDrag||!~b||(dn(o,d.options.selectedClass,!1),Ot.splice(b,1))}},eventProperties:function(){var o=this,d=[],b=[];return Ot.forEach(function(p){d.push({multiDragElement:p,index:p.sortableIndex});var y;Sr&&p!==Zt?y=-1:Sr?y=gn(p,":not(."+o.options.selectedClass+")"):y=gn(p),b.push({multiDragElement:p,index:y})}),{items:QV(Ot),clones:[].concat(Dr),oldIndicies:d,newIndicies:b}},optionListeners:{multiDragKey:function(o){return o=o.toLowerCase(),o==="ctrl"?o="Control":o.length>1&&(o=o.charAt(0).toUpperCase()+o.substr(1)),o}}})}function kH(f,c){Ot.forEach(function(o,d){var b=c.children[o.sortableIndex+(f?Number(d):0)];b?c.insertBefore(o,b):c.appendChild(o)})}function k1(f,c){Dr.forEach(function(o,d){var b=c.children[o.sortableIndex+(f?Number(d):0)];b?c.insertBefore(o,b):c.appendChild(o)})}function gf(){Ot.forEach(function(f){f!==Zt&&f.parentNode&&f.parentNode.removeChild(f)})}yt.mount(new EH);yt.mount(Up,Hp);const OH=Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:DH,Sortable:yt,Swap:SH,default:yt},Symbol.toStringTag,{value:"Module"})),TH=A1(OH);(function(f,c){(function(d,b){f.exports=b(TH)})(typeof self<"u"?self:Xo,function(o){return function(d){var b={};function p(y){if(b[y])return b[y].exports;var E=b[y]={i:y,l:!1,exports:{}};return d[y].call(E.exports,E,E.exports,p),E.l=!0,E.exports}return p.m=d,p.c=b,p.d=function(y,E,O){p.o(y,E)||Object.defineProperty(y,E,{enumerable:!0,get:O})},p.r=function(y){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(y,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(y,"__esModule",{value:!0})},p.t=function(y,E){if(E&1&&(y=p(y)),E&8||E&4&&typeof y=="object"&&y&&y.__esModule)return y;var O=Object.create(null);if(p.r(O),Object.defineProperty(O,"default",{enumerable:!0,value:y}),E&2&&typeof y!="string")for(var A in y)p.d(O,A,(function(H){return y[H]}).bind(null,A));return O},p.n=function(y){var E=y&&y.__esModule?function(){return y.default}:function(){return y};return p.d(E,"a",E),E},p.o=function(y,E){return Object.prototype.hasOwnProperty.call(y,E)},p.p="",p(p.s="fb15")}({"01f9":function(d,b,p){var y=p("2d00"),E=p("5ca1"),O=p("2aba"),A=p("32e9"),H=p("84f2"),U=p("41a0"),re=p("7f20"),X=p("38fd"),ee=p("2b4c")("iterator"),te=!([].keys&&"next"in[].keys()),ce="@@iterator",be="keys",le="values",de=function(){return this};d.exports=function(De,j,ae,P,ge,Ue,pe){U(ae,j,P);var Ke=function(W){if(!te&&W in Ce)return Ce[W];switch(W){case be:return function(){return new ae(this,W)};case le:return function(){return new ae(this,W)}}return function(){return new ae(this,W)}},ye=j+" Iterator",Y=ge==le,Ee=!1,Ce=De.prototype,h=Ce[ee]||Ce[ce]||ge&&Ce[ge],w=h||Ke(ge),B=ge?Y?Ke("entries"):w:void 0,q=j=="Array"&&Ce.entries||h,J,N,M;if(q&&(M=X(q.call(new De)),M!==Object.prototype&&M.next&&(re(M,ye,!0),!y&&typeof M[ee]!="function"&&A(M,ee,de))),Y&&h&&h.name!==le&&(Ee=!0,w=function(){return h.call(this)}),(!y||pe)&&(te||Ee||!Ce[ee])&&A(Ce,ee,w),H[j]=w,H[ye]=de,ge)if(J={values:Y?w:Ke(le),keys:Ue?w:Ke(be),entries:B},pe)for(N in J)N in Ce||O(Ce,N,J[N]);else E(E.P+E.F*(te||Ee),j,J);return J}},"02f4":function(d,b,p){var y=p("4588"),E=p("be13");d.exports=function(O){return function(A,H){var U=String(E(A)),re=y(H),X=U.length,ee,te;return re<0||re>=X?O?"":void 0:(ee=U.charCodeAt(re),ee<55296||ee>56319||re+1===X||(te=U.charCodeAt(re+1))<56320||te>57343?O?U.charAt(re):ee:O?U.slice(re,re+2):(ee-55296<<10)+(te-56320)+65536)}}},"0390":function(d,b,p){var y=p("02f4")(!0);d.exports=function(E,O,A){return O+(A?y(E,O).length:1)}},"0bfb":function(d,b,p){var y=p("cb7c");d.exports=function(){var E=y(this),O="";return E.global&&(O+="g"),E.ignoreCase&&(O+="i"),E.multiline&&(O+="m"),E.unicode&&(O+="u"),E.sticky&&(O+="y"),O}},"0d58":function(d,b,p){var y=p("ce10"),E=p("e11e");d.exports=Object.keys||function(A){return y(A,E)}},1495:function(d,b,p){var y=p("86cc"),E=p("cb7c"),O=p("0d58");d.exports=p("9e1e")?Object.defineProperties:function(H,U){E(H);for(var re=O(U),X=re.length,ee=0,te;X>ee;)y.f(H,te=re[ee++],U[te]);return H}},"214f":function(d,b,p){p("b0c5");var y=p("2aba"),E=p("32e9"),O=p("79e5"),A=p("be13"),H=p("2b4c"),U=p("520a"),re=H("species"),X=!O(function(){var te=/./;return te.exec=function(){var ce=[];return ce.groups={a:"7"},ce},"".replace(te,"$<a>")!=="7"}),ee=function(){var te=/(?:)/,ce=te.exec;te.exec=function(){return ce.apply(this,arguments)};var be="ab".split(te);return be.length===2&&be[0]==="a"&&be[1]==="b"}();d.exports=function(te,ce,be){var le=H(te),de=!O(function(){var Ue={};return Ue[le]=function(){return 7},""[te](Ue)!=7}),De=de?!O(function(){var Ue=!1,pe=/a/;return pe.exec=function(){return Ue=!0,null},te==="split"&&(pe.constructor={},pe.constructor[re]=function(){return pe}),pe[le](""),!Ue}):void 0;if(!de||!De||te==="replace"&&!X||te==="split"&&!ee){var j=/./[le],ae=be(A,le,""[te],function(pe,Ke,ye,Y,Ee){return Ke.exec===U?de&&!Ee?{done:!0,value:j.call(Ke,ye,Y)}:{done:!0,value:pe.call(ye,Ke,Y)}:{done:!1}}),P=ae[0],ge=ae[1];y(String.prototype,te,P),E(RegExp.prototype,le,ce==2?function(Ue,pe){return ge.call(Ue,this,pe)}:function(Ue){return ge.call(Ue,this)})}}},"230e":function(d,b,p){var y=p("d3f4"),E=p("7726").document,O=y(E)&&y(E.createElement);d.exports=function(A){return O?E.createElement(A):{}}},"23c6":function(d,b,p){var y=p("2d95"),E=p("2b4c")("toStringTag"),O=y(function(){return arguments}())=="Arguments",A=function(H,U){try{return H[U]}catch{}};d.exports=function(H){var U,re,X;return H===void 0?"Undefined":H===null?"Null":typeof(re=A(U=Object(H),E))=="string"?re:O?y(U):(X=y(U))=="Object"&&typeof U.callee=="function"?"Arguments":X}},2621:function(d,b){b.f=Object.getOwnPropertySymbols},"2aba":function(d,b,p){var y=p("7726"),E=p("32e9"),O=p("69a8"),A=p("ca5a")("src"),H=p("fa5b"),U="toString",re=(""+H).split(U);p("8378").inspectSource=function(X){return H.call(X)},(d.exports=function(X,ee,te,ce){var be=typeof te=="function";be&&(O(te,"name")||E(te,"name",ee)),X[ee]!==te&&(be&&(O(te,A)||E(te,A,X[ee]?""+X[ee]:re.join(String(ee)))),X===y?X[ee]=te:ce?X[ee]?X[ee]=te:E(X,ee,te):(delete X[ee],E(X,ee,te)))})(Function.prototype,U,function(){return typeof this=="function"&&this[A]||H.call(this)})},"2aeb":function(d,b,p){var y=p("cb7c"),E=p("1495"),O=p("e11e"),A=p("613b")("IE_PROTO"),H=function(){},U="prototype",re=function(){var X=p("230e")("iframe"),ee=O.length,te="<",ce=">",be;for(X.style.display="none",p("fab2").appendChild(X),X.src="javascript:",be=X.contentWindow.document,be.open(),be.write(te+"script"+ce+"document.F=Object"+te+"/script"+ce),be.close(),re=be.F;ee--;)delete re[U][O[ee]];return re()};d.exports=Object.create||function(ee,te){var ce;return ee!==null?(H[U]=y(ee),ce=new H,H[U]=null,ce[A]=ee):ce=re(),te===void 0?ce:E(ce,te)}},"2b4c":function(d,b,p){var y=p("5537")("wks"),E=p("ca5a"),O=p("7726").Symbol,A=typeof O=="function",H=d.exports=function(U){return y[U]||(y[U]=A&&O[U]||(A?O:E)("Symbol."+U))};H.store=y},"2d00":function(d,b){d.exports=!1},"2d95":function(d,b){var p={}.toString;d.exports=function(y){return p.call(y).slice(8,-1)}},"2fdb":function(d,b,p){var y=p("5ca1"),E=p("d2c8"),O="includes";y(y.P+y.F*p("5147")(O),"String",{includes:function(H){return!!~E(this,H,O).indexOf(H,arguments.length>1?arguments[1]:void 0)}})},"32e9":function(d,b,p){var y=p("86cc"),E=p("4630");d.exports=p("9e1e")?function(O,A,H){return y.f(O,A,E(1,H))}:function(O,A,H){return O[A]=H,O}},"38fd":function(d,b,p){var y=p("69a8"),E=p("4bf8"),O=p("613b")("IE_PROTO"),A=Object.prototype;d.exports=Object.getPrototypeOf||function(H){return H=E(H),y(H,O)?H[O]:typeof H.constructor=="function"&&H instanceof H.constructor?H.constructor.prototype:H instanceof Object?A:null}},"41a0":function(d,b,p){var y=p("2aeb"),E=p("4630"),O=p("7f20"),A={};p("32e9")(A,p("2b4c")("iterator"),function(){return this}),d.exports=function(H,U,re){H.prototype=y(A,{next:E(1,re)}),O(H,U+" Iterator")}},"456d":function(d,b,p){var y=p("4bf8"),E=p("0d58");p("5eda")("keys",function(){return function(A){return E(y(A))}})},4588:function(d,b){var p=Math.ceil,y=Math.floor;d.exports=function(E){return isNaN(E=+E)?0:(E>0?y:p)(E)}},4630:function(d,b){d.exports=function(p,y){return{enumerable:!(p&1),configurable:!(p&2),writable:!(p&4),value:y}}},"4bf8":function(d,b,p){var y=p("be13");d.exports=function(E){return Object(y(E))}},5147:function(d,b,p){var y=p("2b4c")("match");d.exports=function(E){var O=/./;try{"/./"[E](O)}catch{try{return O[y]=!1,!"/./"[E](O)}catch{}}return!0}},"520a":function(d,b,p){var y=p("0bfb"),E=RegExp.prototype.exec,O=String.prototype.replace,A=E,H="lastIndex",U=function(){var ee=/a/,te=/b*/g;return E.call(ee,"a"),E.call(te,"a"),ee[H]!==0||te[H]!==0}(),re=/()??/.exec("")[1]!==void 0,X=U||re;X&&(A=function(te){var ce=this,be,le,de,De;return re&&(le=new RegExp("^"+ce.source+"$(?!\\s)",y.call(ce))),U&&(be=ce[H]),de=E.call(ce,te),U&&de&&(ce[H]=ce.global?de.index+de[0].length:be),re&&de&&de.length>1&&O.call(de[0],le,function(){for(De=1;De<arguments.length-2;De++)arguments[De]===void 0&&(de[De]=void 0)}),de}),d.exports=A},"52a7":function(d,b){b.f={}.propertyIsEnumerable},5537:function(d,b,p){var y=p("8378"),E=p("7726"),O="__core-js_shared__",A=E[O]||(E[O]={});(d.exports=function(H,U){return A[H]||(A[H]=U!==void 0?U:{})})("versions",[]).push({version:y.version,mode:p("2d00")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},"5ca1":function(d,b,p){var y=p("7726"),E=p("8378"),O=p("32e9"),A=p("2aba"),H=p("9b43"),U="prototype",re=function(X,ee,te){var ce=X&re.F,be=X&re.G,le=X&re.S,de=X&re.P,De=X&re.B,j=be?y:le?y[ee]||(y[ee]={}):(y[ee]||{})[U],ae=be?E:E[ee]||(E[ee]={}),P=ae[U]||(ae[U]={}),ge,Ue,pe,Ke;be&&(te=ee);for(ge in te)Ue=!ce&&j&&j[ge]!==void 0,pe=(Ue?j:te)[ge],Ke=De&&Ue?H(pe,y):de&&typeof pe=="function"?H(Function.call,pe):pe,j&&A(j,ge,pe,X&re.U),ae[ge]!=pe&&O(ae,ge,Ke),de&&P[ge]!=pe&&(P[ge]=pe)};y.core=E,re.F=1,re.G=2,re.S=4,re.P=8,re.B=16,re.W=32,re.U=64,re.R=128,d.exports=re},"5eda":function(d,b,p){var y=p("5ca1"),E=p("8378"),O=p("79e5");d.exports=function(A,H){var U=(E.Object||{})[A]||Object[A],re={};re[A]=H(U),y(y.S+y.F*O(function(){U(1)}),"Object",re)}},"5f1b":function(d,b,p){var y=p("23c6"),E=RegExp.prototype.exec;d.exports=function(O,A){var H=O.exec;if(typeof H=="function"){var U=H.call(O,A);if(typeof U!="object")throw new TypeError("RegExp exec method returned something other than an Object or null");return U}if(y(O)!=="RegExp")throw new TypeError("RegExp#exec called on incompatible receiver");return E.call(O,A)}},"613b":function(d,b,p){var y=p("5537")("keys"),E=p("ca5a");d.exports=function(O){return y[O]||(y[O]=E(O))}},"626a":function(d,b,p){var y=p("2d95");d.exports=Object("z").propertyIsEnumerable(0)?Object:function(E){return y(E)=="String"?E.split(""):Object(E)}},6762:function(d,b,p){var y=p("5ca1"),E=p("c366")(!0);y(y.P,"Array",{includes:function(A){return E(this,A,arguments.length>1?arguments[1]:void 0)}}),p("9c6c")("includes")},6821:function(d,b,p){var y=p("626a"),E=p("be13");d.exports=function(O){return y(E(O))}},"69a8":function(d,b){var p={}.hasOwnProperty;d.exports=function(y,E){return p.call(y,E)}},"6a99":function(d,b,p){var y=p("d3f4");d.exports=function(E,O){if(!y(E))return E;var A,H;if(O&&typeof(A=E.toString)=="function"&&!y(H=A.call(E))||typeof(A=E.valueOf)=="function"&&!y(H=A.call(E))||!O&&typeof(A=E.toString)=="function"&&!y(H=A.call(E)))return H;throw TypeError("Can't convert object to primitive value")}},7333:function(d,b,p){var y=p("0d58"),E=p("2621"),O=p("52a7"),A=p("4bf8"),H=p("626a"),U=Object.assign;d.exports=!U||p("79e5")(function(){var re={},X={},ee=Symbol(),te="abcdefghijklmnopqrst";return re[ee]=7,te.split("").forEach(function(ce){X[ce]=ce}),U({},re)[ee]!=7||Object.keys(U({},X)).join("")!=te})?function(X,ee){for(var te=A(X),ce=arguments.length,be=1,le=E.f,de=O.f;ce>be;)for(var De=H(arguments[be++]),j=le?y(De).concat(le(De)):y(De),ae=j.length,P=0,ge;ae>P;)de.call(De,ge=j[P++])&&(te[ge]=De[ge]);return te}:U},7726:function(d,b){var p=d.exports=typeof window<"u"&&window.Math==Math?window:typeof self<"u"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=p)},"77f1":function(d,b,p){var y=p("4588"),E=Math.max,O=Math.min;d.exports=function(A,H){return A=y(A),A<0?E(A+H,0):O(A,H)}},"79e5":function(d,b){d.exports=function(p){try{return!!p()}catch{return!0}}},"7f20":function(d,b,p){var y=p("86cc").f,E=p("69a8"),O=p("2b4c")("toStringTag");d.exports=function(A,H,U){A&&!E(A=U?A:A.prototype,O)&&y(A,O,{configurable:!0,value:H})}},8378:function(d,b){var p=d.exports={version:"2.6.5"};typeof __e=="number"&&(__e=p)},"84f2":function(d,b){d.exports={}},"86cc":function(d,b,p){var y=p("cb7c"),E=p("c69a"),O=p("6a99"),A=Object.defineProperty;b.f=p("9e1e")?Object.defineProperty:function(U,re,X){if(y(U),re=O(re,!0),y(X),E)try{return A(U,re,X)}catch{}if("get"in X||"set"in X)throw TypeError("Accessors not supported!");return"value"in X&&(U[re]=X.value),U}},"9b43":function(d,b,p){var y=p("d8e8");d.exports=function(E,O,A){if(y(E),O===void 0)return E;switch(A){case 1:return function(H){return E.call(O,H)};case 2:return function(H,U){return E.call(O,H,U)};case 3:return function(H,U,re){return E.call(O,H,U,re)}}return function(){return E.apply(O,arguments)}}},"9c6c":function(d,b,p){var y=p("2b4c")("unscopables"),E=Array.prototype;E[y]==null&&p("32e9")(E,y,{}),d.exports=function(O){E[y][O]=!0}},"9def":function(d,b,p){var y=p("4588"),E=Math.min;d.exports=function(O){return O>0?E(y(O),9007199254740991):0}},"9e1e":function(d,b,p){d.exports=!p("79e5")(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},a352:function(d,b){d.exports=o},a481:function(d,b,p){var y=p("cb7c"),E=p("4bf8"),O=p("9def"),A=p("4588"),H=p("0390"),U=p("5f1b"),re=Math.max,X=Math.min,ee=Math.floor,te=/\$([$&`']|\d\d?|<[^>]*>)/g,ce=/\$([$&`']|\d\d?)/g,be=function(le){return le===void 0?le:String(le)};p("214f")("replace",2,function(le,de,De,j){return[function(ge,Ue){var pe=le(this),Ke=ge==null?void 0:ge[de];return Ke!==void 0?Ke.call(ge,pe,Ue):De.call(String(pe),ge,Ue)},function(P,ge){var Ue=j(De,P,this,ge);if(Ue.done)return Ue.value;var pe=y(P),Ke=String(this),ye=typeof ge=="function";ye||(ge=String(ge));var Y=pe.global;if(Y){var Ee=pe.unicode;pe.lastIndex=0}for(var Ce=[];;){var h=U(pe,Ke);if(h===null||(Ce.push(h),!Y))break;var w=String(h[0]);w===""&&(pe.lastIndex=H(Ke,O(pe.lastIndex),Ee))}for(var B="",q=0,J=0;J<Ce.length;J++){h=Ce[J];for(var N=String(h[0]),M=re(X(A(h.index),Ke.length),0),W=[],ke=1;ke<h.length;ke++)W.push(be(h[ke]));var Ae=h.groups;if(ye){var oe=[N].concat(W,M,Ke);Ae!==void 0&&oe.push(Ae);var S=String(ge.apply(void 0,oe))}else S=ae(N,Ke,M,W,Ae,ge);M>=q&&(B+=Ke.slice(q,M)+S,q=M+N.length)}return B+Ke.slice(q)}];function ae(P,ge,Ue,pe,Ke,ye){var Y=Ue+P.length,Ee=pe.length,Ce=ce;return Ke!==void 0&&(Ke=E(Ke),Ce=te),De.call(ye,Ce,function(h,w){var B;switch(w.charAt(0)){case"$":return"$";case"&":return P;case"`":return ge.slice(0,Ue);case"'":return ge.slice(Y);case"<":B=Ke[w.slice(1,-1)];break;default:var q=+w;if(q===0)return h;if(q>Ee){var J=ee(q/10);return J===0?h:J<=Ee?pe[J-1]===void 0?w.charAt(1):pe[J-1]+w.charAt(1):h}B=pe[q-1]}return B===void 0?"":B})}})},aae3:function(d,b,p){var y=p("d3f4"),E=p("2d95"),O=p("2b4c")("match");d.exports=function(A){var H;return y(A)&&((H=A[O])!==void 0?!!H:E(A)=="RegExp")}},ac6a:function(d,b,p){for(var y=p("cadf"),E=p("0d58"),O=p("2aba"),A=p("7726"),H=p("32e9"),U=p("84f2"),re=p("2b4c"),X=re("iterator"),ee=re("toStringTag"),te=U.Array,ce={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},be=E(ce),le=0;le<be.length;le++){var de=be[le],De=ce[de],j=A[de],ae=j&&j.prototype,P;if(ae&&(ae[X]||H(ae,X,te),ae[ee]||H(ae,ee,de),U[de]=te,De))for(P in y)ae[P]||O(ae,P,y[P],!0)}},b0c5:function(d,b,p){var y=p("520a");p("5ca1")({target:"RegExp",proto:!0,forced:y!==/./.exec},{exec:y})},be13:function(d,b){d.exports=function(p){if(p==null)throw TypeError("Can't call method on  "+p);return p}},c366:function(d,b,p){var y=p("6821"),E=p("9def"),O=p("77f1");d.exports=function(A){return function(H,U,re){var X=y(H),ee=E(X.length),te=O(re,ee),ce;if(A&&U!=U){for(;ee>te;)if(ce=X[te++],ce!=ce)return!0}else for(;ee>te;te++)if((A||te in X)&&X[te]===U)return A||te||0;return!A&&-1}}},c649:function(d,b,p){(function(y){p.d(b,"c",function(){return X}),p.d(b,"a",function(){return U}),p.d(b,"b",function(){return O}),p.d(b,"d",function(){return re}),p("a481");function E(){return typeof window<"u"?window.console:y.console}var O=E();function A(ee){var te=Object.create(null);return function(be){var le=te[be];return le||(te[be]=ee(be))}}var H=/-(\w)/g,U=A(function(ee){return ee.replace(H,function(te,ce){return ce?ce.toUpperCase():""})});function re(ee){ee.parentElement!==null&&ee.parentElement.removeChild(ee)}function X(ee,te,ce){var be=ce===0?ee.children[0]:ee.children[ce-1].nextSibling;ee.insertBefore(te,be)}}).call(this,p("c8ba"))},c69a:function(d,b,p){d.exports=!p("9e1e")&&!p("79e5")(function(){return Object.defineProperty(p("230e")("div"),"a",{get:function(){return 7}}).a!=7})},c8ba:function(d,b){var p;p=function(){return this}();try{p=p||new Function("return this")()}catch{typeof window=="object"&&(p=window)}d.exports=p},ca5a:function(d,b){var p=0,y=Math.random();d.exports=function(E){return"Symbol(".concat(E===void 0?"":E,")_",(++p+y).toString(36))}},cadf:function(d,b,p){var y=p("9c6c"),E=p("d53b"),O=p("84f2"),A=p("6821");d.exports=p("01f9")(Array,"Array",function(H,U){this._t=A(H),this._i=0,this._k=U},function(){var H=this._t,U=this._k,re=this._i++;return!H||re>=H.length?(this._t=void 0,E(1)):U=="keys"?E(0,re):U=="values"?E(0,H[re]):E(0,[re,H[re]])},"values"),O.Arguments=O.Array,y("keys"),y("values"),y("entries")},cb7c:function(d,b,p){var y=p("d3f4");d.exports=function(E){if(!y(E))throw TypeError(E+" is not an object!");return E}},ce10:function(d,b,p){var y=p("69a8"),E=p("6821"),O=p("c366")(!1),A=p("613b")("IE_PROTO");d.exports=function(H,U){var re=E(H),X=0,ee=[],te;for(te in re)te!=A&&y(re,te)&&ee.push(te);for(;U.length>X;)y(re,te=U[X++])&&(~O(ee,te)||ee.push(te));return ee}},d2c8:function(d,b,p){var y=p("aae3"),E=p("be13");d.exports=function(O,A,H){if(y(A))throw TypeError("String#"+H+" doesn't accept regex!");return String(E(O))}},d3f4:function(d,b){d.exports=function(p){return typeof p=="object"?p!==null:typeof p=="function"}},d53b:function(d,b){d.exports=function(p,y){return{value:y,done:!!p}}},d8e8:function(d,b){d.exports=function(p){if(typeof p!="function")throw TypeError(p+" is not a function!");return p}},e11e:function(d,b){d.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},f559:function(d,b,p){var y=p("5ca1"),E=p("9def"),O=p("d2c8"),A="startsWith",H=""[A];y(y.P+y.F*p("5147")(A),"String",{startsWith:function(re){var X=O(this,re,A),ee=E(Math.min(arguments.length>1?arguments[1]:void 0,X.length)),te=String(re);return H?H.call(X,te,ee):X.slice(ee,ee+te.length)===te}})},f6fd:function(d,b){(function(p){var y="currentScript",E=p.getElementsByTagName("script");y in p||Object.defineProperty(p,y,{get:function(){try{throw new Error}catch(H){var O,A=(/.*at [^\(]*\((.*):.+:.+\)$/ig.exec(H.stack)||[!1])[1];for(O in E)if(E[O].src==A||E[O].readyState=="interactive")return E[O];return null}}})})(document)},f751:function(d,b,p){var y=p("5ca1");y(y.S+y.F,"Object",{assign:p("7333")})},fa5b:function(d,b,p){d.exports=p("5537")("native-function-to-string",Function.toString)},fab2:function(d,b,p){var y=p("7726").document;d.exports=y&&y.documentElement},fb15:function(d,b,p){if(p.r(b),typeof window<"u"){p("f6fd");var y;(y=window.document.currentScript)&&(y=y.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(p.p=y[1])}p("f751"),p("f559"),p("ac6a"),p("cadf"),p("456d");function E(N){if(Array.isArray(N))return N}function O(N,M){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(N)))){var W=[],ke=!0,Ae=!1,oe=void 0;try{for(var S=N[Symbol.iterator](),tt;!(ke=(tt=S.next()).done)&&(W.push(tt.value),!(M&&W.length===M));ke=!0);}catch(Ct){Ae=!0,oe=Ct}finally{try{!ke&&S.return!=null&&S.return()}finally{if(Ae)throw oe}}return W}}function A(N,M){(M==null||M>N.length)&&(M=N.length);for(var W=0,ke=new Array(M);W<M;W++)ke[W]=N[W];return ke}function H(N,M){if(N){if(typeof N=="string")return A(N,M);var W=Object.prototype.toString.call(N).slice(8,-1);if(W==="Object"&&N.constructor&&(W=N.constructor.name),W==="Map"||W==="Set")return Array.from(N);if(W==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(W))return A(N,M)}}function U(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function re(N,M){return E(N)||O(N,M)||H(N,M)||U()}p("6762"),p("2fdb");function X(N){if(Array.isArray(N))return A(N)}function ee(N){if(typeof Symbol<"u"&&Symbol.iterator in Object(N))return Array.from(N)}function te(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ce(N){return X(N)||ee(N)||H(N)||te()}var be=p("a352"),le=p.n(be),de=p("c649");function De(N,M,W){return W===void 0||(N=N||{},N[M]=W),N}function j(N,M){return N.map(function(W){return W.elm}).indexOf(M)}function ae(N,M,W,ke){if(!N)return[];var Ae=N.map(function(tt){return tt.elm}),oe=M.length-ke,S=ce(M).map(function(tt,Ct){return Ct>=oe?Ae.length:Ae.indexOf(tt)});return W?S.filter(function(tt){return tt!==-1}):S}function P(N,M){var W=this;this.$nextTick(function(){return W.$emit(N.toLowerCase(),M)})}function ge(N){var M=this;return function(W){M.realList!==null&&M["onDrag"+N](W),P.call(M,N,W)}}function Ue(N){return["transition-group","TransitionGroup"].includes(N)}function pe(N){if(!N||N.length!==1)return!1;var M=re(N,1),W=M[0].componentOptions;return W?Ue(W.tag):!1}function Ke(N,M,W){return N[W]||(M[W]?M[W]():void 0)}function ye(N,M,W){var ke=0,Ae=0,oe=Ke(M,W,"header");oe&&(ke=oe.length,N=N?[].concat(ce(oe),ce(N)):ce(oe));var S=Ke(M,W,"footer");return S&&(Ae=S.length,N=N?[].concat(ce(N),ce(S)):ce(S)),{children:N,headerOffset:ke,footerOffset:Ae}}function Y(N,M){var W=null,ke=function(Bt,Rt){W=De(W,Bt,Rt)},Ae=Object.keys(N).filter(function(Ct){return Ct==="id"||Ct.startsWith("data-")}).reduce(function(Ct,Bt){return Ct[Bt]=N[Bt],Ct},{});if(ke("attrs",Ae),!M)return W;var oe=M.on,S=M.props,tt=M.attrs;return ke("on",oe),ke("props",S),Object.assign(W.attrs,tt),W}var Ee=["Start","Add","Remove","Update","End"],Ce=["Choose","Unchoose","Sort","Filter","Clone"],h=["Move"].concat(Ee,Ce).map(function(N){return"on"+N}),w=null,B={options:Object,list:{type:Array,required:!1,default:null},value:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:function(M){return M}},element:{type:String,default:"div"},tag:{type:String,default:null},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},q={name:"draggable",inheritAttrs:!1,props:B,data:function(){return{transitionMode:!1,noneFunctionalComponentMode:!1}},render:function(M){var W=this.$slots.default;this.transitionMode=pe(W);var ke=ye(W,this.$slots,this.$scopedSlots),Ae=ke.children,oe=ke.headerOffset,S=ke.footerOffset;this.headerOffset=oe,this.footerOffset=S;var tt=Y(this.$attrs,this.componentData);return M(this.getTag(),tt,Ae)},created:function(){this.list!==null&&this.value!==null&&de.b.error("Value and list props are mutually exclusive! Please set one or another."),this.element!=="div"&&de.b.warn("Element props is deprecated please use tag props instead. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#element-props"),this.options!==void 0&&de.b.warn("Options props is deprecated, add sortable options directly as vue.draggable item, or use v-bind. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#options-props")},mounted:function(){var M=this;if(this.noneFunctionalComponentMode=this.getTag().toLowerCase()!==this.$el.nodeName.toLowerCase()&&!this.getIsFunctional(),this.noneFunctionalComponentMode&&this.transitionMode)throw new Error("Transition-group inside component is not supported. Please alter tag value or remove transition-group. Current tag value: ".concat(this.getTag()));var W={};Ee.forEach(function(oe){W["on"+oe]=ge.call(M,oe)}),Ce.forEach(function(oe){W["on"+oe]=P.bind(M,oe)});var ke=Object.keys(this.$attrs).reduce(function(oe,S){return oe[Object(de.a)(S)]=M.$attrs[S],oe},{}),Ae=Object.assign({},this.options,ke,W,{onMove:function(S,tt){return M.onDragMove(S,tt)}});!("draggable"in Ae)&&(Ae.draggable=">*"),this._sortable=new le.a(this.rootContainer,Ae),this.computeIndexes()},beforeDestroy:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{rootContainer:function(){return this.transitionMode?this.$el.children[0]:this.$el},realList:function(){return this.list?this.list:this.value}},watch:{options:{handler:function(M){this.updateOptions(M)},deep:!0},$attrs:{handler:function(M){this.updateOptions(M)},deep:!0},realList:function(){this.computeIndexes()}},methods:{getIsFunctional:function(){var M=this._vnode.fnOptions;return M&&M.functional},getTag:function(){return this.tag||this.element},updateOptions:function(M){for(var W in M){var ke=Object(de.a)(W);h.indexOf(ke)===-1&&this._sortable.option(ke,M[W])}},getChildrenNodes:function(){if(this.noneFunctionalComponentMode)return this.$children[0].$slots.default;var M=this.$slots.default;return this.transitionMode?M[0].child.$slots.default:M},computeIndexes:function(){var M=this;this.$nextTick(function(){M.visibleIndexes=ae(M.getChildrenNodes(),M.rootContainer.children,M.transitionMode,M.footerOffset)})},getUnderlyingVm:function(M){var W=j(this.getChildrenNodes()||[],M);if(W===-1)return null;var ke=this.realList[W];return{index:W,element:ke}},getUnderlyingPotencialDraggableComponent:function(M){var W=M.__vue__;return!W||!W.$options||!Ue(W.$options._componentTag)?!("realList"in W)&&W.$children.length===1&&"realList"in W.$children[0]?W.$children[0]:W:W.$parent},emitChanges:function(M){var W=this;this.$nextTick(function(){W.$emit("change",M)})},alterList:function(M){if(this.list){M(this.list);return}var W=ce(this.value);M(W),this.$emit("input",W)},spliceList:function(){var M=arguments,W=function(Ae){return Ae.splice.apply(Ae,ce(M))};this.alterList(W)},updatePosition:function(M,W){var ke=function(oe){return oe.splice(W,0,oe.splice(M,1)[0])};this.alterList(ke)},getRelatedContextFromMoveEvent:function(M){var W=M.to,ke=M.related,Ae=this.getUnderlyingPotencialDraggableComponent(W);if(!Ae)return{component:Ae};var oe=Ae.realList,S={list:oe,component:Ae};if(W!==ke&&oe&&Ae.getUnderlyingVm){var tt=Ae.getUnderlyingVm(ke);if(tt)return Object.assign(tt,S)}return S},getVmIndex:function(M){var W=this.visibleIndexes,ke=W.length;return M>ke-1?ke:W[M]},getComponent:function(){return this.$slots.default[0].componentInstance},resetTransitionData:function(M){if(!(!this.noTransitionOnDrag||!this.transitionMode)){var W=this.getChildrenNodes();W[M].data=null;var ke=this.getComponent();ke.children=[],ke.kept=void 0}},onDragStart:function(M){this.context=this.getUnderlyingVm(M.item),M.item._underlying_vm_=this.clone(this.context.element),w=M.item},onDragAdd:function(M){var W=M.item._underlying_vm_;if(W!==void 0){Object(de.d)(M.item);var ke=this.getVmIndex(M.newIndex);this.spliceList(ke,0,W),this.computeIndexes();var Ae={element:W,newIndex:ke};this.emitChanges({added:Ae})}},onDragRemove:function(M){if(Object(de.c)(this.rootContainer,M.item,M.oldIndex),M.pullMode==="clone"){Object(de.d)(M.clone);return}var W=this.context.index;this.spliceList(W,1);var ke={element:this.context.element,oldIndex:W};this.resetTransitionData(W),this.emitChanges({removed:ke})},onDragUpdate:function(M){Object(de.d)(M.item),Object(de.c)(M.from,M.item,M.oldIndex);var W=this.context.index,ke=this.getVmIndex(M.newIndex);this.updatePosition(W,ke);var Ae={element:this.context.element,oldIndex:W,newIndex:ke};this.emitChanges({moved:Ae})},updateProperty:function(M,W){M.hasOwnProperty(W)&&(M[W]+=this.headerOffset)},computeFutureIndex:function(M,W){if(!M.element)return 0;var ke=ce(W.to.children).filter(function(tt){return tt.style.display!=="none"}),Ae=ke.indexOf(W.related),oe=M.component.getVmIndex(Ae),S=ke.indexOf(w)!==-1;return S||!W.willInsertAfter?oe:oe+1},onDragMove:function(M,W){var ke=this.move;if(!ke||!this.realList)return!0;var Ae=this.getRelatedContextFromMoveEvent(M),oe=this.context,S=this.computeFutureIndex(Ae,M);Object.assign(oe,{futureIndex:S});var tt=Object.assign({},M,{relatedContext:Ae,draggedContext:oe});return ke(tt,W)},onDragEnd:function(){this.computeIndexes(),w=null}}};typeof window<"u"&&"Vue"in window&&window.Vue.component("draggable",q);var J=q;b.default=J}}).default})})(I1);var AH=I1.exports;const NH=au(AH);var W1={exports:{}};(function(f,c){(function(o,d){f.exports=d(WV)})(Xo,function(o){return function(d){function b(y){if(p[y])return p[y].exports;var E=p[y]={i:y,l:!1,exports:{}};return d[y].call(E.exports,E,E.exports,b),E.l=!0,E.exports}var p={};return b.m=d,b.c=p,b.i=function(y){return y},b.d=function(y,E,O){b.o(y,E)||Object.defineProperty(y,E,{configurable:!1,enumerable:!0,get:O})},b.n=function(y){var E=y&&y.__esModule?function(){return y.default}:function(){return y};return b.d(E,"a",E),E},b.o=function(y,E){return Object.prototype.hasOwnProperty.call(y,E)},b.p="",b(b.s=10)}([function(d,b){d.exports=o},function(d,b,p){function y(X){return X&&X.__esModule?X:{default:X}}function E(X){return X.map(function(ee){return{text:ee.text,value:ee.value}})}Object.defineProperty(b,"__esModule",{value:!0});var O=Object.assign||function(X){for(var ee=1;ee<arguments.length;ee++){var te=arguments[ee];for(var ce in te)Object.prototype.hasOwnProperty.call(te,ce)&&(X[ce]=te[ce])}return X},A=p(0),H=y(A),U=p(4),re=y(U);(0,H.default)().selectize||p(8),b.default={props:{value:{default:""},settings:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!1}},data:function(){return{options:[],createdOptions:[]}},mounted:function(){var X=this,ee=this;if(this.settings.create){var te=this.settings.create;this.settings.create=function(ce,be){var le=null;return le=te===!0?{text:ce,value:ce}:te(ce,be),ee.createdOptions.push(le),le}}(0,H.default)(this.$el).selectize(O({onInitialize:function(){X.setValue()},onChange:function(ce){X.$emit("input",ce)}},this.settings)),this.makeOptions(!0),this.toggleDisabled(this.disabled)},destroyed:function(){this.$el.selectize&&this.$el.selectize.destroy()},watch:{value:function(X,ee){(0,re.default)(X,ee)||this.setValue()},disabled:function(X){this.toggleDisabled(X)}},methods:{toggleDisabled:function(X){X?this.$el.selectize.disable():this.$el.selectize.enable()},makeOptions:function(){var X=this,ee=arguments.length>0&&arguments[0]!==void 0&&arguments[0],te=this.options,ce=[],be=this.$slots.default;if(this.settings.options===void 0&&be&&(ce=be.filter(function(de){return de.tag&&de.tag.toLowerCase()==="option"}).map(function(de){return{text:de.children?de.children[0].text.trim():null,value:de.data.domProps?de.data.domProps.value:de.data.attrs.value}}).concat(this.createdOptions)),!(0,re.default)(E(te),E(ce))&&(this.options=ce,!ee)){this.$el.selectize.clearOptions();var le=this.options.map(function(de){return de.value});Object.keys(this.$el.selectize.options).map(function(de){return X.$el.selectize.options[de]}).filter(function(de){return le.every(function(De){return!(0,re.default)(De,de.value)})}).forEach(function(de){return X.$el.selectize.removeOption(de.value)}),this.$el.selectize.addOption(this.options),this.$el.selectize.refreshOptions(!1),this.setValue()}},setValue:function(){this.$el.selectize.setValue(this.value,!0)}},beforeUpdate:function(){this.makeOptions()}}},function(d,b){d.exports=function(p,y,E,O){var A,H=p=p||{},U=typeof p.default;U!=="object"&&U!=="function"||(A=p,H=p.default);var re=typeof H=="function"?H.options:H;if(y&&(re.render=y.render,re.staticRenderFns=y.staticRenderFns),E&&(re._scopeId=E),O){var X=Object.create(re.computed||null);Object.keys(O).forEach(function(ee){var te=O[ee];X[ee]=function(){return te}}),re.computed=X}return{esModule:A,exports:H,options:re}}},function(d,b){d.exports={render:function(){var p=this,y=p.$createElement;return(p._self._c||y)("select",[p._t("default")],2)},staticRenderFns:[]}},function(d,b,p){function y(X){return X==null}function E(X){return!(!X||typeof X!="object"||typeof X.length!="number")&&typeof X.copy=="function"&&typeof X.slice=="function"&&!(X.length>0&&typeof X[0]!="number")}function O(X,ee,te){var ce,be;if(y(X)||y(ee)||X.prototype!==ee.prototype)return!1;if(U(X))return!!U(ee)&&(X=A.call(X),ee=A.call(ee),re(X,ee,te));if(E(X)){if(!E(ee)||X.length!==ee.length)return!1;for(ce=0;ce<X.length;ce++)if(X[ce]!==ee[ce])return!1;return!0}try{var le=H(X),de=H(ee)}catch{return!1}if(le.length!=de.length)return!1;for(le.sort(),de.sort(),ce=le.length-1;ce>=0;ce--)if(le[ce]!=de[ce])return!1;for(ce=le.length-1;ce>=0;ce--)if(be=le[ce],!re(X[be],ee[be],te))return!1;return typeof X==typeof ee}var A=Array.prototype.slice,H=p(6),U=p(5),re=d.exports=function(X,ee,te){return te||(te={}),X===ee||(X instanceof Date&&ee instanceof Date?X.getTime()===ee.getTime():!X||!ee||typeof X!="object"&&typeof ee!="object"?te.strict?X===ee:X==ee:O(X,ee,te))}},function(d,b){function p(O){return Object.prototype.toString.call(O)=="[object Arguments]"}function y(O){return O&&typeof O=="object"&&typeof O.length=="number"&&Object.prototype.hasOwnProperty.call(O,"callee")&&!Object.prototype.propertyIsEnumerable.call(O,"callee")||!1}var E=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";b=d.exports=E?p:y,b.supported=p,b.unsupported=y},function(d,b){function p(y){var E=[];for(var O in y)E.push(O);return E}b=d.exports=typeof Object.keys=="function"?Object.keys:p,b.shim=p},function(d,b,p){var y,E;(function(O,A){y=A,(E=typeof y=="function"?y.call(b,p,b,d):y)!==void 0&&(d.exports=E)})(0,function(){var O={};O.mixin=function(H){H.plugins={},H.prototype.initializePlugins=function(U){var re,X,ee,te=this,ce=[];if(te.plugins={names:[],settings:{},requested:{},loaded:{}},A.isArray(U))for(re=0,X=U.length;re<X;re++)typeof U[re]=="string"?ce.push(U[re]):(te.plugins.settings[U[re].name]=U[re].options,ce.push(U[re].name));else if(U)for(ee in U)U.hasOwnProperty(ee)&&(te.plugins.settings[ee]=U[ee],ce.push(ee));for(;ce.length;)te.require(ce.shift())},H.prototype.loadPlugin=function(U){var re=this,X=re.plugins,ee=H.plugins[U];if(!H.plugins.hasOwnProperty(U))throw new Error('Unable to find "'+U+'" plugin');X.requested[U]=!0,X.loaded[U]=ee.fn.apply(re,[re.plugins.settings[U]||{}]),X.names.push(U)},H.prototype.require=function(U){var re=this,X=re.plugins;if(!re.plugins.loaded.hasOwnProperty(U)){if(X.requested[U])throw new Error('Plugin has circular dependency ("'+U+'")');re.loadPlugin(U)}return X.loaded[U]},H.define=function(U,re){H.plugins[U]={name:U,fn:re}}};var A={isArray:Array.isArray||function(H){return Object.prototype.toString.call(H)==="[object Array]"}};return O})},function(d,b,p){var y,E,O;(function(A,H){E=[p(0),p(9),p(7)],y=H,(O=typeof y=="function"?y.apply(b,E):y)!==void 0&&(d.exports=O)})(0,function(A,H,U){var re=function(h,w){if(typeof w!="string"||w.length){var B=typeof w=="string"?new RegExp(w,"i"):w,q=function(J){var N=0;if(J.nodeType===3){var M=J.data.search(B);if(M>=0&&J.data.length>0){var W=J.data.match(B),ke=document.createElement("span");ke.className="highlight";var Ae=J.splitText(M),oe=(Ae.splitText(W[0].length),Ae.cloneNode(!0));ke.appendChild(oe),Ae.parentNode.replaceChild(ke,Ae),N=1}}else if(J.nodeType===1&&J.childNodes&&!/(script|style)/i.test(J.tagName))for(var S=0;S<J.childNodes.length;++S)S+=q(J.childNodes[S]);return N};return h.each(function(){q(this)})}};A.fn.removeHighlight=function(){return this.find("span.highlight").each(function(){this.parentNode.firstChild.nodeName;var h=this.parentNode;h.replaceChild(this.firstChild,this),h.normalize()}).end()};var X=function(){};X.prototype={on:function(h,w){this._events=this._events||{},this._events[h]=this._events[h]||[],this._events[h].push(w)},off:function(h,w){var B=arguments.length;return B===0?delete this._events:B===1?delete this._events[h]:(this._events=this._events||{},void(h in this._events&&this._events[h].splice(this._events[h].indexOf(w),1)))},trigger:function(h){if(this._events=this._events||{},h in this._events)for(var w=0;w<this._events[h].length;w++)this._events[h][w].apply(this,Array.prototype.slice.call(arguments,1))}},X.mixin=function(h){for(var w=["on","off","trigger"],B=0;B<w.length;B++)h.prototype[w[B]]=X.prototype[w[B]]};var ee=/Mac/.test(navigator.userAgent),te=ee?91:17,ce=ee?18:17,be=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("input").validity,le=function(h){return h!==void 0},de=function(h){return h==null?null:typeof h=="boolean"?h?"1":"0":h+""},De=function(h){return(h+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},j={};j.before=function(h,w,B){var q=h[w];h[w]=function(){return B.apply(h,arguments),q.apply(h,arguments)}},j.after=function(h,w,B){var q=h[w];h[w]=function(){var J=q.apply(h,arguments);return B.apply(h,arguments),J}};var ae=function(h){var w=!1;return function(){w||(w=!0,h.apply(this,arguments))}},P=function(h,w){var B;return function(){var q=this,J=arguments;window.clearTimeout(B),B=window.setTimeout(function(){h.apply(q,J)},w)}},ge=function(h,w,B){var q,J=h.trigger,N={};h.trigger=function(){var M=arguments[0];if(w.indexOf(M)===-1)return J.apply(h,arguments);N[M]=arguments},B.apply(h,[]),h.trigger=J;for(q in N)N.hasOwnProperty(q)&&J.apply(h,N[q])},Ue=function(h,w,B,q){h.on(w,B,function(J){for(var N=J.target;N&&N.parentNode!==h[0];)N=N.parentNode;return J.currentTarget=N,q.apply(this,[J])})},pe=function(h){var w={};if("selectionStart"in h)w.start=h.selectionStart,w.length=h.selectionEnd-w.start;else if(document.selection){h.focus();var B=document.selection.createRange(),q=document.selection.createRange().text.length;B.moveStart("character",-h.value.length),w.start=B.text.length-q,w.length=q}return w},Ke=function(h,w,B){var q,J,N={};if(B)for(q=0,J=B.length;q<J;q++)N[B[q]]=h.css(B[q]);else N=h.css();w.css(N)},ye=function(h,w){if(!h)return 0;var B=A("<test>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(h).appendTo("body");Ke(w,B,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]);var q=B.width();return B.remove(),q},Y=function(h){var w=null,B=function(q,J){var N,M,W,ke,Ae,oe,S,tt;q=q||window.event||{},J=J||{},q.metaKey||q.altKey||(J.force||h.data("grow")!==!1)&&(N=h.val(),q.type&&q.type.toLowerCase()==="keydown"&&(M=q.keyCode,W=M>=97&&M<=122||M>=65&&M<=90||M>=48&&M<=57||M===32,M===46||M===8?(tt=pe(h[0]),tt.length?N=N.substring(0,tt.start)+N.substring(tt.start+tt.length):M===8&&tt.start?N=N.substring(0,tt.start-1)+N.substring(tt.start+1):M===46&&tt.start!==void 0&&(N=N.substring(0,tt.start)+N.substring(tt.start+1))):W&&(oe=q.shiftKey,S=String.fromCharCode(q.keyCode),S=oe?S.toUpperCase():S.toLowerCase(),N+=S)),ke=h.attr("placeholder"),!N&&ke&&(N=ke),(Ae=ye(N,h)+4)!==w&&(w=Ae,h.width(Ae),h.triggerHandler("resize")))};h.on("keydown keyup update blur",B),B()},Ee=function(h){var w=document.createElement("div");return w.appendChild(h.cloneNode(!0)),w.innerHTML},Ce=function(h,w){var B,q,J,N,M=this;N=h[0],N.selectize=M;var W=window.getComputedStyle&&window.getComputedStyle(N,null);if(J=W?W.getPropertyValue("direction"):N.currentStyle&&N.currentStyle.direction,J=J||h.parents("[dir]:first").attr("dir")||"",A.extend(M,{order:0,settings:w,$input:h,tabIndex:h.attr("tabindex")||"",tagType:N.tagName.toLowerCase()==="select"?1:2,rtl:/rtl/i.test(J),eventNS:".selectize"+ ++Ce.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:h.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:w.loadThrottle===null?M.onSearchChange:P(M.onSearchChange,w.loadThrottle)}),M.sifter=new H(this.options,{diacritics:w.diacritics}),M.settings.options){for(B=0,q=M.settings.options.length;B<q;B++)M.registerOption(M.settings.options[B]);delete M.settings.options}if(M.settings.optgroups){for(B=0,q=M.settings.optgroups.length;B<q;B++)M.registerOptionGroup(M.settings.optgroups[B]);delete M.settings.optgroups}M.settings.mode=M.settings.mode||(M.settings.maxItems===1?"single":"multi"),typeof M.settings.hideSelected!="boolean"&&(M.settings.hideSelected=M.settings.mode==="multi"),M.initializePlugins(M.settings.plugins),M.setupCallbacks(),M.setupTemplates(),M.setup()};return X.mixin(Ce),U!==void 0?U.mixin(Ce):function(h,w){w||(w={}),console.error("Selectize: "+h),w.explanation&&(console.group&&console.group(),console.error(w.explanation),console.group&&console.groupEnd())}("Dependency MicroPlugin is missing",{explanation:'Make sure you either: (1) are using the "standalone" version of Selectize, or (2) require MicroPlugin before you load Selectize.'}),A.extend(Ce.prototype,{setup:function(){var h,w,B,q,J,N,M,W,ke,Ae,oe=this,S=oe.settings,tt=oe.eventNS,Ct=A(window),Bt=A(document),Rt=oe.$input;if(M=oe.settings.mode,W=Rt.attr("class")||"",h=A("<div>").addClass(S.wrapperClass).addClass(W).addClass(M),w=A("<div>").addClass(S.inputClass).addClass("items").appendTo(h),B=A('<input type="text" autocomplete="off" />').appendTo(w).attr("tabindex",Rt.is(":disabled")?"-1":oe.tabIndex),N=A(S.dropdownParent||h),q=A("<div>").addClass(S.dropdownClass).addClass(M).hide().appendTo(N),J=A("<div>").addClass(S.dropdownContentClass).appendTo(q),(Ae=Rt.attr("id"))&&(B.attr("id",Ae+"-selectized"),A("label[for='"+Ae+"']").attr("for",Ae+"-selectized")),oe.settings.copyClassesToDropdown&&q.addClass(W),h.css({width:Rt[0].style.width}),oe.plugins.names.length&&(ke="plugin-"+oe.plugins.names.join(" plugin-"),h.addClass(ke),q.addClass(ke)),(S.maxItems===null||S.maxItems>1)&&oe.tagType===1&&Rt.attr("multiple","multiple"),oe.settings.placeholder&&B.attr("placeholder",S.placeholder),!oe.settings.splitOn&&oe.settings.delimiter){var Qt=oe.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");oe.settings.splitOn=new RegExp("\\s*"+Qt+"+\\s*")}Rt.attr("autocorrect")&&B.attr("autocorrect",Rt.attr("autocorrect")),Rt.attr("autocapitalize")&&B.attr("autocapitalize",Rt.attr("autocapitalize")),oe.$wrapper=h,oe.$control=w,oe.$control_input=B,oe.$dropdown=q,oe.$dropdown_content=J,q.on("mouseenter","[data-selectable]",function(){return oe.onOptionHover.apply(oe,arguments)}),q.on("mousedown click","[data-selectable]",function(){return oe.onOptionSelect.apply(oe,arguments)}),Ue(w,"mousedown","*:not(input)",function(){return oe.onItemSelect.apply(oe,arguments)}),Y(B),w.on({mousedown:function(){return oe.onMouseDown.apply(oe,arguments)},click:function(){return oe.onClick.apply(oe,arguments)}}),B.on({mousedown:function(qe){qe.stopPropagation()},keydown:function(){return oe.onKeyDown.apply(oe,arguments)},keyup:function(){return oe.onKeyUp.apply(oe,arguments)},keypress:function(){return oe.onKeyPress.apply(oe,arguments)},resize:function(){oe.positionDropdown.apply(oe,[])},blur:function(){return oe.onBlur.apply(oe,arguments)},focus:function(){return oe.ignoreBlur=!1,oe.onFocus.apply(oe,arguments)},paste:function(){return oe.onPaste.apply(oe,arguments)}}),Bt.on("keydown"+tt,function(qe){oe.isCmdDown=qe[ee?"metaKey":"ctrlKey"],oe.isCtrlDown=qe[ee?"altKey":"ctrlKey"],oe.isShiftDown=qe.shiftKey}),Bt.on("keyup"+tt,function(qe){qe.keyCode===ce&&(oe.isCtrlDown=!1),qe.keyCode===16&&(oe.isShiftDown=!1),qe.keyCode===te&&(oe.isCmdDown=!1)}),Bt.on("mousedown"+tt,function(qe){if(oe.isFocused){if(qe.target===oe.$dropdown[0]||qe.target.parentNode===oe.$dropdown[0])return!1;oe.$control.has(qe.target).length||qe.target===oe.$control[0]||oe.blur(qe.target)}}),Ct.on(["scroll"+tt,"resize"+tt].join(" "),function(){oe.isOpen&&oe.positionDropdown.apply(oe,arguments)}),Ct.on("mousemove"+tt,function(){oe.ignoreHover=!1}),this.revertSettings={$children:Rt.children().detach(),tabindex:Rt.attr("tabindex")},Rt.attr("tabindex",-1).hide().after(oe.$wrapper),A.isArray(S.items)&&(oe.setValue(S.items),delete S.items),be&&Rt.on("invalid"+tt,function(qe){qe.preventDefault(),oe.isInvalid=!0,oe.refreshState()}),oe.updateOriginalInput(),oe.refreshItems(),oe.refreshState(),oe.updatePlaceholder(),oe.isSetup=!0,Rt.is(":disabled")&&oe.disable(),oe.on("change",this.onChange),Rt.data("selectize",oe),Rt.addClass("selectized"),oe.trigger("initialize"),S.preload===!0&&oe.onSearchChange("")},setupTemplates:function(){var h=this,w=h.settings.labelField,B=h.settings.optgroupLabelField,q={optgroup:function(J){return'<div class="optgroup">'+J.html+"</div>"},optgroup_header:function(J,N){return'<div class="optgroup-header">'+N(J[B])+"</div>"},option:function(J,N){return'<div class="option">'+N(J[w])+"</div>"},item:function(J,N){return'<div class="item">'+N(J[w])+"</div>"},option_create:function(J,N){return'<div class="create">Add <strong>'+N(J.input)+"</strong>&hellip;</div>"}};h.settings.render=A.extend({},q,h.settings.render)},setupCallbacks:function(){var h,w,B={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(h in B)B.hasOwnProperty(h)&&(w=this.settings[B[h]])&&this.on(h,w)},onClick:function(h){var w=this;w.isFocused||(w.focus(),h.preventDefault())},onMouseDown:function(h){var w=this,B=h.isDefaultPrevented();if(A(h.target),w.isFocused){if(h.target!==w.$control_input[0])return w.settings.mode==="single"?w.isOpen?w.close():w.open():B||w.setActiveItem(null),!1}else B||window.setTimeout(function(){w.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(h){var w=this;if(w.isFull()||w.isInputHidden||w.isLocked)return void h.preventDefault();w.settings.splitOn&&setTimeout(function(){var B=w.$control_input.val();if(B.match(w.settings.splitOn))for(var q=A.trim(B).split(w.settings.splitOn),J=0,N=q.length;J<N;J++)w.createItem(q[J])},0)},onKeyPress:function(h){if(this.isLocked)return h&&h.preventDefault();var w=String.fromCharCode(h.keyCode||h.which);return this.settings.create&&this.settings.mode==="multi"&&w===this.settings.delimiter?(this.createItem(),h.preventDefault(),!1):void 0},onKeyDown:function(h){var w=(h.target,this.$control_input[0],this);if(w.isLocked)return void(h.keyCode!==9&&h.preventDefault());switch(h.keyCode){case 65:if(w.isCmdDown)return void w.selectAll();break;case 27:return void(w.isOpen&&(h.preventDefault(),h.stopPropagation(),w.close()));case 78:if(!h.ctrlKey||h.altKey)break;case 40:if(!w.isOpen&&w.hasOptions)w.open();else if(w.$activeOption){w.ignoreHover=!0;var B=w.getAdjacentOption(w.$activeOption,1);B.length&&w.setActiveOption(B,!0,!0)}return void h.preventDefault();case 80:if(!h.ctrlKey||h.altKey)break;case 38:if(w.$activeOption){w.ignoreHover=!0;var q=w.getAdjacentOption(w.$activeOption,-1);q.length&&w.setActiveOption(q,!0,!0)}return void h.preventDefault();case 13:return void(w.isOpen&&w.$activeOption&&(w.onOptionSelect({currentTarget:w.$activeOption}),h.preventDefault()));case 37:return void w.advanceSelection(-1,h);case 39:return void w.advanceSelection(1,h);case 9:return w.settings.selectOnTab&&w.isOpen&&w.$activeOption&&(w.onOptionSelect({currentTarget:w.$activeOption}),w.isFull()||h.preventDefault()),void(w.settings.create&&w.createItem()&&h.preventDefault());case 8:case 46:return void w.deleteSelection(h)}return!w.isFull()&&!w.isInputHidden||(ee?h.metaKey:h.ctrlKey)?void 0:void h.preventDefault()},onKeyUp:function(h){var w=this;if(w.isLocked)return h&&h.preventDefault();var B=w.$control_input.val()||"";w.lastValue!==B&&(w.lastValue=B,w.onSearchChange(B),w.refreshOptions(),w.trigger("type",B))},onSearchChange:function(h){var w=this,B=w.settings.load;B&&(w.loadedSearches.hasOwnProperty(h)||(w.loadedSearches[h]=!0,w.load(function(q){B.apply(w,[h,q])})))},onFocus:function(h){var w=this,B=w.isFocused;if(w.isDisabled)return w.blur(),h&&h.preventDefault(),!1;w.ignoreFocus||(w.isFocused=!0,w.settings.preload==="focus"&&w.onSearchChange(""),B||w.trigger("focus"),w.$activeItems.length||(w.showInput(),w.setActiveItem(null),w.refreshOptions(!!w.settings.openOnFocus)),w.refreshState())},onBlur:function(h,w){var B=this;if(B.isFocused&&(B.isFocused=!1,!B.ignoreFocus)){if(!B.ignoreBlur&&document.activeElement===B.$dropdown_content[0])return B.ignoreBlur=!0,void B.onFocus(h);var q=function(){B.close(),B.setTextboxValue(""),B.setActiveItem(null),B.setActiveOption(null),B.setCaret(B.items.length),B.refreshState(),w&&w.focus&&w.focus(),B.ignoreFocus=!1,B.trigger("blur")};B.ignoreFocus=!0,B.settings.create&&B.settings.createOnBlur?B.createItem(null,!1,q):q()}},onOptionHover:function(h){this.ignoreHover||this.setActiveOption(h.currentTarget,!1)},onOptionSelect:function(h){var w,B,q=this;h.preventDefault&&(h.preventDefault(),h.stopPropagation()),B=A(h.currentTarget),B.hasClass("create")?q.createItem(null,function(){q.settings.closeAfterSelect&&q.close()}):(w=B.attr("data-value"))!==void 0&&(q.lastQuery=null,q.setTextboxValue(""),q.addItem(w),q.settings.closeAfterSelect?q.close():!q.settings.hideSelected&&h.type&&/mouse/.test(h.type)&&q.setActiveOption(q.getOption(w)))},onItemSelect:function(h){var w=this;w.isLocked||w.settings.mode==="multi"&&(h.preventDefault(),w.setActiveItem(h.currentTarget,h))},load:function(h){var w=this,B=w.$wrapper.addClass(w.settings.loadingClass);w.loading++,h.apply(w,[function(q){w.loading=Math.max(w.loading-1,0),q&&q.length&&(w.addOption(q),w.refreshOptions(w.isFocused&&!w.isInputHidden)),w.loading||B.removeClass(w.settings.loadingClass),w.trigger("load",q)}])},setTextboxValue:function(h){var w=this.$control_input;w.val()!==h&&(w.val(h).triggerHandler("update"),this.lastValue=h)},getValue:function(){return this.tagType===1&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(h,w){ge(this,w?[]:["change"],function(){this.clear(w),this.addItems(h,w)})},setActiveItem:function(h,w){var B,q,J,N,M,W,ke,Ae,oe=this;if(oe.settings.mode!=="single"){if(h=A(h),!h.length)return A(oe.$activeItems).removeClass("active"),oe.$activeItems=[],void(oe.isFocused&&oe.showInput());if((B=w&&w.type.toLowerCase())==="mousedown"&&oe.isShiftDown&&oe.$activeItems.length){for(Ae=oe.$control.children(".active:last"),N=Array.prototype.indexOf.apply(oe.$control[0].childNodes,[Ae[0]]),M=Array.prototype.indexOf.apply(oe.$control[0].childNodes,[h[0]]),N>M&&(ke=N,N=M,M=ke),q=N;q<=M;q++)W=oe.$control[0].childNodes[q],oe.$activeItems.indexOf(W)===-1&&(A(W).addClass("active"),oe.$activeItems.push(W));w.preventDefault()}else B==="mousedown"&&oe.isCtrlDown||B==="keydown"&&this.isShiftDown?h.hasClass("active")?(J=oe.$activeItems.indexOf(h[0]),oe.$activeItems.splice(J,1),h.removeClass("active")):oe.$activeItems.push(h.addClass("active")[0]):(A(oe.$activeItems).removeClass("active"),oe.$activeItems=[h.addClass("active")[0]]);oe.hideInput(),this.isFocused||oe.focus()}},setActiveOption:function(h,w,B){var q,J,N,M,W,ke=this;ke.$activeOption&&ke.$activeOption.removeClass("active"),ke.$activeOption=null,h=A(h),h.length&&(ke.$activeOption=h.addClass("active"),!w&&le(w)||(q=ke.$dropdown_content.height(),J=ke.$activeOption.outerHeight(!0),w=ke.$dropdown_content.scrollTop()||0,N=ke.$activeOption.offset().top-ke.$dropdown_content.offset().top+w,M=N,W=N-q+J,N+J>q+w?ke.$dropdown_content.stop().animate({scrollTop:W},B?ke.settings.scrollDuration:0):N<w&&ke.$dropdown_content.stop().animate({scrollTop:M},B?ke.settings.scrollDuration:0)))},selectAll:function(){var h=this;h.settings.mode!=="single"&&(h.$activeItems=Array.prototype.slice.apply(h.$control.children(":not(input)").addClass("active")),h.$activeItems.length&&(h.hideInput(),h.close()),h.focus())},hideInput:function(){var h=this;h.setTextboxValue(""),h.$control_input.css({opacity:0,position:"absolute",left:h.rtl?1e4:-1e4}),h.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var h=this;h.isDisabled||(h.ignoreFocus=!0,h.$control_input[0].focus(),window.setTimeout(function(){h.ignoreFocus=!1,h.onFocus()},0))},blur:function(h){this.$control_input[0].blur(),this.onBlur(null,h)},getScoreFunction:function(h){return this.sifter.getScoreFunction(h,this.getSearchOptions())},getSearchOptions:function(){var h=this.settings,w=h.sortField;return typeof w=="string"&&(w=[{field:w}]),{fields:h.searchField,conjunction:h.searchConjunction,sort:w}},search:function(h){var w,B,q,J=this,N=J.settings,M=this.getSearchOptions();if(N.score&&typeof(q=J.settings.score.apply(this,[h]))!="function")throw new Error('Selectize "score" setting must be a function that returns a function');if(h!==J.lastQuery?(J.lastQuery=h,B=J.sifter.search(h,A.extend(M,{score:q})),J.currentResults=B):B=A.extend(!0,{},J.currentResults),N.hideSelected)for(w=B.items.length-1;w>=0;w--)J.items.indexOf(de(B.items[w].id))!==-1&&B.items.splice(w,1);return B},refreshOptions:function(h){var w,B,q,J,N,M,W,ke,Ae,oe,S,tt,Ct,Bt,Rt,Qt;h===void 0&&(h=!0);var qe=this,_t=A.trim(qe.$control_input.val()),xt=qe.search(_t),_e=qe.$dropdown_content,en=qe.$activeOption&&de(qe.$activeOption.attr("data-value"));for(J=xt.items.length,typeof qe.settings.maxOptions=="number"&&(J=Math.min(J,qe.settings.maxOptions)),N={},M=[],w=0;w<J;w++)for(W=qe.options[xt.items[w].id],ke=qe.render("option",W),Ae=W[qe.settings.optgroupField]||"",oe=A.isArray(Ae)?Ae:[Ae],B=0,q=oe&&oe.length;B<q;B++)Ae=oe[B],qe.optgroups.hasOwnProperty(Ae)||(Ae=""),N.hasOwnProperty(Ae)||(N[Ae]=document.createDocumentFragment(),M.push(Ae)),N[Ae].appendChild(ke);for(this.settings.lockOptgroupOrder&&M.sort(function(nn,it){return(qe.optgroups[nn].$order||0)-(qe.optgroups[it].$order||0)}),S=document.createDocumentFragment(),w=0,J=M.length;w<J;w++)Ae=M[w],qe.optgroups.hasOwnProperty(Ae)&&N[Ae].childNodes.length?(tt=document.createDocumentFragment(),tt.appendChild(qe.render("optgroup_header",qe.optgroups[Ae])),tt.appendChild(N[Ae]),S.appendChild(qe.render("optgroup",A.extend({},qe.optgroups[Ae],{html:Ee(tt),dom:tt})))):S.appendChild(N[Ae]);if(_e.html(S),qe.settings.highlight&&xt.query.length&&xt.tokens.length)for(_e.removeHighlight(),w=0,J=xt.tokens.length;w<J;w++)re(_e,xt.tokens[w].regex);if(!qe.settings.hideSelected)for(w=0,J=qe.items.length;w<J;w++)qe.getOption(qe.items[w]).addClass("selected");Ct=qe.canCreate(_t),Ct&&(_e.prepend(qe.render("option_create",{input:_t})),Qt=A(_e[0].childNodes[0])),qe.hasOptions=xt.items.length>0||Ct,qe.hasOptions?(xt.items.length>0?(Rt=en&&qe.getOption(en),Rt&&Rt.length?Bt=Rt:qe.settings.mode==="single"&&qe.items.length&&(Bt=qe.getOption(qe.items[0])),Bt&&Bt.length||(Bt=Qt&&!qe.settings.addPrecedence?qe.getAdjacentOption(Qt,1):_e.find("[data-selectable]:first"))):Bt=Qt,qe.setActiveOption(Bt),h&&!qe.isOpen&&qe.open()):(qe.setActiveOption(null),h&&qe.isOpen&&qe.close())},addOption:function(h){var w,B,q,J=this;if(A.isArray(h))for(w=0,B=h.length;w<B;w++)J.addOption(h[w]);else(q=J.registerOption(h))&&(J.userOptions[q]=!0,J.lastQuery=null,J.trigger("option_add",q,h))},registerOption:function(h){var w=de(h[this.settings.valueField]);return w!=null&&!this.options.hasOwnProperty(w)&&(h.$order=h.$order||++this.order,this.options[w]=h,w)},registerOptionGroup:function(h){var w=de(h[this.settings.optgroupValueField]);return!!w&&(h.$order=h.$order||++this.order,this.optgroups[w]=h,w)},addOptionGroup:function(h,w){w[this.settings.optgroupValueField]=h,(h=this.registerOptionGroup(w))&&this.trigger("optgroup_add",h,w)},removeOptionGroup:function(h){this.optgroups.hasOwnProperty(h)&&(delete this.optgroups[h],this.renderCache={},this.trigger("optgroup_remove",h))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(h,w){var B,q,J,N,M,W,ke,Ae=this;if(h=de(h),J=de(w[Ae.settings.valueField]),h!==null&&Ae.options.hasOwnProperty(h)){if(typeof J!="string")throw new Error("Value must be set in option data");ke=Ae.options[h].$order,J!==h&&(delete Ae.options[h],(N=Ae.items.indexOf(h))!==-1&&Ae.items.splice(N,1,J)),w.$order=w.$order||ke,Ae.options[J]=w,M=Ae.renderCache.item,W=Ae.renderCache.option,M&&(delete M[h],delete M[J]),W&&(delete W[h],delete W[J]),Ae.items.indexOf(J)!==-1&&(B=Ae.getItem(h),q=A(Ae.render("item",w)),B.hasClass("active")&&q.addClass("active"),B.replaceWith(q)),Ae.lastQuery=null,Ae.isOpen&&Ae.refreshOptions(!1)}},removeOption:function(h,w){var B=this;h=de(h);var q=B.renderCache.item,J=B.renderCache.option;q&&delete q[h],J&&delete J[h],delete B.userOptions[h],delete B.options[h],B.lastQuery=null,B.trigger("option_remove",h),B.removeItem(h,w)},clearOptions:function(){var h=this;h.loadedSearches={},h.userOptions={},h.renderCache={},h.options=h.sifter.items={},h.lastQuery=null,h.trigger("option_clear"),h.clear()},getOption:function(h){return this.getElementWithValue(h,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(h,w){var B=this.$dropdown.find("[data-selectable]"),q=B.index(h)+w;return q>=0&&q<B.length?B.eq(q):A()},getElementWithValue:function(h,w){if((h=de(h))!==void 0&&h!==null){for(var B=0,q=w.length;B<q;B++)if(w[B].getAttribute("data-value")===h)return A(w[B])}return A()},getItem:function(h){return this.getElementWithValue(h,this.$control.children())},addItems:function(h,w){for(var B=A.isArray(h)?h:[h],q=0,J=B.length;q<J;q++)this.isPending=q<J-1,this.addItem(B[q],w)},addItem:function(h,w){ge(this,w?[]:["change"],function(){var B,q,J,N,M,W=this,ke=W.settings.mode;if(h=de(h),W.items.indexOf(h)!==-1)return void(ke==="single"&&W.close());W.options.hasOwnProperty(h)&&(ke==="single"&&W.clear(w),ke==="multi"&&W.isFull()||(B=A(W.render("item",W.options[h])),M=W.isFull(),W.items.splice(W.caretPos,0,h),W.insertAtCaret(B),(!W.isPending||!M&&W.isFull())&&W.refreshState(),W.isSetup&&(J=W.$dropdown_content.find("[data-selectable]"),W.isPending||(q=W.getOption(h),N=W.getAdjacentOption(q,1).attr("data-value"),W.refreshOptions(W.isFocused&&ke!=="single"),N&&W.setActiveOption(W.getOption(N))),!J.length||W.isFull()?W.close():W.positionDropdown(),W.updatePlaceholder(),W.trigger("item_add",h,B),W.updateOriginalInput({silent:w}))))})},removeItem:function(h,w){var B,q,J,N=this;B=h instanceof A?h:N.getItem(h),h=de(B.attr("data-value")),(q=N.items.indexOf(h))!==-1&&(B.remove(),B.hasClass("active")&&(J=N.$activeItems.indexOf(B[0]),N.$activeItems.splice(J,1)),N.items.splice(q,1),N.lastQuery=null,!N.settings.persist&&N.userOptions.hasOwnProperty(h)&&N.removeOption(h,w),q<N.caretPos&&N.setCaret(N.caretPos-1),N.refreshState(),N.updatePlaceholder(),N.updateOriginalInput({silent:w}),N.positionDropdown(),N.trigger("item_remove",h,B))},createItem:function(h,w){var B=this,q=B.caretPos;h=h||A.trim(B.$control_input.val()||"");var J=arguments[arguments.length-1];if(typeof J!="function"&&(J=function(){}),typeof w!="boolean"&&(w=!0),!B.canCreate(h))return J(),!1;B.lock();var N=typeof B.settings.create=="function"?this.settings.create:function(ke){var Ae={};return Ae[B.settings.labelField]=ke,Ae[B.settings.valueField]=ke,Ae},M=ae(function(ke){if(B.unlock(),!ke||typeof ke!="object")return J();var Ae=de(ke[B.settings.valueField]);if(typeof Ae!="string")return J();B.setTextboxValue(""),B.addOption(ke),B.setCaret(q),B.addItem(Ae),B.refreshOptions(w&&B.settings.mode!=="single"),J(ke)}),W=N.apply(this,[h,M]);return W!==void 0&&M(W),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){this.refreshValidityState(),this.refreshClasses()},refreshValidityState:function(){if(!this.isRequired)return!1;var h=!this.items.length;this.isInvalid=h,this.$control_input.prop("required",h),this.$input.prop("required",!h)},refreshClasses:function(){var h=this,w=h.isFull(),B=h.isLocked;h.$wrapper.toggleClass("rtl",h.rtl),h.$control.toggleClass("focus",h.isFocused).toggleClass("disabled",h.isDisabled).toggleClass("required",h.isRequired).toggleClass("invalid",h.isInvalid).toggleClass("locked",B).toggleClass("full",w).toggleClass("not-full",!w).toggleClass("input-active",h.isFocused&&!h.isInputHidden).toggleClass("dropdown-active",h.isOpen).toggleClass("has-options",!A.isEmptyObject(h.options)).toggleClass("has-items",h.items.length>0),h.$control_input.data("grow",!w&&!B)},isFull:function(){return this.settings.maxItems!==null&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(h){var w,B,q,J,N=this;if(h=h||{},N.tagType===1){for(q=[],w=0,B=N.items.length;w<B;w++)J=N.options[N.items[w]][N.settings.labelField]||"",q.push('<option value="'+De(N.items[w])+'" selected="selected">'+De(J)+"</option>");q.length||this.$input.attr("multiple")||q.push('<option value="" selected="selected"></option>'),N.$input.html(q.join(""))}else N.$input.val(N.getValue()),N.$input.attr("value",N.$input.val());N.isSetup&&(h.silent||N.trigger("change",N.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var h=this.$control_input;this.items.length?h.removeAttr("placeholder"):h.attr("placeholder",this.settings.placeholder),h.triggerHandler("update",{force:!0})}},open:function(){var h=this;h.isLocked||h.isOpen||h.settings.mode==="multi"&&h.isFull()||(h.focus(),h.isOpen=!0,h.refreshState(),h.$dropdown.css({visibility:"hidden",display:"block"}),h.positionDropdown(),h.$dropdown.css({visibility:"visible"}),h.trigger("dropdown_open",h.$dropdown))},close:function(){var h=this,w=h.isOpen;h.settings.mode==="single"&&h.items.length&&(h.hideInput(),h.$control_input.blur()),h.isOpen=!1,h.$dropdown.hide(),h.setActiveOption(null),h.refreshState(),w&&h.trigger("dropdown_close",h.$dropdown)},positionDropdown:function(){var h=this.$control,w=this.settings.dropdownParent==="body"?h.offset():h.position();w.top+=h.outerHeight(!0),this.$dropdown.css({width:h.outerWidth(),top:w.top,left:w.left})},clear:function(h){var w=this;w.items.length&&(w.$control.children(":not(input)").remove(),w.items=[],w.lastQuery=null,w.setCaret(0),w.setActiveItem(null),w.updatePlaceholder(),w.updateOriginalInput({silent:h}),w.refreshState(),w.showInput(),w.trigger("clear"))},insertAtCaret:function(h){var w=Math.min(this.caretPos,this.items.length);w===0?this.$control.prepend(h):A(this.$control[0].childNodes[w]).before(h),this.setCaret(w+1)},deleteSelection:function(h){var w,B,q,J,N,M,W,ke,Ae,oe=this;if(q=h&&h.keyCode===8?-1:1,J=pe(oe.$control_input[0]),oe.$activeOption&&!oe.settings.hideSelected&&(W=oe.getAdjacentOption(oe.$activeOption,-1).attr("data-value")),N=[],oe.$activeItems.length){for(Ae=oe.$control.children(".active:"+(q>0?"last":"first")),M=oe.$control.children(":not(input)").index(Ae),q>0&&M++,w=0,B=oe.$activeItems.length;w<B;w++)N.push(A(oe.$activeItems[w]).attr("data-value"));h&&(h.preventDefault(),h.stopPropagation())}else(oe.isFocused||oe.settings.mode==="single")&&oe.items.length&&(q<0&&J.start===0&&J.length===0?N.push(oe.items[oe.caretPos-1]):q>0&&J.start===oe.$control_input.val().length&&N.push(oe.items[oe.caretPos]));if(!N.length||typeof oe.settings.onDelete=="function"&&oe.settings.onDelete.apply(oe,[N])===!1)return!1;for(M!==void 0&&oe.setCaret(M);N.length;)oe.removeItem(N.pop());return oe.showInput(),oe.positionDropdown(),oe.refreshOptions(!0),W&&(ke=oe.getOption(W),ke.length&&oe.setActiveOption(ke)),!0},advanceSelection:function(h,w){var B,q,J,N,M,W=this;h!==0&&(W.rtl&&(h*=-1),B=h>0?"last":"first",q=pe(W.$control_input[0]),W.isFocused&&!W.isInputHidden?(N=W.$control_input.val().length,(h<0?q.start===0&&q.length===0:q.start===N)&&!N&&W.advanceCaret(h,w)):(M=W.$control.children(".active:"+B),M.length&&(J=W.$control.children(":not(input)").index(M),W.setActiveItem(null),W.setCaret(h>0?J+1:J))))},advanceCaret:function(h,w){var B,q,J=this;h!==0&&(B=h>0?"next":"prev",J.isShiftDown?(q=J.$control_input[B](),q.length&&(J.hideInput(),J.setActiveItem(q),w&&w.preventDefault())):J.setCaret(J.caretPos+h))},setCaret:function(h){var w=this;if(h=w.settings.mode==="single"?w.items.length:Math.max(0,Math.min(w.items.length,h)),!w.isPending){var B,q,J,N;for(J=w.$control.children(":not(input)"),B=0,q=J.length;B<q;B++)N=A(J[B]).detach(),B<h?w.$control_input.before(N):w.$control.append(N)}w.caretPos=h},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){var h=this;h.$input.prop("disabled",!0),h.$control_input.prop("disabled",!0).prop("tabindex",-1),h.isDisabled=!0,h.lock()},enable:function(){var h=this;h.$input.prop("disabled",!1),h.$control_input.prop("disabled",!1).prop("tabindex",h.tabIndex),h.isDisabled=!1,h.unlock()},destroy:function(){var h=this,w=h.eventNS,B=h.revertSettings;h.trigger("destroy"),h.off(),h.$wrapper.remove(),h.$dropdown.remove(),h.$input.html("").append(B.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:B.tabindex}).show(),h.$control_input.removeData("grow"),h.$input.removeData("selectize"),A(window).off(w),A(document).off(w),A(document.body).off(w),delete h.$input[0].selectize},render:function(h,w){var B,q,J="",N=!1,M=this;return h!=="option"&&h!=="item"||(B=de(w[M.settings.valueField]),N=!!B),N&&(le(M.renderCache[h])||(M.renderCache[h]={}),M.renderCache[h].hasOwnProperty(B))?M.renderCache[h][B]:(J=A(M.settings.render[h].apply(this,[w,De])),h==="option"||h==="option_create"?J.attr("data-selectable",""):h==="optgroup"&&(q=w[M.settings.optgroupValueField]||"",J.attr("data-group",q)),h!=="option"&&h!=="item"||J.attr("data-value",B||""),N&&(M.renderCache[h][B]=J[0]),J[0])},clearCache:function(h){var w=this;h===void 0?w.renderCache={}:delete w.renderCache[h]},canCreate:function(h){var w=this;if(!w.settings.create)return!1;var B=w.settings.createFilter;return h.length&&(typeof B!="function"||B.apply(w,[h]))&&(typeof B!="string"||new RegExp(B).test(h))&&(!(B instanceof RegExp)||B.test(h))}}),Ce.count=0,Ce.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},A.fn.selectize=function(h){var w=A.fn.selectize.defaults,B=A.extend({},w,h),q=B.dataAttr,J=B.labelField,N=B.valueField,M=B.optgroupField,W=B.optgroupLabelField,ke=B.optgroupValueField,Ae=function(S,tt){var Ct,Bt,Rt,Qt,qe=S.attr(q);if(qe)for(tt.options=JSON.parse(qe),Ct=0,Bt=tt.options.length;Ct<Bt;Ct++)tt.items.push(tt.options[Ct][N]);else{var _t=A.trim(S.val()||"");if(!B.allowEmptyOption&&!_t.length)return;for(Rt=_t.split(B.delimiter),Ct=0,Bt=Rt.length;Ct<Bt;Ct++)Qt={},Qt[J]=Rt[Ct],Qt[N]=Rt[Ct],tt.options.push(Qt);tt.items=Rt}},oe=function(S,tt){var Ct,Bt,Rt,Qt,qe=tt.options,_t={},xt=function(en){var nn=q&&en.attr(q);return typeof nn=="string"&&nn.length?JSON.parse(nn):null},_e=function(en,nn){en=A(en);var it=de(en.val());if(it||B.allowEmptyOption)if(_t.hasOwnProperty(it)){if(nn){var _n=_t[it][M];_n?A.isArray(_n)?_n.push(nn):_t[it][M]=[_n,nn]:_t[it][M]=nn}}else{var Gt=xt(en)||{};Gt[J]=Gt[J]||en.text(),Gt[N]=Gt[N]||it,Gt[M]=Gt[M]||nn,_t[it]=Gt,qe.push(Gt),en.is(":selected")&&tt.items.push(it)}};for(tt.maxItems=S.attr("multiple")?null:1,Qt=S.children(),Ct=0,Bt=Qt.length;Ct<Bt;Ct++)Rt=Qt[Ct].tagName.toLowerCase(),Rt==="optgroup"?function(en){var nn,it,_n,Gt,tn;for(en=A(en),_n=en.attr("label"),_n&&(Gt=xt(en)||{},Gt[W]=_n,Gt[ke]=_n,tt.optgroups.push(Gt)),tn=A("option",en),nn=0,it=tn.length;nn<it;nn++)_e(tn[nn],_n)}(Qt[Ct]):Rt==="option"&&_e(Qt[Ct])};return this.each(function(){if(!this.selectize){var S=A(this),tt=this.tagName.toLowerCase(),Ct=S.attr("placeholder")||S.attr("data-placeholder");Ct||B.allowEmptyOption||(Ct=S.children('option[value=""]').text());var Bt={placeholder:Ct,options:[],optgroups:[],items:[]};tt==="select"?oe(S,Bt):Ae(S,Bt),new Ce(S,A.extend(!0,{},w,Bt,h))}})},A.fn.selectize.defaults=Ce.defaults,A.fn.selectize.support={validity:be},Ce.define("drag_drop",function(h){if(!A.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if(this.settings.mode==="multi"){var w=this;w.lock=function(){var B=w.lock;return function(){var q=w.$control.data("sortable");return q&&q.disable(),B.apply(w,arguments)}}(),w.unlock=function(){var B=w.unlock;return function(){var q=w.$control.data("sortable");return q&&q.enable(),B.apply(w,arguments)}}(),w.setup=function(){var B=w.setup;return function(){B.apply(this,arguments);var q=w.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:w.isLocked,start:function(J,N){N.placeholder.css("width",N.helper.css("width")),q.css({overflow:"visible"})},stop:function(){q.css({overflow:"hidden"});var J=w.$activeItems?w.$activeItems.slice():null,N=[];q.children("[data-value]").each(function(){N.push(A(this).attr("data-value"))}),w.setValue(N),w.setActiveItem(J)}})}}()}}),Ce.define("dropdown_header",function(h){var w=this;h=A.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(B){return'<div class="'+B.headerClass+'"><div class="'+B.titleRowClass+'"><span class="'+B.labelClass+'">'+B.title+'</span><a href="javascript:void(0)" class="'+B.closeClass+'">&times;</a></div></div>'}},h),w.setup=function(){var B=w.setup;return function(){B.apply(w,arguments),w.$dropdown_header=A(h.html(h)),w.$dropdown.prepend(w.$dropdown_header)}}()}),Ce.define("optgroup_columns",function(h){var w=this;h=A.extend({equalizeWidth:!0,equalizeHeight:!0},h),this.getAdjacentOption=function(J,N){var M=J.closest("[data-group]").find("[data-selectable]"),W=M.index(J)+N;return W>=0&&W<M.length?M.eq(W):A()},this.onKeyDown=function(){var J=w.onKeyDown;return function(N){var M,W,ke,Ae;return!this.isOpen||N.keyCode!==37&&N.keyCode!==39?J.apply(this,arguments):(w.ignoreHover=!0,Ae=this.$activeOption.closest("[data-group]"),M=Ae.find("[data-selectable]").index(this.$activeOption),Ae=N.keyCode===37?Ae.prev("[data-group]"):Ae.next("[data-group]"),ke=Ae.find("[data-selectable]"),W=ke.eq(Math.min(ke.length-1,M)),void(W.length&&this.setActiveOption(W)))}}();var B=function(){var J,N=B.width,M=document;return N===void 0&&(J=M.createElement("div"),J.innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',J=J.firstChild,M.body.appendChild(J),N=B.width=J.offsetWidth-J.clientWidth,M.body.removeChild(J)),N},q=function(){var J,N,M,W,ke,Ae,oe;if(oe=A("[data-group]",w.$dropdown_content),(N=oe.length)&&w.$dropdown_content.width()){if(h.equalizeHeight){for(M=0,J=0;J<N;J++)M=Math.max(M,oe.eq(J).height());oe.css({height:M})}h.equalizeWidth&&(Ae=w.$dropdown_content.innerWidth()-B(),W=Math.round(Ae/N),oe.css({width:W}),N>1&&(ke=Ae-W*(N-1),oe.eq(N-1).css({width:ke})))}};(h.equalizeHeight||h.equalizeWidth)&&(j.after(this,"positionDropdown",q),j.after(this,"refreshOptions",q))}),Ce.define("remove_button",function(h){if(h=A.extend({label:"&times;",title:"Remove",className:"remove",append:!0},h),this.settings.mode==="single")return void function(w,B){B.className="remove-single";var q=w,J='<a href="javascript:void(0)" class="'+B.className+'" tabindex="-1" title="'+De(B.title)+'">'+B.label+"</a>",N=function(M,W){return M+W};w.setup=function(){var M=q.setup;return function(){if(B.append){var W=A(q.$input.context).attr("id"),ke=(A("#"+W),q.settings.render.item);q.settings.render.item=function(Ae){return N(ke.apply(w,arguments),J)}}M.apply(w,arguments),w.$control.on("click","."+B.className,function(Ae){Ae.preventDefault(),q.isLocked||q.clear()})}}()}(this,h);(function(w,B){var q=w,J='<a href="javascript:void(0)" class="'+B.className+'" tabindex="-1" title="'+De(B.title)+'">'+B.label+"</a>",N=function(M,W){var ke=M.search(/(<\/[^>]+>\s*)$/);return M.substring(0,ke)+W+M.substring(ke)};w.setup=function(){var M=q.setup;return function(){if(B.append){var W=q.settings.render.item;q.settings.render.item=function(ke){return N(W.apply(w,arguments),J)}}M.apply(w,arguments),w.$control.on("click","."+B.className,function(ke){if(ke.preventDefault(),!q.isLocked){var Ae=A(ke.currentTarget).parent();q.setActiveItem(Ae),q.deleteSelection()&&q.setCaret(q.items.length)}})}}()})(this,h)}),Ce.define("restore_on_backspace",function(h){var w=this;h.text=h.text||function(B){return B[this.settings.labelField]},this.onKeyDown=function(){var B=w.onKeyDown;return function(q){var J,N;return q.keyCode===8&&this.$control_input.val()===""&&!this.$activeItems.length&&(J=this.caretPos-1)>=0&&J<this.items.length?(N=this.options[this.items[J]],this.deleteSelection(q)&&(this.setTextboxValue(h.text.apply(this,[N])),this.refreshOptions(!0)),void q.preventDefault()):B.apply(this,arguments)}}()}),Ce})},function(d,b,p){var y,E;(function(O,A){y=A,(E=typeof y=="function"?y.call(b,p,b,d):y)!==void 0&&(d.exports=E)})(0,function(){var O=function(be,le){this.items=be,this.settings=le||{diacritics:!0}};O.prototype.tokenize=function(be){if(!(be=re(String(be||"").toLowerCase()))||!be.length)return[];var le,de,De,j,ae=[],P=be.split(/ +/);for(le=0,de=P.length;le<de;le++){if(De=X(P[le]),this.settings.diacritics)for(j in te)te.hasOwnProperty(j)&&(De=De.replace(new RegExp(j,"g"),te[j]));ae.push({string:P[le],regex:new RegExp(De,"i")})}return ae},O.prototype.iterator=function(be,le){var de;de=ee(be)?Array.prototype.forEach||function(De){for(var j=0,ae=this.length;j<ae;j++)De(this[j],j,this)}:function(De){for(var j in this)this.hasOwnProperty(j)&&De(this[j],j,this)},de.apply(be,[le])},O.prototype.getScoreFunction=function(be,le){var de,De,j,ae,P;de=this,be=de.prepareSearch(be,le),j=be.tokens,De=be.options.fields,ae=j.length,P=be.options.nesting;var ge=function(pe,Ke){var ye,Y;return pe?(pe=String(pe||""),(Y=pe.search(Ke.regex))===-1?0:(ye=Ke.string.length/pe.length,Y===0&&(ye+=.5),ye)):0},Ue=function(){var pe=De.length;return pe?pe===1?function(Ke,ye){return ge(U(ye,De[0],P),Ke)}:function(Ke,ye){for(var Y=0,Ee=0;Y<pe;Y++)Ee+=ge(U(ye,De[Y],P),Ke);return Ee/pe}:function(){return 0}}();return ae?ae===1?function(pe){return Ue(j[0],pe)}:be.options.conjunction==="and"?function(pe){for(var Ke,ye=0,Y=0;ye<ae;ye++){if((Ke=Ue(j[ye],pe))<=0)return 0;Y+=Ke}return Y/ae}:function(pe){for(var Ke=0,ye=0;Ke<ae;Ke++)ye+=Ue(j[Ke],pe);return ye/ae}:function(){return 0}},O.prototype.getSortFunction=function(be,le){var de,De,j,ae,P,ge,Ue,pe,Ke,ye,Y;if(j=this,be=j.prepareSearch(be,le),Y=!be.query&&le.sort_empty||le.sort,Ke=function(Ee,Ce){return Ee==="$score"?Ce.score:U(j.items[Ce.id],Ee,le.nesting)},P=[],Y)for(de=0,De=Y.length;de<De;de++)(be.query||Y[de].field!=="$score")&&P.push(Y[de]);if(be.query){for(ye=!0,de=0,De=P.length;de<De;de++)if(P[de].field==="$score"){ye=!1;break}ye&&P.unshift({field:"$score",direction:"desc"})}else for(de=0,De=P.length;de<De;de++)if(P[de].field==="$score"){P.splice(de,1);break}for(pe=[],de=0,De=P.length;de<De;de++)pe.push(P[de].direction==="desc"?-1:1);return ge=P.length,ge?ge===1?(ae=P[0].field,Ue=pe[0],function(Ee,Ce){return Ue*A(Ke(ae,Ee),Ke(ae,Ce))}):function(Ee,Ce){var h,w,B;for(h=0;h<ge;h++)if(B=P[h].field,w=pe[h]*A(Ke(B,Ee),Ke(B,Ce)))return w;return 0}:null},O.prototype.prepareSearch=function(be,le){if(typeof be=="object")return be;le=H({},le);var de=le.fields,De=le.sort,j=le.sort_empty;return de&&!ee(de)&&(le.fields=[de]),De&&!ee(De)&&(le.sort=[De]),j&&!ee(j)&&(le.sort_empty=[j]),{options:le,query:String(be||"").toLowerCase(),tokens:this.tokenize(be),total:0,items:[]}},O.prototype.search=function(be,le){var de,De,j,ae,P=this;return De=this.prepareSearch(be,le),le=De.options,be=De.query,ae=le.score||P.getScoreFunction(De),be.length?P.iterator(P.items,function(ge,Ue){de=ae(ge),(le.filter===!1||de>0)&&De.items.push({score:de,id:Ue})}):P.iterator(P.items,function(ge,Ue){De.items.push({score:1,id:Ue})}),j=P.getSortFunction(De,le),j&&De.items.sort(j),De.total=De.items.length,typeof le.limit=="number"&&(De.items=De.items.slice(0,le.limit)),De};var A=function(be,le){return typeof be=="number"&&typeof le=="number"?be>le?1:be<le?-1:0:(be=ce(String(be||"")),le=ce(String(le||"")),be>le?1:le>be?-1:0)},H=function(be,le){var de,De,j,ae;for(de=1,De=arguments.length;de<De;de++)if(ae=arguments[de])for(j in ae)ae.hasOwnProperty(j)&&(be[j]=ae[j]);return be},U=function(be,le,de){if(be&&le){if(!de)return be[le];for(var De=le.split(".");De.length&&(be=be[De.shift()]););return be}},re=function(be){return(be+"").replace(/^\s+|\s+$|/g,"")},X=function(be){return(be+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},ee=Array.isArray||typeof $<"u"&&$.isArray||function(be){return Object.prototype.toString.call(be)==="[object Array]"},te={a:"[aḀḁĂăÂâǍǎȺⱥȦȧẠạÄäÀàÁáĀāÃãÅåąĄÃąĄ]",b:"[b␢βΒB฿𐌁ᛒ]",c:"[cĆćĈĉČčĊċC̄c̄ÇçḈḉȻȼƇƈɕᴄＣｃ]",d:"[dĎďḊḋḐḑḌḍḒḓḎḏĐđD̦d̦ƉɖƊɗƋƌᵭᶁᶑȡᴅＤｄð]",e:"[eÉéÈèÊêḘḙĚěĔĕẼẽḚḛẺẻĖėËëĒēȨȩĘęᶒɆɇȄȅẾếỀềỄễỂểḜḝḖḗḔḕȆȇẸẹỆệⱸᴇＥｅɘǝƏƐε]",f:"[fƑƒḞḟ]",g:"[gɢ₲ǤǥĜĝĞğĢģƓɠĠġ]",h:"[hĤĥĦħḨḩẖẖḤḥḢḣɦʰǶƕ]",i:"[iÍíÌìĬĭÎîǏǐÏïḮḯĨĩĮįĪīỈỉȈȉȊȋỊịḬḭƗɨɨ̆ᵻᶖİiIıɪＩｉ]",j:"[jȷĴĵɈɉʝɟʲ]",k:"[kƘƙꝀꝁḰḱǨǩḲḳḴḵκϰ₭]",l:"[lŁłĽľĻļĹĺḶḷḸḹḼḽḺḻĿŀȽƚⱠⱡⱢɫɬᶅɭȴʟＬｌ]",n:"[nŃńǸǹŇňÑñṄṅŅņṆṇṊṋṈṉN̈n̈ƝɲȠƞᵰᶇɳȵɴＮｎŊŋ]",o:"[oØøÖöÓóÒòÔôǑǒŐőŎŏȮȯỌọƟɵƠơỎỏŌōÕõǪǫȌȍՕօ]",p:"[pṔṕṖṗⱣᵽƤƥᵱ]",q:"[qꝖꝗʠɊɋꝘꝙq̃]",r:"[rŔŕɌɍŘřŖŗṘṙȐȑȒȓṚṛⱤɽ]",s:"[sŚśṠṡṢṣꞨꞩŜŝŠšŞşȘșS̈s̈]",t:"[tŤťṪṫŢţṬṭƮʈȚțṰṱṮṯƬƭ]",u:"[uŬŭɄʉỤụÜüÚúÙùÛûǓǔŰűŬŭƯưỦủŪūŨũŲųȔȕ∪]",v:"[vṼṽṾṿƲʋꝞꝟⱱʋ]",w:"[wẂẃẀẁŴŵẄẅẆẇẈẉ]",x:"[xẌẍẊẋχ]",y:"[yÝýỲỳŶŷŸÿỸỹẎẏỴỵɎɏƳƴ]",z:"[zŹźẐẑŽžŻżẒẓẔẕƵƶ]"},ce=function(){var be,le,de,De,j="",ae={};for(de in te)if(te.hasOwnProperty(de))for(De=te[de].substring(2,te[de].length-1),j+=De,be=0,le=De.length;be<le;be++)ae[De.charAt(be)]=de;var P=new RegExp("["+j+"]","g");return function(ge){return ge.replace(P,function(Ue){return ae[Ue]}).toLowerCase()}}();return O})},function(d,b,p){var y=p(2)(p(1),p(3),null,null);d.exports=y.exports}])})})(W1);var PH=W1.exports;const RH=au(PH);var Y1={exports:{}},Tp=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],qo={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(f){return typeof console<"u"&&console.warn(f)},getWeek:function(f){var c=new Date(f.getTime());c.setHours(0,0,0,0),c.setDate(c.getDate()+3-(c.getDay()+6)%7);var o=new Date(c.getFullYear(),0,4);return 1+Math.round(((c.getTime()-o.getTime())/864e5-3+(o.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},ru={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(f){var c=f%100;if(c>3&&c<21)return"th";switch(c%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},pr=function(f,c){return c===void 0&&(c=2),("000"+f).slice(c*-1)},Fr=function(f){return f===!0?1:0};function O1(f,c){var o;return function(){var d=this,b=arguments;clearTimeout(o),o=setTimeout(function(){return f.apply(d,b)},c)}}var Ap=function(f){return f instanceof Array?f:[f]};function ir(f,c,o){if(o===!0)return f.classList.add(c);f.classList.remove(c)}function qt(f,c,o){var d=window.document.createElement(f);return c=c||"",o=o||"",d.className=c,o!==void 0&&(d.textContent=o),d}function mf(f){for(;f.firstChild;)f.removeChild(f.firstChild)}function K1(f,c){if(c(f))return f;if(f.parentNode)return K1(f.parentNode,c)}function bf(f,c){var o=qt("div","numInputWrapper"),d=qt("input","numInput "+f),b=qt("span","arrowUp"),p=qt("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?d.type="number":(d.type="text",d.pattern="\\d*"),c!==void 0)for(var y in c)d.setAttribute(y,c[y]);return o.appendChild(d),o.appendChild(b),o.appendChild(p),o}function xr(f){try{if(typeof f.composedPath=="function"){var c=f.composedPath();return c[0]}return f.target}catch{return f.target}}var Np=function(){},Nf=function(f,c,o){return o.months[c?"shorthand":"longhand"][f]},IH={D:Np,F:function(f,c,o){f.setMonth(o.months.longhand.indexOf(c))},G:function(f,c){f.setHours((f.getHours()>=12?12:0)+parseFloat(c))},H:function(f,c){f.setHours(parseFloat(c))},J:function(f,c){f.setDate(parseFloat(c))},K:function(f,c,o){f.setHours(f.getHours()%12+12*Fr(new RegExp(o.amPM[1],"i").test(c)))},M:function(f,c,o){f.setMonth(o.months.shorthand.indexOf(c))},S:function(f,c){f.setSeconds(parseFloat(c))},U:function(f,c){return new Date(parseFloat(c)*1e3)},W:function(f,c,o){var d=parseInt(c),b=new Date(f.getFullYear(),0,2+(d-1)*7,0,0,0,0);return b.setDate(b.getDate()-b.getDay()+o.firstDayOfWeek),b},Y:function(f,c){f.setFullYear(parseFloat(c))},Z:function(f,c){return new Date(c)},d:function(f,c){f.setDate(parseFloat(c))},h:function(f,c){f.setHours((f.getHours()>=12?12:0)+parseFloat(c))},i:function(f,c){f.setMinutes(parseFloat(c))},j:function(f,c){f.setDate(parseFloat(c))},l:Np,m:function(f,c){f.setMonth(parseFloat(c)-1)},n:function(f,c){f.setMonth(parseFloat(c)-1)},s:function(f,c){f.setSeconds(parseFloat(c))},u:function(f,c){return new Date(parseFloat(c))},w:Np,y:function(f,c){f.setFullYear(2e3+parseFloat(c))}},Ji={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},nu={Z:function(f){return f.toISOString()},D:function(f,c,o){return c.weekdays.shorthand[nu.w(f,c,o)]},F:function(f,c,o){return Nf(nu.n(f,c,o)-1,!1,c)},G:function(f,c,o){return pr(nu.h(f,c,o))},H:function(f){return pr(f.getHours())},J:function(f,c){return c.ordinal!==void 0?f.getDate()+c.ordinal(f.getDate()):f.getDate()},K:function(f,c){return c.amPM[Fr(f.getHours()>11)]},M:function(f,c){return Nf(f.getMonth(),!0,c)},S:function(f){return pr(f.getSeconds())},U:function(f){return f.getTime()/1e3},W:function(f,c,o){return o.getWeek(f)},Y:function(f){return pr(f.getFullYear(),4)},d:function(f){return pr(f.getDate())},h:function(f){return f.getHours()%12?f.getHours()%12:12},i:function(f){return pr(f.getMinutes())},j:function(f){return f.getDate()},l:function(f,c){return c.weekdays.longhand[f.getDay()]},m:function(f){return pr(f.getMonth()+1)},n:function(f){return f.getMonth()+1},s:function(f){return f.getSeconds()},u:function(f){return f.getTime()},w:function(f){return f.getDay()},y:function(f){return String(f.getFullYear()).substring(2)}},q1=function(f){var c=f.config,o=c===void 0?qo:c,d=f.l10n,b=d===void 0?ru:d,p=f.isMobile,y=p===void 0?!1:p;return function(E,O,A){var H=A||b;return o.formatDate!==void 0&&!y?o.formatDate(E,O,H):O.split("").map(function(U,re,X){return nu[U]&&X[re-1]!=="\\"?nu[U](E,H,o):U!=="\\"?U:""}).join("")}},Lp=function(f){var c=f.config,o=c===void 0?qo:c,d=f.l10n,b=d===void 0?ru:d;return function(p,y,E,O){if(!(p!==0&&!p)){var A=O||b,H,U=p;if(p instanceof Date)H=new Date(p.getTime());else if(typeof p!="string"&&p.toFixed!==void 0)H=new Date(p);else if(typeof p=="string"){var re=y||(o||qo).dateFormat,X=String(p).trim();if(X==="today")H=new Date,E=!0;else if(o&&o.parseDate)H=o.parseDate(p,re);else if(/Z$/.test(X)||/GMT$/.test(X))H=new Date(p);else{for(var ee=void 0,te=[],ce=0,be=0,le="";ce<re.length;ce++){var de=re[ce],De=de==="\\",j=re[ce-1]==="\\"||De;if(Ji[de]&&!j){le+=Ji[de];var ae=new RegExp(le).exec(p);ae&&(ee=!0)&&te[de!=="Y"?"push":"unshift"]({fn:IH[de],val:ae[++be]})}else De||(le+=".")}H=!o||!o.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),te.forEach(function(P){var ge=P.fn,Ue=P.val;return H=ge(H,Ue,A)||H}),H=ee?H:void 0}}if(!(H instanceof Date&&!isNaN(H.getTime()))){o.errorHandler(new Error("Invalid date provided: "+U));return}return E===!0&&H.setHours(0,0,0,0),H}}};function kr(f,c,o){return o===void 0&&(o=!0),o!==!1?new Date(f.getTime()).setHours(0,0,0,0)-new Date(c.getTime()).setHours(0,0,0,0):f.getTime()-c.getTime()}var BH=function(f,c,o){return f>Math.min(c,o)&&f<Math.max(c,o)},Pp=function(f,c,o){return f*3600+c*60+o},MH=function(f){var c=Math.floor(f/3600),o=(f-c*3600)/60;return[c,o,f-c*3600-o*60]},$H={DAY:864e5};function Rp(f){var c=f.defaultHour,o=f.defaultMinute,d=f.defaultSeconds;if(f.minDate!==void 0){var b=f.minDate.getHours(),p=f.minDate.getMinutes(),y=f.minDate.getSeconds();c<b&&(c=b),c===b&&o<p&&(o=p),c===b&&o===p&&d<y&&(d=f.minDate.getSeconds())}if(f.maxDate!==void 0){var E=f.maxDate.getHours(),O=f.maxDate.getMinutes();c=Math.min(c,E),c===E&&(o=Math.min(O,o)),c===E&&o===O&&(d=f.maxDate.getSeconds())}return{hours:c,minutes:o,seconds:d}}typeof Object.assign!="function"&&(Object.assign=function(f){for(var c=[],o=1;o<arguments.length;o++)c[o-1]=arguments[o];if(!f)throw TypeError("Cannot convert undefined or null to object");for(var d=function(E){E&&Object.keys(E).forEach(function(O){return f[O]=E[O]})},b=0,p=c;b<p.length;b++){var y=p[b];d(y)}return f});var er=globalThis&&globalThis.__assign||function(){return er=Object.assign||function(f){for(var c,o=1,d=arguments.length;o<d;o++){c=arguments[o];for(var b in c)Object.prototype.hasOwnProperty.call(c,b)&&(f[b]=c[b])}return f},er.apply(this,arguments)},T1=globalThis&&globalThis.__spreadArrays||function(){for(var f=0,c=0,o=arguments.length;c<o;c++)f+=arguments[c].length;for(var d=Array(f),b=0,c=0;c<o;c++)for(var p=arguments[c],y=0,E=p.length;y<E;y++,b++)d[b]=p[y];return d},FH=300;function LH(f,c){var o={config:er(er({},qo),On.defaultConfig),l10n:ru};o.parseDate=Lp({config:o.config,l10n:o.l10n}),o._handlers=[],o.pluginElements=[],o.loadedPlugins=[],o._bind=te,o._setHoursFromDate=re,o._positionCalendar=it,o.changeMonth=N,o.changeYear=S,o.clear=M,o.close=W,o.onMouseOver=Qt,o._createElement=qt,o.createDay=ae,o.destroy=ke,o.isEnabled=tt,o.jumpToDate=le,o.updateValue=Vr,o.open=_t,o.redraw=tn,o.set=Tr,o.setDate=Me,o.toggle=Ht;function d(){o.utils={getDaysInMonth:function(I,L){return I===void 0&&(I=o.currentMonth),L===void 0&&(L=o.currentYear),I===1&&(L%4===0&&L%100!==0||L%400===0)?29:o.l10n.daysInMonth[I]}}}function b(){o.element=o.input=f,o.isOpen=!1,_e(),nn(),ht(),at(),d(),o.isMobile||j(),be(),(o.selectedDates.length||o.config.noCalendar)&&(o.config.enableTime&&re(o.config.noCalendar?o.latestSelectedDateObj:void 0),Vr(!1)),E();var I=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!o.isMobile&&I&&it(),ot("onReady")}function p(){var I;return((I=o.calendarContainer)===null||I===void 0?void 0:I.getRootNode()).activeElement||document.activeElement}function y(I){return I.bind(o)}function E(){var I=o.config;I.weekNumbers===!1&&I.showMonths===1||I.noCalendar!==!0&&window.requestAnimationFrame(function(){if(o.calendarContainer!==void 0&&(o.calendarContainer.style.visibility="hidden",o.calendarContainer.style.display="block"),o.daysContainer!==void 0){var L=(o.days.offsetWidth+1)*I.showMonths;o.daysContainer.style.width=L+"px",o.calendarContainer.style.width=L+(o.weekWrapper!==void 0?o.weekWrapper.offsetWidth:0)+"px",o.calendarContainer.style.removeProperty("visibility"),o.calendarContainer.style.removeProperty("display")}})}function O(I){if(o.selectedDates.length===0){var L=o.config.minDate===void 0||kr(new Date,o.config.minDate)>=0?new Date:new Date(o.config.minDate.getTime()),se=Rp(o.config);L.setHours(se.hours,se.minutes,se.seconds,L.getMilliseconds()),o.selectedDates=[L],o.latestSelectedDateObj=L}I!==void 0&&I.type!=="blur"&&su(I);var Ne=o._input.value;U(),Vr(),o._input.value!==Ne&&o._debouncedChange()}function A(I,L){return I%12+12*Fr(L===o.l10n.amPM[1])}function H(I){switch(I%24){case 0:case 12:return 12;default:return I%12}}function U(){if(!(o.hourElement===void 0||o.minuteElement===void 0)){var I=(parseInt(o.hourElement.value.slice(-2),10)||0)%24,L=(parseInt(o.minuteElement.value,10)||0)%60,se=o.secondElement!==void 0?(parseInt(o.secondElement.value,10)||0)%60:0;o.amPM!==void 0&&(I=A(I,o.amPM.textContent));var Ne=o.config.minTime!==void 0||o.config.minDate&&o.minDateHasTime&&o.latestSelectedDateObj&&kr(o.latestSelectedDateObj,o.config.minDate,!0)===0,Ve=o.config.maxTime!==void 0||o.config.maxDate&&o.maxDateHasTime&&o.latestSelectedDateObj&&kr(o.latestSelectedDateObj,o.config.maxDate,!0)===0;if(o.config.maxTime!==void 0&&o.config.minTime!==void 0&&o.config.minTime>o.config.maxTime){var $e=Pp(o.config.minTime.getHours(),o.config.minTime.getMinutes(),o.config.minTime.getSeconds()),wt=Pp(o.config.maxTime.getHours(),o.config.maxTime.getMinutes(),o.config.maxTime.getSeconds()),ft=Pp(I,L,se);if(ft>wt&&ft<$e){var Nt=MH($e);I=Nt[0],L=Nt[1],se=Nt[2]}}else{if(Ve){var ut=o.config.maxTime!==void 0?o.config.maxTime:o.config.maxDate;I=Math.min(I,ut.getHours()),I===ut.getHours()&&(L=Math.min(L,ut.getMinutes())),L===ut.getMinutes()&&(se=Math.min(se,ut.getSeconds()))}if(Ne){var gt=o.config.minTime!==void 0?o.config.minTime:o.config.minDate;I=Math.max(I,gt.getHours()),I===gt.getHours()&&L<gt.getMinutes()&&(L=gt.getMinutes()),L===gt.getMinutes()&&(se=Math.max(se,gt.getSeconds()))}}X(I,L,se)}}function re(I){var L=I||o.latestSelectedDateObj;L&&L instanceof Date&&X(L.getHours(),L.getMinutes(),L.getSeconds())}function X(I,L,se){o.latestSelectedDateObj!==void 0&&o.latestSelectedDateObj.setHours(I%24,L,se||0,0),!(!o.hourElement||!o.minuteElement||o.isMobile)&&(o.hourElement.value=pr(o.config.time_24hr?I:(12+I)%12+12*Fr(I%12===0)),o.minuteElement.value=pr(L),o.amPM!==void 0&&(o.amPM.textContent=o.l10n.amPM[Fr(I>=12)]),o.secondElement!==void 0&&(o.secondElement.value=pr(se)))}function ee(I){var L=xr(I),se=parseInt(L.value)+(I.delta||0);(se/1e3>1||I.key==="Enter"&&!/[^\d]/.test(se.toString()))&&S(se)}function te(I,L,se,Ne){if(L instanceof Array)return L.forEach(function(Ve){return te(I,Ve,se,Ne)});if(I instanceof Array)return I.forEach(function(Ve){return te(Ve,L,se,Ne)});I.addEventListener(L,se,Ne),o._handlers.push({remove:function(){return I.removeEventListener(L,se,Ne)}})}function ce(){ot("onChange")}function be(){if(o.config.wrap&&["open","close","toggle","clear"].forEach(function(se){Array.prototype.forEach.call(o.element.querySelectorAll("[data-"+se+"]"),function(Ne){return te(Ne,"click",o[se])})}),o.isMobile){bt();return}var I=O1(qe,50);if(o._debouncedChange=O1(ce,FH),o.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&te(o.daysContainer,"mouseover",function(se){o.config.mode==="range"&&Qt(xr(se))}),te(o._input,"keydown",Rt),o.calendarContainer!==void 0&&te(o.calendarContainer,"keydown",Rt),!o.config.inline&&!o.config.static&&te(window,"resize",I),window.ontouchstart!==void 0?te(window.document,"touchstart",oe):te(window.document,"mousedown",oe),te(window.document,"focus",oe,{capture:!0}),o.config.clickOpens===!0&&(te(o._input,"focus",o.open),te(o._input,"click",o.open)),o.daysContainer!==void 0&&(te(o.monthNav,"click",Jo),te(o.monthNav,["keyup","increment"],ee),te(o.daysContainer,"click",_r)),o.timeContainer!==void 0&&o.minuteElement!==void 0&&o.hourElement!==void 0){var L=function(se){return xr(se).select()};te(o.timeContainer,["increment"],O),te(o.timeContainer,"blur",O,{capture:!0}),te(o.timeContainer,"click",de),te([o.hourElement,o.minuteElement],["focus","click"],L),o.secondElement!==void 0&&te(o.secondElement,"focus",function(){return o.secondElement&&o.secondElement.select()}),o.amPM!==void 0&&te(o.amPM,"click",function(se){O(se)})}o.config.allowInput&&te(o._input,"blur",Bt)}function le(I,L){var se=I!==void 0?o.parseDate(I):o.latestSelectedDateObj||(o.config.minDate&&o.config.minDate>o.now?o.config.minDate:o.config.maxDate&&o.config.maxDate<o.now?o.config.maxDate:o.now),Ne=o.currentYear,Ve=o.currentMonth;try{se!==void 0&&(o.currentYear=se.getFullYear(),o.currentMonth=se.getMonth())}catch($e){$e.message="Invalid date supplied: "+se,o.config.errorHandler($e)}L&&o.currentYear!==Ne&&(ot("onYearChange"),Y()),L&&(o.currentYear!==Ne||o.currentMonth!==Ve)&&ot("onMonthChange"),o.redraw()}function de(I){var L=xr(I);~L.className.indexOf("arrow")&&De(I,L.classList.contains("arrowUp")?1:-1)}function De(I,L,se){var Ne=I&&xr(I),Ve=se||Ne&&Ne.parentNode&&Ne.parentNode.firstChild,$e=on("increment");$e.delta=L,Ve&&Ve.dispatchEvent($e)}function j(){var I=window.document.createDocumentFragment();if(o.calendarContainer=qt("div","flatpickr-calendar"),o.calendarContainer.tabIndex=-1,!o.config.noCalendar){if(I.appendChild(h()),o.innerContainer=qt("div","flatpickr-innerContainer"),o.config.weekNumbers){var L=J(),se=L.weekWrapper,Ne=L.weekNumbers;o.innerContainer.appendChild(se),o.weekNumbers=Ne,o.weekWrapper=se}o.rContainer=qt("div","flatpickr-rContainer"),o.rContainer.appendChild(B()),o.daysContainer||(o.daysContainer=qt("div","flatpickr-days"),o.daysContainer.tabIndex=-1),ye(),o.rContainer.appendChild(o.daysContainer),o.innerContainer.appendChild(o.rContainer),I.appendChild(o.innerContainer)}o.config.enableTime&&I.appendChild(w()),ir(o.calendarContainer,"rangeMode",o.config.mode==="range"),ir(o.calendarContainer,"animate",o.config.animate===!0),ir(o.calendarContainer,"multiMonth",o.config.showMonths>1),o.calendarContainer.appendChild(I);var Ve=o.config.appendTo!==void 0&&o.config.appendTo.nodeType!==void 0;if((o.config.inline||o.config.static)&&(o.calendarContainer.classList.add(o.config.inline?"inline":"static"),o.config.inline&&(!Ve&&o.element.parentNode?o.element.parentNode.insertBefore(o.calendarContainer,o._input.nextSibling):o.config.appendTo!==void 0&&o.config.appendTo.appendChild(o.calendarContainer)),o.config.static)){var $e=qt("div","flatpickr-wrapper");o.element.parentNode&&o.element.parentNode.insertBefore($e,o.element),$e.appendChild(o.element),o.altInput&&$e.appendChild(o.altInput),$e.appendChild(o.calendarContainer)}!o.config.static&&!o.config.inline&&(o.config.appendTo!==void 0?o.config.appendTo:window.document.body).appendChild(o.calendarContainer)}function ae(I,L,se,Ne){var Ve=tt(L,!0),$e=qt("span",I,L.getDate().toString());return $e.dateObj=L,$e.$i=Ne,$e.setAttribute("aria-label",o.formatDate(L,o.config.ariaDateFormat)),I.indexOf("hidden")===-1&&kr(L,o.now)===0&&(o.todayDateElem=$e,$e.classList.add("today"),$e.setAttribute("aria-current","date")),Ve?($e.tabIndex=-1,bn(L)&&($e.classList.add("selected"),o.selectedDateElem=$e,o.config.mode==="range"&&(ir($e,"startRange",o.selectedDates[0]&&kr(L,o.selectedDates[0],!0)===0),ir($e,"endRange",o.selectedDates[1]&&kr(L,o.selectedDates[1],!0)===0),I==="nextMonthDay"&&$e.classList.add("inRange")))):$e.classList.add("flatpickr-disabled"),o.config.mode==="range"&&Kn(L)&&!bn(L)&&$e.classList.add("inRange"),o.weekNumbers&&o.config.showMonths===1&&I!=="prevMonthDay"&&Ne%7===6&&o.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+o.config.getWeek(L)+"</span>"),ot("onDayCreate",$e),$e}function P(I){I.focus(),o.config.mode==="range"&&Qt(I)}function ge(I){for(var L=I>0?0:o.config.showMonths-1,se=I>0?o.config.showMonths:-1,Ne=L;Ne!=se;Ne+=I)for(var Ve=o.daysContainer.children[Ne],$e=I>0?0:Ve.children.length-1,wt=I>0?Ve.children.length:-1,ft=$e;ft!=wt;ft+=I){var Nt=Ve.children[ft];if(Nt.className.indexOf("hidden")===-1&&tt(Nt.dateObj))return Nt}}function Ue(I,L){for(var se=I.className.indexOf("Month")===-1?I.dateObj.getMonth():o.currentMonth,Ne=L>0?o.config.showMonths:-1,Ve=L>0?1:-1,$e=se-o.currentMonth;$e!=Ne;$e+=Ve)for(var wt=o.daysContainer.children[$e],ft=se-o.currentMonth===$e?I.$i+L:L<0?wt.children.length-1:0,Nt=wt.children.length,ut=ft;ut>=0&&ut<Nt&&ut!=(L>0?Nt:-1);ut+=Ve){var gt=wt.children[ut];if(gt.className.indexOf("hidden")===-1&&tt(gt.dateObj)&&Math.abs(I.$i-ut)>=Math.abs(L))return P(gt)}o.changeMonth(Ve),pe(ge(Ve),0)}function pe(I,L){var se=p(),Ne=Ct(se||document.body),Ve=I!==void 0?I:Ne?se:o.selectedDateElem!==void 0&&Ct(o.selectedDateElem)?o.selectedDateElem:o.todayDateElem!==void 0&&Ct(o.todayDateElem)?o.todayDateElem:ge(L>0?1:-1);Ve===void 0?o._input.focus():Ne?Ue(Ve,L):P(Ve)}function Ke(I,L){for(var se=(new Date(I,L,1).getDay()-o.l10n.firstDayOfWeek+7)%7,Ne=o.utils.getDaysInMonth((L-1+12)%12,I),Ve=o.utils.getDaysInMonth(L,I),$e=window.document.createDocumentFragment(),wt=o.config.showMonths>1,ft=wt?"prevMonthDay hidden":"prevMonthDay",Nt=wt?"nextMonthDay hidden":"nextMonthDay",ut=Ne+1-se,gt=0;ut<=Ne;ut++,gt++)$e.appendChild(ae("flatpickr-day "+ft,new Date(I,L-1,ut),ut,gt));for(ut=1;ut<=Ve;ut++,gt++)$e.appendChild(ae("flatpickr-day",new Date(I,L,ut),ut,gt));for(var Wt=Ve+1;Wt<=42-se&&(o.config.showMonths===1||gt%7!==0);Wt++,gt++)$e.appendChild(ae("flatpickr-day "+Nt,new Date(I,L+1,Wt%Ve),Wt,gt));var Vn=qt("div","dayContainer");return Vn.appendChild($e),Vn}function ye(){if(o.daysContainer!==void 0){mf(o.daysContainer),o.weekNumbers&&mf(o.weekNumbers);for(var I=document.createDocumentFragment(),L=0;L<o.config.showMonths;L++){var se=new Date(o.currentYear,o.currentMonth,1);se.setMonth(o.currentMonth+L),I.appendChild(Ke(se.getFullYear(),se.getMonth()))}o.daysContainer.appendChild(I),o.days=o.daysContainer.firstChild,o.config.mode==="range"&&o.selectedDates.length===1&&Qt()}}function Y(){if(!(o.config.showMonths>1||o.config.monthSelectorType!=="dropdown")){var I=function(Ne){return o.config.minDate!==void 0&&o.currentYear===o.config.minDate.getFullYear()&&Ne<o.config.minDate.getMonth()?!1:!(o.config.maxDate!==void 0&&o.currentYear===o.config.maxDate.getFullYear()&&Ne>o.config.maxDate.getMonth())};o.monthsDropdownContainer.tabIndex=-1,o.monthsDropdownContainer.innerHTML="";for(var L=0;L<12;L++)if(I(L)){var se=qt("option","flatpickr-monthDropdown-month");se.value=new Date(o.currentYear,L).getMonth().toString(),se.textContent=Nf(L,o.config.shorthandCurrentMonth,o.l10n),se.tabIndex=-1,o.currentMonth===L&&(se.selected=!0),o.monthsDropdownContainer.appendChild(se)}}}function Ee(){var I=qt("div","flatpickr-month"),L=window.document.createDocumentFragment(),se;o.config.showMonths>1||o.config.monthSelectorType==="static"?se=qt("span","cur-month"):(o.monthsDropdownContainer=qt("select","flatpickr-monthDropdown-months"),o.monthsDropdownContainer.setAttribute("aria-label",o.l10n.monthAriaLabel),te(o.monthsDropdownContainer,"change",function(wt){var ft=xr(wt),Nt=parseInt(ft.value,10);o.changeMonth(Nt-o.currentMonth),ot("onMonthChange")}),Y(),se=o.monthsDropdownContainer);var Ne=bf("cur-year",{tabindex:"-1"}),Ve=Ne.getElementsByTagName("input")[0];Ve.setAttribute("aria-label",o.l10n.yearAriaLabel),o.config.minDate&&Ve.setAttribute("min",o.config.minDate.getFullYear().toString()),o.config.maxDate&&(Ve.setAttribute("max",o.config.maxDate.getFullYear().toString()),Ve.disabled=!!o.config.minDate&&o.config.minDate.getFullYear()===o.config.maxDate.getFullYear());var $e=qt("div","flatpickr-current-month");return $e.appendChild(se),$e.appendChild(Ne),L.appendChild($e),I.appendChild(L),{container:I,yearElement:Ve,monthElement:se}}function Ce(){mf(o.monthNav),o.monthNav.appendChild(o.prevMonthNav),o.config.showMonths&&(o.yearElements=[],o.monthElements=[]);for(var I=o.config.showMonths;I--;){var L=Ee();o.yearElements.push(L.yearElement),o.monthElements.push(L.monthElement),o.monthNav.appendChild(L.container)}o.monthNav.appendChild(o.nextMonthNav)}function h(){return o.monthNav=qt("div","flatpickr-months"),o.yearElements=[],o.monthElements=[],o.prevMonthNav=qt("span","flatpickr-prev-month"),o.prevMonthNav.innerHTML=o.config.prevArrow,o.nextMonthNav=qt("span","flatpickr-next-month"),o.nextMonthNav.innerHTML=o.config.nextArrow,Ce(),Object.defineProperty(o,"_hidePrevMonthArrow",{get:function(){return o.__hidePrevMonthArrow},set:function(I){o.__hidePrevMonthArrow!==I&&(ir(o.prevMonthNav,"flatpickr-disabled",I),o.__hidePrevMonthArrow=I)}}),Object.defineProperty(o,"_hideNextMonthArrow",{get:function(){return o.__hideNextMonthArrow},set:function(I){o.__hideNextMonthArrow!==I&&(ir(o.nextMonthNav,"flatpickr-disabled",I),o.__hideNextMonthArrow=I)}}),o.currentYearElement=o.yearElements[0],Ut(),o.monthNav}function w(){o.calendarContainer.classList.add("hasTime"),o.config.noCalendar&&o.calendarContainer.classList.add("noCalendar");var I=Rp(o.config);o.timeContainer=qt("div","flatpickr-time"),o.timeContainer.tabIndex=-1;var L=qt("span","flatpickr-time-separator",":"),se=bf("flatpickr-hour",{"aria-label":o.l10n.hourAriaLabel});o.hourElement=se.getElementsByTagName("input")[0];var Ne=bf("flatpickr-minute",{"aria-label":o.l10n.minuteAriaLabel});if(o.minuteElement=Ne.getElementsByTagName("input")[0],o.hourElement.tabIndex=o.minuteElement.tabIndex=-1,o.hourElement.value=pr(o.latestSelectedDateObj?o.latestSelectedDateObj.getHours():o.config.time_24hr?I.hours:H(I.hours)),o.minuteElement.value=pr(o.latestSelectedDateObj?o.latestSelectedDateObj.getMinutes():I.minutes),o.hourElement.setAttribute("step",o.config.hourIncrement.toString()),o.minuteElement.setAttribute("step",o.config.minuteIncrement.toString()),o.hourElement.setAttribute("min",o.config.time_24hr?"0":"1"),o.hourElement.setAttribute("max",o.config.time_24hr?"23":"12"),o.hourElement.setAttribute("maxlength","2"),o.minuteElement.setAttribute("min","0"),o.minuteElement.setAttribute("max","59"),o.minuteElement.setAttribute("maxlength","2"),o.timeContainer.appendChild(se),o.timeContainer.appendChild(L),o.timeContainer.appendChild(Ne),o.config.time_24hr&&o.timeContainer.classList.add("time24hr"),o.config.enableSeconds){o.timeContainer.classList.add("hasSeconds");var Ve=bf("flatpickr-second");o.secondElement=Ve.getElementsByTagName("input")[0],o.secondElement.value=pr(o.latestSelectedDateObj?o.latestSelectedDateObj.getSeconds():I.seconds),o.secondElement.setAttribute("step",o.minuteElement.getAttribute("step")),o.secondElement.setAttribute("min","0"),o.secondElement.setAttribute("max","59"),o.secondElement.setAttribute("maxlength","2"),o.timeContainer.appendChild(qt("span","flatpickr-time-separator",":")),o.timeContainer.appendChild(Ve)}return o.config.time_24hr||(o.amPM=qt("span","flatpickr-am-pm",o.l10n.amPM[Fr((o.latestSelectedDateObj?o.hourElement.value:o.config.defaultHour)>11)]),o.amPM.title=o.l10n.toggleTitle,o.amPM.tabIndex=-1,o.timeContainer.appendChild(o.amPM)),o.timeContainer}function B(){o.weekdayContainer?mf(o.weekdayContainer):o.weekdayContainer=qt("div","flatpickr-weekdays");for(var I=o.config.showMonths;I--;){var L=qt("div","flatpickr-weekdaycontainer");o.weekdayContainer.appendChild(L)}return q(),o.weekdayContainer}function q(){if(o.weekdayContainer){var I=o.l10n.firstDayOfWeek,L=T1(o.l10n.weekdays.shorthand);I>0&&I<L.length&&(L=T1(L.splice(I,L.length),L.splice(0,I)));for(var se=o.config.showMonths;se--;)o.weekdayContainer.children[se].innerHTML=`
      <span class='flatpickr-weekday'>
        `+L.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function J(){o.calendarContainer.classList.add("hasWeeks");var I=qt("div","flatpickr-weekwrapper");I.appendChild(qt("span","flatpickr-weekday",o.l10n.weekAbbreviation));var L=qt("div","flatpickr-weeks");return I.appendChild(L),{weekWrapper:I,weekNumbers:L}}function N(I,L){L===void 0&&(L=!0);var se=L?I:I-o.currentMonth;se<0&&o._hidePrevMonthArrow===!0||se>0&&o._hideNextMonthArrow===!0||(o.currentMonth+=se,(o.currentMonth<0||o.currentMonth>11)&&(o.currentYear+=o.currentMonth>11?1:-1,o.currentMonth=(o.currentMonth+12)%12,ot("onYearChange"),Y()),ye(),ot("onMonthChange"),Ut())}function M(I,L){if(I===void 0&&(I=!0),L===void 0&&(L=!0),o.input.value="",o.altInput!==void 0&&(o.altInput.value=""),o.mobileInput!==void 0&&(o.mobileInput.value=""),o.selectedDates=[],o.latestSelectedDateObj=void 0,L===!0&&(o.currentYear=o._initialDate.getFullYear(),o.currentMonth=o._initialDate.getMonth()),o.config.enableTime===!0){var se=Rp(o.config),Ne=se.hours,Ve=se.minutes,$e=se.seconds;X(Ne,Ve,$e)}o.redraw(),I&&ot("onChange")}function W(){o.isOpen=!1,o.isMobile||(o.calendarContainer!==void 0&&o.calendarContainer.classList.remove("open"),o._input!==void 0&&o._input.classList.remove("active")),ot("onClose")}function ke(){o.config!==void 0&&ot("onDestroy");for(var I=o._handlers.length;I--;)o._handlers[I].remove();if(o._handlers=[],o.mobileInput)o.mobileInput.parentNode&&o.mobileInput.parentNode.removeChild(o.mobileInput),o.mobileInput=void 0;else if(o.calendarContainer&&o.calendarContainer.parentNode)if(o.config.static&&o.calendarContainer.parentNode){var L=o.calendarContainer.parentNode;if(L.lastChild&&L.removeChild(L.lastChild),L.parentNode){for(;L.firstChild;)L.parentNode.insertBefore(L.firstChild,L);L.parentNode.removeChild(L)}}else o.calendarContainer.parentNode.removeChild(o.calendarContainer);o.altInput&&(o.input.type="text",o.altInput.parentNode&&o.altInput.parentNode.removeChild(o.altInput),delete o.altInput),o.input&&(o.input.type=o.input._type,o.input.classList.remove("flatpickr-input"),o.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(se){try{delete o[se]}catch{}})}function Ae(I){return o.calendarContainer.contains(I)}function oe(I){if(o.isOpen&&!o.config.inline){var L=xr(I),se=Ae(L),Ne=L===o.input||L===o.altInput||o.element.contains(L)||I.path&&I.path.indexOf&&(~I.path.indexOf(o.input)||~I.path.indexOf(o.altInput)),Ve=!Ne&&!se&&!Ae(I.relatedTarget),$e=!o.config.ignoredFocusElements.some(function(wt){return wt.contains(L)});Ve&&$e&&(o.config.allowInput&&o.setDate(o._input.value,!1,o.config.altInput?o.config.altFormat:o.config.dateFormat),o.timeContainer!==void 0&&o.minuteElement!==void 0&&o.hourElement!==void 0&&o.input.value!==""&&o.input.value!==void 0&&O(),o.close(),o.config&&o.config.mode==="range"&&o.selectedDates.length===1&&o.clear(!1))}}function S(I){if(!(!I||o.config.minDate&&I<o.config.minDate.getFullYear()||o.config.maxDate&&I>o.config.maxDate.getFullYear())){var L=I,se=o.currentYear!==L;o.currentYear=L||o.currentYear,o.config.maxDate&&o.currentYear===o.config.maxDate.getFullYear()?o.currentMonth=Math.min(o.config.maxDate.getMonth(),o.currentMonth):o.config.minDate&&o.currentYear===o.config.minDate.getFullYear()&&(o.currentMonth=Math.max(o.config.minDate.getMonth(),o.currentMonth)),se&&(o.redraw(),ot("onYearChange"),Y())}}function tt(I,L){var se;L===void 0&&(L=!0);var Ne=o.parseDate(I,void 0,L);if(o.config.minDate&&Ne&&kr(Ne,o.config.minDate,L!==void 0?L:!o.minDateHasTime)<0||o.config.maxDate&&Ne&&kr(Ne,o.config.maxDate,L!==void 0?L:!o.maxDateHasTime)>0)return!1;if(!o.config.enable&&o.config.disable.length===0)return!0;if(Ne===void 0)return!1;for(var Ve=!!o.config.enable,$e=(se=o.config.enable)!==null&&se!==void 0?se:o.config.disable,wt=0,ft=void 0;wt<$e.length;wt++){if(ft=$e[wt],typeof ft=="function"&&ft(Ne))return Ve;if(ft instanceof Date&&Ne!==void 0&&ft.getTime()===Ne.getTime())return Ve;if(typeof ft=="string"){var Nt=o.parseDate(ft,void 0,!0);return Nt&&Nt.getTime()===Ne.getTime()?Ve:!Ve}else if(typeof ft=="object"&&Ne!==void 0&&ft.from&&ft.to&&Ne.getTime()>=ft.from.getTime()&&Ne.getTime()<=ft.to.getTime())return Ve}return!Ve}function Ct(I){return o.daysContainer!==void 0?I.className.indexOf("hidden")===-1&&I.className.indexOf("flatpickr-disabled")===-1&&o.daysContainer.contains(I):!1}function Bt(I){var L=I.target===o._input,se=o._input.value.trimEnd()!==Zi();L&&se&&!(I.relatedTarget&&Ae(I.relatedTarget))&&o.setDate(o._input.value,!0,I.target===o.altInput?o.config.altFormat:o.config.dateFormat)}function Rt(I){var L=xr(I),se=o.config.wrap?f.contains(L):L===o._input,Ne=o.config.allowInput,Ve=o.isOpen&&(!Ne||!se),$e=o.config.inline&&se&&!Ne;if(I.keyCode===13&&se){if(Ne)return o.setDate(o._input.value,!0,L===o.altInput?o.config.altFormat:o.config.dateFormat),o.close(),L.blur();o.open()}else if(Ae(L)||Ve||$e){var wt=!!o.timeContainer&&o.timeContainer.contains(L);switch(I.keyCode){case 13:wt?(I.preventDefault(),O(),St()):_r(I);break;case 27:I.preventDefault(),St();break;case 8:case 46:se&&!o.config.allowInput&&(I.preventDefault(),o.clear());break;case 37:case 39:if(!wt&&!se){I.preventDefault();var ft=p();if(o.daysContainer!==void 0&&(Ne===!1||ft&&Ct(ft))){var Nt=I.keyCode===39?1:-1;I.ctrlKey?(I.stopPropagation(),N(Nt),pe(ge(1),0)):pe(void 0,Nt)}}else o.hourElement&&o.hourElement.focus();break;case 38:case 40:I.preventDefault();var ut=I.keyCode===40?1:-1;o.daysContainer&&L.$i!==void 0||L===o.input||L===o.altInput?I.ctrlKey?(I.stopPropagation(),S(o.currentYear-ut),pe(ge(1),0)):wt||pe(void 0,ut*7):L===o.currentYearElement?S(o.currentYear-ut):o.config.enableTime&&(!wt&&o.hourElement&&o.hourElement.focus(),O(I),o._debouncedChange());break;case 9:if(wt){var gt=[o.hourElement,o.minuteElement,o.secondElement,o.amPM].concat(o.pluginElements).filter(function(qn){return qn}),Wt=gt.indexOf(L);if(Wt!==-1){var Vn=gt[Wt+(I.shiftKey?-1:1)];I.preventDefault(),(Vn||o._input).focus()}}else!o.config.noCalendar&&o.daysContainer&&o.daysContainer.contains(L)&&I.shiftKey&&(I.preventDefault(),o._input.focus());break}}if(o.amPM!==void 0&&L===o.amPM)switch(I.key){case o.l10n.amPM[0].charAt(0):case o.l10n.amPM[0].charAt(0).toLowerCase():o.amPM.textContent=o.l10n.amPM[0],U(),Vr();break;case o.l10n.amPM[1].charAt(0):case o.l10n.amPM[1].charAt(0).toLowerCase():o.amPM.textContent=o.l10n.amPM[1],U(),Vr();break}(se||Ae(L))&&ot("onKeyDown",I)}function Qt(I,L){if(L===void 0&&(L="flatpickr-day"),!(o.selectedDates.length!==1||I&&(!I.classList.contains(L)||I.classList.contains("flatpickr-disabled")))){for(var se=I?I.dateObj.getTime():o.days.firstElementChild.dateObj.getTime(),Ne=o.parseDate(o.selectedDates[0],void 0,!0).getTime(),Ve=Math.min(se,o.selectedDates[0].getTime()),$e=Math.max(se,o.selectedDates[0].getTime()),wt=!1,ft=0,Nt=0,ut=Ve;ut<$e;ut+=$H.DAY)tt(new Date(ut),!0)||(wt=wt||ut>Ve&&ut<$e,ut<Ne&&(!ft||ut>ft)?ft=ut:ut>Ne&&(!Nt||ut<Nt)&&(Nt=ut));var gt=Array.from(o.rContainer.querySelectorAll("*:nth-child(-n+"+o.config.showMonths+") > ."+L));gt.forEach(function(Wt){var Vn=Wt.dateObj,qn=Vn.getTime(),aa=ft>0&&qn<ft||Nt>0&&qn>Nt;if(aa){Wt.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(ka){Wt.classList.remove(ka)});return}else if(wt&&!aa)return;["startRange","inRange","endRange","notAllowed"].forEach(function(ka){Wt.classList.remove(ka)}),I!==void 0&&(I.classList.add(se<=o.selectedDates[0].getTime()?"startRange":"endRange"),Ne<se&&qn===Ne?Wt.classList.add("startRange"):Ne>se&&qn===Ne&&Wt.classList.add("endRange"),qn>=ft&&(Nt===0||qn<=Nt)&&BH(qn,Ne,se)&&Wt.classList.add("inRange"))})}}function qe(){o.isOpen&&!o.config.static&&!o.config.inline&&it()}function _t(I,L){if(L===void 0&&(L=o._positionElement),o.isMobile===!0){if(I){I.preventDefault();var se=xr(I);se&&se.blur()}o.mobileInput!==void 0&&(o.mobileInput.focus(),o.mobileInput.click()),ot("onOpen");return}else if(o._input.disabled||o.config.inline)return;var Ne=o.isOpen;o.isOpen=!0,Ne||(o.calendarContainer.classList.add("open"),o._input.classList.add("active"),ot("onOpen"),it(L)),o.config.enableTime===!0&&o.config.noCalendar===!0&&o.config.allowInput===!1&&(I===void 0||!o.timeContainer.contains(I.relatedTarget))&&setTimeout(function(){return o.hourElement.select()},50)}function xt(I){return function(L){var se=o.config["_"+I+"Date"]=o.parseDate(L,o.config.dateFormat),Ne=o.config["_"+(I==="min"?"max":"min")+"Date"];se!==void 0&&(o[I==="min"?"minDateHasTime":"maxDateHasTime"]=se.getHours()>0||se.getMinutes()>0||se.getSeconds()>0),o.selectedDates&&(o.selectedDates=o.selectedDates.filter(function(Ve){return tt(Ve)}),!o.selectedDates.length&&I==="min"&&re(se),Vr()),o.daysContainer&&(tn(),se!==void 0?o.currentYearElement[I]=se.getFullYear().toString():o.currentYearElement.removeAttribute(I),o.currentYearElement.disabled=!!Ne&&se!==void 0&&Ne.getFullYear()===se.getFullYear())}}function _e(){var I=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],L=er(er({},JSON.parse(JSON.stringify(f.dataset||{}))),c),se={};o.config.parseDate=L.parseDate,o.config.formatDate=L.formatDate,Object.defineProperty(o.config,"enable",{get:function(){return o.config._enable},set:function(gt){o.config._enable=je(gt)}}),Object.defineProperty(o.config,"disable",{get:function(){return o.config._disable},set:function(gt){o.config._disable=je(gt)}});var Ne=L.mode==="time";if(!L.dateFormat&&(L.enableTime||Ne)){var Ve=On.defaultConfig.dateFormat||qo.dateFormat;se.dateFormat=L.noCalendar||Ne?"H:i"+(L.enableSeconds?":S":""):Ve+" H:i"+(L.enableSeconds?":S":"")}if(L.altInput&&(L.enableTime||Ne)&&!L.altFormat){var $e=On.defaultConfig.altFormat||qo.altFormat;se.altFormat=L.noCalendar||Ne?"h:i"+(L.enableSeconds?":S K":" K"):$e+(" h:i"+(L.enableSeconds?":S":"")+" K")}Object.defineProperty(o.config,"minDate",{get:function(){return o.config._minDate},set:xt("min")}),Object.defineProperty(o.config,"maxDate",{get:function(){return o.config._maxDate},set:xt("max")});var wt=function(gt){return function(Wt){o.config[gt==="min"?"_minTime":"_maxTime"]=o.parseDate(Wt,"H:i:S")}};Object.defineProperty(o.config,"minTime",{get:function(){return o.config._minTime},set:wt("min")}),Object.defineProperty(o.config,"maxTime",{get:function(){return o.config._maxTime},set:wt("max")}),L.mode==="time"&&(o.config.noCalendar=!0,o.config.enableTime=!0),Object.assign(o.config,se,L);for(var ft=0;ft<I.length;ft++)o.config[I[ft]]=o.config[I[ft]]===!0||o.config[I[ft]]==="true";Tp.filter(function(gt){return o.config[gt]!==void 0}).forEach(function(gt){o.config[gt]=Ap(o.config[gt]||[]).map(y)}),o.isMobile=!o.config.disableMobile&&!o.config.inline&&o.config.mode==="single"&&!o.config.disable.length&&!o.config.enable&&!o.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var ft=0;ft<o.config.plugins.length;ft++){var Nt=o.config.plugins[ft](o)||{};for(var ut in Nt)Tp.indexOf(ut)>-1?o.config[ut]=Ap(Nt[ut]).map(y).concat(o.config[ut]):typeof L[ut]>"u"&&(o.config[ut]=Nt[ut])}L.altInputClass||(o.config.altInputClass=en().className+" "+o.config.altInputClass),ot("onParseConfig")}function en(){return o.config.wrap?f.querySelector("[data-input]"):f}function nn(){typeof o.config.locale!="object"&&typeof On.l10ns[o.config.locale]>"u"&&o.config.errorHandler(new Error("flatpickr: invalid locale "+o.config.locale)),o.l10n=er(er({},On.l10ns.default),typeof o.config.locale=="object"?o.config.locale:o.config.locale!=="default"?On.l10ns[o.config.locale]:void 0),Ji.D="("+o.l10n.weekdays.shorthand.join("|")+")",Ji.l="("+o.l10n.weekdays.longhand.join("|")+")",Ji.M="("+o.l10n.months.shorthand.join("|")+")",Ji.F="("+o.l10n.months.longhand.join("|")+")",Ji.K="("+o.l10n.amPM[0]+"|"+o.l10n.amPM[1]+"|"+o.l10n.amPM[0].toLowerCase()+"|"+o.l10n.amPM[1].toLowerCase()+")";var I=er(er({},c),JSON.parse(JSON.stringify(f.dataset||{})));I.time_24hr===void 0&&On.defaultConfig.time_24hr===void 0&&(o.config.time_24hr=o.l10n.time_24hr),o.formatDate=q1(o),o.parseDate=Lp({config:o.config,l10n:o.l10n})}function it(I){if(typeof o.config.position=="function")return void o.config.position(o,I);if(o.calendarContainer!==void 0){ot("onPreCalendarPosition");var L=I||o._positionElement,se=Array.prototype.reduce.call(o.calendarContainer.children,function($f,uu){return $f+uu.offsetHeight},0),Ne=o.calendarContainer.offsetWidth,Ve=o.config.position.split(" "),$e=Ve[0],wt=Ve.length>1?Ve[1]:null,ft=L.getBoundingClientRect(),Nt=window.innerHeight-ft.bottom,ut=$e==="above"||$e!=="below"&&Nt<se&&ft.top>se,gt=window.pageYOffset+ft.top+(ut?-se-2:L.offsetHeight+2);if(ir(o.calendarContainer,"arrowTop",!ut),ir(o.calendarContainer,"arrowBottom",ut),!o.config.inline){var Wt=window.pageXOffset+ft.left,Vn=!1,qn=!1;wt==="center"?(Wt-=(Ne-ft.width)/2,Vn=!0):wt==="right"&&(Wt-=Ne-ft.width,qn=!0),ir(o.calendarContainer,"arrowLeft",!Vn&&!qn),ir(o.calendarContainer,"arrowCenter",Vn),ir(o.calendarContainer,"arrowRight",qn);var aa=window.document.body.offsetWidth-(window.pageXOffset+ft.right),ka=Wt+Ne>window.document.body.offsetWidth,ia=aa+Ne>window.document.body.offsetWidth;if(ir(o.calendarContainer,"rightMost",ka),!o.config.static)if(o.calendarContainer.style.top=gt+"px",!ka)o.calendarContainer.style.left=Wt+"px",o.calendarContainer.style.right="auto";else if(!ia)o.calendarContainer.style.left="auto",o.calendarContainer.style.right=aa+"px";else{var st=_n();if(st===void 0)return;var Rf=window.document.body.offsetWidth,Hr=Math.max(0,Rf/2-Ne/2),Qo=".flatpickr-calendar.centerMost:before",If=".flatpickr-calendar.centerMost:after",Bf=st.cssRules.length,Mf="{left:"+ft.left+"px;right:auto;}";ir(o.calendarContainer,"rightMost",!1),ir(o.calendarContainer,"centerMost",!0),st.insertRule(Qo+","+If+Mf,Bf),o.calendarContainer.style.left=Hr+"px",o.calendarContainer.style.right="auto"}}}}function _n(){for(var I=null,L=0;L<document.styleSheets.length;L++){var se=document.styleSheets[L];if(se.cssRules){try{se.cssRules}catch{continue}I=se;break}}return I??Gt()}function Gt(){var I=document.createElement("style");return document.head.appendChild(I),I.sheet}function tn(){o.config.noCalendar||o.isMobile||(Y(),Ut(),ye())}function St(){o._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(o.close,0):o.close()}function _r(I){I.preventDefault(),I.stopPropagation();var L=function(gt){return gt.classList&&gt.classList.contains("flatpickr-day")&&!gt.classList.contains("flatpickr-disabled")&&!gt.classList.contains("notAllowed")},se=K1(xr(I),L);if(se!==void 0){var Ne=se,Ve=o.latestSelectedDateObj=new Date(Ne.dateObj.getTime()),$e=(Ve.getMonth()<o.currentMonth||Ve.getMonth()>o.currentMonth+o.config.showMonths-1)&&o.config.mode!=="range";if(o.selectedDateElem=Ne,o.config.mode==="single")o.selectedDates=[Ve];else if(o.config.mode==="multiple"){var wt=bn(Ve);wt?o.selectedDates.splice(parseInt(wt),1):o.selectedDates.push(Ve)}else o.config.mode==="range"&&(o.selectedDates.length===2&&o.clear(!1,!1),o.latestSelectedDateObj=Ve,o.selectedDates.push(Ve),kr(Ve,o.selectedDates[0],!0)!==0&&o.selectedDates.sort(function(gt,Wt){return gt.getTime()-Wt.getTime()}));if(U(),$e){var ft=o.currentYear!==Ve.getFullYear();o.currentYear=Ve.getFullYear(),o.currentMonth=Ve.getMonth(),ft&&(ot("onYearChange"),Y()),ot("onMonthChange")}if(Ut(),ye(),Vr(),!$e&&o.config.mode!=="range"&&o.config.showMonths===1?P(Ne):o.selectedDateElem!==void 0&&o.hourElement===void 0&&o.selectedDateElem&&o.selectedDateElem.focus(),o.hourElement!==void 0&&o.hourElement!==void 0&&o.hourElement.focus(),o.config.closeOnSelect){var Nt=o.config.mode==="single"&&!o.config.enableTime,ut=o.config.mode==="range"&&o.selectedDates.length===2&&!o.config.enableTime;(Nt||ut)&&St()}ce()}}var _a={locale:[nn,q],showMonths:[Ce,E,B],minDate:[le],maxDate:[le],positionElement:[Tt],clickOpens:[function(){o.config.clickOpens===!0?(te(o._input,"focus",o.open),te(o._input,"click",o.open)):(o._input.removeEventListener("focus",o.open),o._input.removeEventListener("click",o.open))}]};function Tr(I,L){if(I!==null&&typeof I=="object"){Object.assign(o.config,I);for(var se in I)_a[se]!==void 0&&_a[se].forEach(function(Ne){return Ne()})}else o.config[I]=L,_a[I]!==void 0?_a[I].forEach(function(Ne){return Ne()}):Tp.indexOf(I)>-1&&(o.config[I]=Ap(L));o.redraw(),Vr(!0)}function Q(I,L){var se=[];if(I instanceof Array)se=I.map(function(Ne){return o.parseDate(Ne,L)});else if(I instanceof Date||typeof I=="number")se=[o.parseDate(I,L)];else if(typeof I=="string")switch(o.config.mode){case"single":case"time":se=[o.parseDate(I,L)];break;case"multiple":se=I.split(o.config.conjunction).map(function(Ne){return o.parseDate(Ne,L)});break;case"range":se=I.split(o.l10n.rangeSeparator).map(function(Ne){return o.parseDate(Ne,L)});break}else o.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(I)));o.selectedDates=o.config.allowInvalidPreload?se:se.filter(function(Ne){return Ne instanceof Date&&tt(Ne,!1)}),o.config.mode==="range"&&o.selectedDates.sort(function(Ne,Ve){return Ne.getTime()-Ve.getTime()})}function Me(I,L,se){if(L===void 0&&(L=!1),se===void 0&&(se=o.config.dateFormat),I!==0&&!I||I instanceof Array&&I.length===0)return o.clear(L);Q(I,se),o.latestSelectedDateObj=o.selectedDates[o.selectedDates.length-1],o.redraw(),le(void 0,L),re(),o.selectedDates.length===0&&o.clear(!1),Vr(L),L&&ot("onChange")}function je(I){return I.slice().map(function(L){return typeof L=="string"||typeof L=="number"||L instanceof Date?o.parseDate(L,void 0,!0):L&&typeof L=="object"&&L.from&&L.to?{from:o.parseDate(L.from,void 0),to:o.parseDate(L.to,void 0)}:L}).filter(function(L){return L})}function at(){o.selectedDates=[],o.now=o.parseDate(o.config.now)||new Date;var I=o.config.defaultDate||((o.input.nodeName==="INPUT"||o.input.nodeName==="TEXTAREA")&&o.input.placeholder&&o.input.value===o.input.placeholder?null:o.input.value);I&&Q(I,o.config.dateFormat),o._initialDate=o.selectedDates.length>0?o.selectedDates[0]:o.config.minDate&&o.config.minDate.getTime()>o.now.getTime()?o.config.minDate:o.config.maxDate&&o.config.maxDate.getTime()<o.now.getTime()?o.config.maxDate:o.now,o.currentYear=o._initialDate.getFullYear(),o.currentMonth=o._initialDate.getMonth(),o.selectedDates.length>0&&(o.latestSelectedDateObj=o.selectedDates[0]),o.config.minTime!==void 0&&(o.config.minTime=o.parseDate(o.config.minTime,"H:i")),o.config.maxTime!==void 0&&(o.config.maxTime=o.parseDate(o.config.maxTime,"H:i")),o.minDateHasTime=!!o.config.minDate&&(o.config.minDate.getHours()>0||o.config.minDate.getMinutes()>0||o.config.minDate.getSeconds()>0),o.maxDateHasTime=!!o.config.maxDate&&(o.config.maxDate.getHours()>0||o.config.maxDate.getMinutes()>0||o.config.maxDate.getSeconds()>0)}function ht(){if(o.input=en(),!o.input){o.config.errorHandler(new Error("Invalid input element specified"));return}o.input._type=o.input.type,o.input.type="text",o.input.classList.add("flatpickr-input"),o._input=o.input,o.config.altInput&&(o.altInput=qt(o.input.nodeName,o.config.altInputClass),o._input=o.altInput,o.altInput.placeholder=o.input.placeholder,o.altInput.disabled=o.input.disabled,o.altInput.required=o.input.required,o.altInput.tabIndex=o.input.tabIndex,o.altInput.type="text",o.input.setAttribute("type","hidden"),!o.config.static&&o.input.parentNode&&o.input.parentNode.insertBefore(o.altInput,o.input.nextSibling)),o.config.allowInput||o._input.setAttribute("readonly","readonly"),Tt()}function Tt(){o._positionElement=o.config.positionElement||o._input}function bt(){var I=o.config.enableTime?o.config.noCalendar?"time":"datetime-local":"date";o.mobileInput=qt("input",o.input.className+" flatpickr-mobile"),o.mobileInput.tabIndex=1,o.mobileInput.type=I,o.mobileInput.disabled=o.input.disabled,o.mobileInput.required=o.input.required,o.mobileInput.placeholder=o.input.placeholder,o.mobileFormatStr=I==="datetime-local"?"Y-m-d\\TH:i:S":I==="date"?"Y-m-d":"H:i:S",o.selectedDates.length>0&&(o.mobileInput.defaultValue=o.mobileInput.value=o.formatDate(o.selectedDates[0],o.mobileFormatStr)),o.config.minDate&&(o.mobileInput.min=o.formatDate(o.config.minDate,"Y-m-d")),o.config.maxDate&&(o.mobileInput.max=o.formatDate(o.config.maxDate,"Y-m-d")),o.input.getAttribute("step")&&(o.mobileInput.step=String(o.input.getAttribute("step"))),o.input.type="hidden",o.altInput!==void 0&&(o.altInput.type="hidden");try{o.input.parentNode&&o.input.parentNode.insertBefore(o.mobileInput,o.input.nextSibling)}catch{}te(o.mobileInput,"change",function(L){o.setDate(xr(L).value,!1,o.mobileFormatStr),ot("onChange"),ot("onClose")})}function Ht(I){if(o.isOpen===!0)return o.close();o.open(I)}function ot(I,L){if(o.config!==void 0){var se=o.config[I];if(se!==void 0&&se.length>0)for(var Ne=0;se[Ne]&&Ne<se.length;Ne++)se[Ne](o.selectedDates,o.input.value,o,L);I==="onChange"&&(o.input.dispatchEvent(on("change")),o.input.dispatchEvent(on("input")))}}function on(I){var L=document.createEvent("Event");return L.initEvent(I,!0,!0),L}function bn(I){for(var L=0;L<o.selectedDates.length;L++){var se=o.selectedDates[L];if(se instanceof Date&&kr(se,I)===0)return""+L}return!1}function Kn(I){return o.config.mode!=="range"||o.selectedDates.length<2?!1:kr(I,o.selectedDates[0])>=0&&kr(I,o.selectedDates[1])<=0}function Ut(){o.config.noCalendar||o.isMobile||!o.monthNav||(o.yearElements.forEach(function(I,L){var se=new Date(o.currentYear,o.currentMonth,1);se.setMonth(o.currentMonth+L),o.config.showMonths>1||o.config.monthSelectorType==="static"?o.monthElements[L].textContent=Nf(se.getMonth(),o.config.shorthandCurrentMonth,o.l10n)+" ":o.monthsDropdownContainer.value=se.getMonth().toString(),I.value=se.getFullYear().toString()}),o._hidePrevMonthArrow=o.config.minDate!==void 0&&(o.currentYear===o.config.minDate.getFullYear()?o.currentMonth<=o.config.minDate.getMonth():o.currentYear<o.config.minDate.getFullYear()),o._hideNextMonthArrow=o.config.maxDate!==void 0&&(o.currentYear===o.config.maxDate.getFullYear()?o.currentMonth+1>o.config.maxDate.getMonth():o.currentYear>o.config.maxDate.getFullYear()))}function Zi(I){var L=I||(o.config.altInput?o.config.altFormat:o.config.dateFormat);return o.selectedDates.map(function(se){return o.formatDate(se,L)}).filter(function(se,Ne,Ve){return o.config.mode!=="range"||o.config.enableTime||Ve.indexOf(se)===Ne}).join(o.config.mode!=="range"?o.config.conjunction:o.l10n.rangeSeparator)}function Vr(I){I===void 0&&(I=!0),o.mobileInput!==void 0&&o.mobileFormatStr&&(o.mobileInput.value=o.latestSelectedDateObj!==void 0?o.formatDate(o.latestSelectedDateObj,o.mobileFormatStr):""),o.input.value=Zi(o.config.dateFormat),o.altInput!==void 0&&(o.altInput.value=Zi(o.config.altFormat)),I!==!1&&ot("onValueUpdate")}function Jo(I){var L=xr(I),se=o.prevMonthNav.contains(L),Ne=o.nextMonthNav.contains(L);se||Ne?N(se?-1:1):o.yearElements.indexOf(L)>=0?L.select():L.classList.contains("arrowUp")?o.changeYear(o.currentYear+1):L.classList.contains("arrowDown")&&o.changeYear(o.currentYear-1)}function su(I){I.preventDefault();var L=I.type==="keydown",se=xr(I),Ne=se;o.amPM!==void 0&&se===o.amPM&&(o.amPM.textContent=o.l10n.amPM[Fr(o.amPM.textContent===o.l10n.amPM[0])]);var Ve=parseFloat(Ne.getAttribute("min")),$e=parseFloat(Ne.getAttribute("max")),wt=parseFloat(Ne.getAttribute("step")),ft=parseInt(Ne.value,10),Nt=I.delta||(L?I.which===38?1:-1:0),ut=ft+wt*Nt;if(typeof Ne.value<"u"&&Ne.value.length===2){var gt=Ne===o.hourElement,Wt=Ne===o.minuteElement;ut<Ve?(ut=$e+ut+Fr(!gt)+(Fr(gt)&&Fr(!o.amPM)),Wt&&De(void 0,-1,o.hourElement)):ut>$e&&(ut=Ne===o.hourElement?ut-$e-Fr(!o.amPM):Ve,Wt&&De(void 0,1,o.hourElement)),o.amPM&&gt&&(wt===1?ut+ft===23:Math.abs(ut-ft)>wt)&&(o.amPM.textContent=o.l10n.amPM[Fr(o.amPM.textContent===o.l10n.amPM[0])]),Ne.value=pr(ut)}}return b(),o}function Go(f,c){for(var o=Array.prototype.slice.call(f).filter(function(y){return y instanceof HTMLElement}),d=[],b=0;b<o.length;b++){var p=o[b];try{if(p.getAttribute("data-fp-omit")!==null)continue;p._flatpickr!==void 0&&(p._flatpickr.destroy(),p._flatpickr=void 0),p._flatpickr=LH(p,c||{}),d.push(p._flatpickr)}catch(y){console.error(y)}}return d.length===1?d[0]:d}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(f){return Go(this,f)},HTMLElement.prototype.flatpickr=function(f){return Go([this],f)});var On=function(f,c){return typeof f=="string"?Go(window.document.querySelectorAll(f),c):f instanceof Node?Go([f],c):Go(f,c)};On.defaultConfig={};On.l10ns={en:er({},ru),default:er({},ru)};On.localize=function(f){On.l10ns.default=er(er({},On.l10ns.default),f)};On.setDefaults=function(f){On.defaultConfig=er(er({},On.defaultConfig),f)};On.parseDate=Lp({});On.formatDate=q1({});On.compareDates=kr;typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(f){return Go(this,f)});Date.prototype.fp_incr=function(f){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof f=="string"?parseInt(f,10):f))};typeof window<"u"&&(window.flatpickr=On);const _H=Object.freeze(Object.defineProperty({__proto__:null,default:On},Symbol.toStringTag,{value:"Module"})),VH=A1(_H);(function(f,c){(function(d,b){f.exports=b(VH)})(Xo,o=>(()=>{var d={311:E=>{E.exports=o}},b={};function p(E){var O=b[E];if(O!==void 0)return O.exports;var A=b[E]={exports:{}};return d[E](A,A.exports,p),A.exports}p.n=E=>{var O=E&&E.__esModule?()=>E.default:()=>E;return p.d(O,{a:O}),O},p.d=(E,O)=>{for(var A in O)p.o(O,A)&&!p.o(E,A)&&Object.defineProperty(E,A,{enumerable:!0,get:O[A]})},p.o=(E,O)=>Object.prototype.hasOwnProperty.call(E,O);var y={};return(()=>{p.d(y,{default:()=>De});var E=p(311),O=p.n(E),A=["onChange","onClose","onDestroy","onMonthChange","onOpen","onYearChange"],H=["onValueUpdate","onDayCreate","onParseConfig","onReady","onPreCalendarPosition","onKeyDown"];function U(){return U=Object.assign?Object.assign.bind():function(j){for(var ae=1;ae<arguments.length;ae++){var P=arguments[ae];for(var ge in P)Object.prototype.hasOwnProperty.call(P,ge)&&(j[ge]=P[ge])}return j},U.apply(this,arguments)}var re=function(ae){return ae.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},X=function(ae){return ae instanceof Array?ae:[ae]},ee=function(ae){return ae&&ae.length?ae:null},te=function(ae){return U({},ae)},ce=A.concat(H),be=["locale","showMonths"];const le={name:"flat-pickr",render:function(ae){return ae("input",{attrs:{type:"text","data-input":!0},props:{disabled:this.disabled},on:{input:this.onInput}})},props:{value:{default:null,required:!0,validator:function(ae){return ae===null||ae instanceof Date||typeof ae=="string"||ae instanceof String||ae instanceof Array||typeof ae=="number"}},config:{type:Object,default:function(){return{wrap:!1,defaultDate:null}}},events:{type:Array,default:function(){return A}},disabled:{type:Boolean,default:!1}},data:function(){return{fp:null}},mounted:function(){var ae=this;if(!this.fp){var P=te(this.config);this.events.forEach(function(ge){var Ue=O().defaultConfig[ge]||[],pe=function(){for(var ye=arguments.length,Y=new Array(ye),Ee=0;Ee<ye;Ee++)Y[Ee]=arguments[Ee];ae.$emit.apply(ae,[re(ge)].concat(Y))};P[ge]=X(P[ge]||[]).concat(Ue,pe)}),P.defaultDate=this.value||P.defaultDate,this.fp=new(O())(this.getElem(),P),this.fpInput().addEventListener("blur",this.onBlur),this.$on("on-close",this.onClose),this.$watch("disabled",this.watchDisabled,{immediate:!0})}},methods:{getElem:function(){return this.config.wrap?this.$el.parentNode:this.$el},onInput:function(ae){var P=this,ge=ae.target;this.$nextTick(function(){P.$emit("input",ee(ge.value))})},fpInput:function(){return this.fp.altInput||this.fp.input},onBlur:function(ae){this.$emit("blur",ee(ae.target.value))},onClose:function(ae,P){this.$emit("input",ee(P))},watchDisabled:function(ae){ae?this.fpInput().setAttribute("disabled",ae):this.fpInput().removeAttribute("disabled")}},watch:{config:{deep:!0,handler:function(ae){var P=this,ge=te(ae);ce.forEach(function(Ue){delete ge[Ue]}),this.fp.set(ge),be.forEach(function(Ue){typeof ge[Ue]<"u"&&P.fp.set(Ue,ge[Ue])})}},value:function(ae){ae!==ee(this.$el.value)&&this.fp&&this.fp.setDate(ae,!0)}},beforeDestroy:function(){this.fp&&(this.fpInput().removeEventListener("blur",this.onBlur),this.fp.destroy(),this.fp=null)}};var de=function(ae,P){var ge="flat-pickr";typeof P=="string"&&(ge=P),ae.component(ge,le)};le.install=de;const De=le})(),y=y.default,y})())})(Y1);var HH=Y1.exports;const UH=au(HH),jH={data(){return{isLeftColumnSectionDragging:!1,isRightColumnSectionDragging:!1,formLeftSections:[],formRightSections:[]}},computed:{storeFormSections(){return{get:f=>this.getSectionOrder(f.options.dataName),set:f=>this.setSectionOrder(f)}}},created(){this.formLeftSections=this.getSectionOrder("product-form-left-sections"),this.formRightSections=this.getSectionOrder("product-form-right-sections")},methods:{getDefaultSectionOrder(f){return{"product-form-left-sections":["attributes","downloads","variations","variants","options"],"product-form-right-sections":["price","inventory","media","linked_products","seo","additional"]}[f]},getSectionOrder(f){const c=JSON.parse(localStorage.getItem(f));return c===null?this.getDefaultSectionOrder(f):c},setSectionOrder(f){this.$nextTick(()=>{localStorage.setItem(f.options.dataName,JSON.stringify(f.toArray()))})},notifySectionOrderChange(){toaster(trans("product::products.section.order_saved"),{type:"default"}),this.$nextTick(()=>{this.initColorPicker()})}}},zH={watch:{"form.attributes":{immediate:!0,handler(f){f.length===0&&this.addAttribute()}}},methods:{prepareAttributes(f){f.forEach(c=>{this.$set(c,"uid",this.uid())})},getAttributeValuesById(f){let c=null,o=!1;if(f!=="")return Object.values(FleetCart.data["attribute-sets"]).some(d=>{if(d.attributes.some(b=>{if(b.id===f)return o=!0,c=b.values,!0}),o)return!0}),c},focusAttributeValueField(f){this.$refs.attributeValues[f].$el.selectize.focus()},addAttribute(){this.form.attributes.push({attribute_id:"",uid:this.uid(),values:[]})},deleteAttribute(f,c){this.form.attributes.splice(f,1),this.clearErrors({name:"attributes",uid:c})}}};var Da=function(){/*!
* Copyright (c) 2021-2023 Momo Bassit.
* Licensed under the MIT License (MIT)
* https://github.com/mdbassit/Coloris
* Version: 0.21.1
* NPM: https://github.com/melloware/coloris-npm
*/return function(f,c,o,d){var b=c.createElement("canvas").getContext("2d"),p={r:0,g:0,b:0,h:0,s:0,v:0,a:1},y,E,O,A,H,U,re,X,ee,te,ce,be,le,de,De,j,ae={},P={el:"[data-coloris]",parent:"body",theme:"default",themeMode:"light",rtl:!1,wrap:!0,margin:2,format:"hex",formatToggle:!1,swatches:[],swatchesOnly:!1,alpha:!0,forceAlpha:!1,focusInput:!0,selectInput:!1,inline:!1,defaultColor:"#000000",clearButton:!1,clearLabel:"Clear",closeButton:!1,closeLabel:"Close",onChange:function(){return d},a11y:{open:"Open color picker",close:"Close color picker",clear:"Clear the selected color",marker:"Saturation: {s}. Brightness: {v}.",hueSlider:"Hue slider",alphaSlider:"Opacity slider",input:"Color value field",format:"Color format",swatch:"Color swatch",instruction:"Saturation and brightness selector. Use up, down, left and right arrow keys to select."}},ge={},Ue="",pe={},Ke=!1;function ye(Q){if(typeof Q=="object"){var Me=function(){switch(je){case"el":w(Q.el),Q.wrap!==!1&&q(Q.el);break;case"parent":y=c.querySelector(Q.parent),y&&(y.appendChild(E),P.parent=Q.parent,y===c.body&&(y=d));break;case"themeMode":P.themeMode=Q.themeMode,Q.themeMode==="auto"&&f.matchMedia&&f.matchMedia("(prefers-color-scheme: dark)").matches&&(P.themeMode="dark");case"theme":Q.theme&&(P.theme=Q.theme),E.className="clr-picker clr-"+P.theme+" clr-"+P.themeMode,P.inline&&B();break;case"rtl":P.rtl=!!Q.rtl,c.querySelectorAll(".clr-field").forEach(function(Kn){return Kn.classList.toggle("clr-rtl",P.rtl)});break;case"margin":Q.margin*=1,P.margin=isNaN(Q.margin)?P.margin:Q.margin;break;case"wrap":Q.el&&Q.wrap&&q(Q.el);break;case"formatToggle":P.formatToggle=!!Q.formatToggle,tn("clr-format").style.display=P.formatToggle?"block":"none",P.formatToggle&&(P.format="auto");break;case"swatches":if(Array.isArray(Q.swatches)){var ht=[];Q.swatches.forEach(function(Kn,Ut){ht.push('<button type="button" id="clr-swatch-'+Ut+'" aria-labelledby="clr-swatch-label clr-swatch-'+Ut+'" style="color: '+Kn+';">'+Kn+"</button>")}),tn("clr-swatches").innerHTML=ht.length?"<div>"+ht.join("")+"</div>":"",P.swatches=Q.swatches.slice()}break;case"swatchesOnly":P.swatchesOnly=!!Q.swatchesOnly,E.setAttribute("data-minimal",P.swatchesOnly);break;case"alpha":P.alpha=!!Q.alpha,E.setAttribute("data-alpha",P.alpha);break;case"inline":if(P.inline=!!Q.inline,E.setAttribute("data-inline",P.inline),P.inline){var Tt=Q.defaultColor||P.defaultColor;de=M(Tt),B(),N(Tt)}break;case"clearButton":typeof Q.clearButton=="object"&&(Q.clearButton.label&&(P.clearLabel=Q.clearButton.label,re.innerHTML=P.clearLabel),Q.clearButton=Q.clearButton.show),P.clearButton=!!Q.clearButton,re.style.display=P.clearButton?"block":"none";break;case"clearLabel":P.clearLabel=Q.clearLabel,re.innerHTML=P.clearLabel;break;case"closeButton":P.closeButton=!!Q.closeButton,P.closeButton?E.insertBefore(X,H):H.appendChild(X);break;case"closeLabel":P.closeLabel=Q.closeLabel,X.innerHTML=P.closeLabel;break;case"a11y":var bt=Q.a11y,Ht=!1;if(typeof bt=="object")for(var ot in bt)bt[ot]&&P.a11y[ot]&&(P.a11y[ot]=bt[ot],Ht=!0);if(Ht){var on=tn("clr-open-label"),bn=tn("clr-swatch-label");on.innerHTML=P.a11y.open,bn.innerHTML=P.a11y.swatch,X.setAttribute("aria-label",P.a11y.close),re.setAttribute("aria-label",P.a11y.clear),ee.setAttribute("aria-label",P.a11y.hueSlider),ce.setAttribute("aria-label",P.a11y.alphaSlider),U.setAttribute("aria-label",P.a11y.input),O.setAttribute("aria-label",P.a11y.instruction)}break;default:P[je]=Q[je]}};for(var je in Q)Me()}}function Y(Q,Me){typeof Q=="string"&&typeof Me=="object"&&(ge[Q]=Me,Ke=!0)}function Ee(Q){delete ge[Q],Object.keys(ge).length===0&&(Ke=!1,Q===Ue&&h())}function Ce(Q){if(Ke){var Me=["el","wrap","rtl","inline","defaultColor","a11y"],je=function(){var bt=ge[at];if(Q.matches(at)){Ue=at,pe={},Me.forEach(function(ot){return delete bt[ot]});for(var Ht in bt)pe[Ht]=Array.isArray(P[Ht])?P[Ht].slice():P[Ht];return ye(bt),"break"}};for(var at in ge){var ht=je();if(ht==="break")break}}}function h(){Object.keys(pe).length>0&&(ye(pe),Ue="",pe={})}function w(Q){St(c,"click",Q,function(Me){P.inline||(Ce(Me.target),le=Me.target,De=le.value,de=M(De),E.classList.add("clr-open"),B(),N(De),(P.focusInput||P.selectInput)&&(U.focus({preventScroll:!0}),U.setSelectionRange(le.selectionStart,le.selectionEnd)),P.selectInput&&U.select(),(j||P.swatchesOnly)&&Gt().shift().focus(),le.dispatchEvent(new Event("open",{bubbles:!0})))}),St(c,"input",Q,function(Me){var je=Me.target.parentNode;je.classList.contains("clr-field")&&(je.style.color=Me.target.value)})}function B(){if(!(!E||!le&&!P.inline)){var Q=y,Me=f.scrollY,je=E.offsetWidth,at=E.offsetHeight,ht={left:!1,top:!1},Tt,bt,Ht,ot={x:0,y:0};if(Q&&(Tt=f.getComputedStyle(Q),bt=parseFloat(Tt.marginTop),Ht=parseFloat(Tt.borderTopWidth),ot=Q.getBoundingClientRect(),ot.y+=Ht+Me),!P.inline){var on=le.getBoundingClientRect(),bn=on.x,Kn=Me+on.y+on.height+P.margin;Q?(bn-=ot.x,Kn-=ot.y,bn+je>Q.clientWidth&&(bn+=on.width-je,ht.left=!0),Kn+at>Q.clientHeight-bt&&at+P.margin<=on.top-(ot.y-Me)&&(Kn-=on.height+at+P.margin*2,ht.top=!0),Kn+=Q.scrollTop):(bn+je>c.documentElement.clientWidth&&(bn+=on.width-je,ht.left=!0),Kn+at-Me>c.documentElement.clientHeight&&at+P.margin<=on.top&&(Kn=Me+on.y-at-P.margin,ht.top=!0)),E.classList.toggle("clr-left",ht.left),E.classList.toggle("clr-top",ht.top),E.style.left=bn+"px",E.style.top=Kn+"px",ot.x+=E.offsetLeft,ot.y+=E.offsetTop}ae={width:O.offsetWidth,height:O.offsetHeight,x:O.offsetLeft+ot.x,y:O.offsetTop+ot.y}}}function q(Q){c.querySelectorAll(Q).forEach(function(Me){var je=Me.parentNode;if(!je.classList.contains("clr-field")){var at=c.createElement("div"),ht="clr-field";(P.rtl||Me.classList.contains("clr-rtl"))&&(ht+=" clr-rtl"),at.innerHTML='<button type="button" aria-labelledby="clr-open-label"></button>',je.insertBefore(at,Me),at.setAttribute("class",ht),at.style.color=Me.value,at.appendChild(Me)}})}function J(Q){if(le&&!P.inline){var Me=le;Q&&(le=d,De!==Me.value&&(Me.value=De,Me.dispatchEvent(new Event("input",{bubbles:!0})))),setTimeout(function(){De!==Me.value&&Me.dispatchEvent(new Event("change",{bubbles:!0}))}),E.classList.remove("clr-open"),Ke&&h(),Me.dispatchEvent(new Event("close",{bubbles:!0})),P.focusInput&&Me.focus({preventScroll:!0}),le=d}}function N(Q){var Me=_e(Q),je=xt(Me);Ae(je.s,je.v),Bt(Me,je),ee.value=je.h,E.style.color="hsl("+je.h+", 100%, 50%)",te.style.left=je.h/360*100+"%",A.style.left=ae.width*je.s/100+"px",A.style.top=ae.height-ae.height*je.v/100+"px",ce.value=je.a*100,be.style.left=je.a*100+"%"}function M(Q){var Me=Q.substring(0,3).toLowerCase();return Me==="rgb"||Me==="hsl"?Me:"hex"}function W(Q){Q=Q!==d?Q:U.value,le&&(le.value=Q,le.dispatchEvent(new Event("input",{bubbles:!0}))),P.onChange&&P.onChange.call(f,Q,le),c.dispatchEvent(new CustomEvent("coloris:pick",{detail:{color:Q,currentEl:le}}))}function ke(Q,Me){var je={h:ee.value*1,s:Q/ae.width*100,v:100-Me/ae.height*100,a:ce.value/100},at=qe(je);Ae(je.s,je.v),Bt(at,je),W()}function Ae(Q,Me){var je=P.a11y.marker;Q=Q.toFixed(1)*1,Me=Me.toFixed(1)*1,je=je.replace("{s}",Q),je=je.replace("{v}",Me),A.setAttribute("aria-label",je)}function oe(Q){return{pageX:Q.changedTouches?Q.changedTouches[0].pageX:Q.pageX,pageY:Q.changedTouches?Q.changedTouches[0].pageY:Q.pageY}}function S(Q){var Me=oe(Q),je=Me.pageX-ae.x,at=Me.pageY-ae.y;y&&(at+=y.scrollTop),Ct(je,at),Q.preventDefault(),Q.stopPropagation()}function tt(Q,Me){var je=A.style.left.replace("px","")*1+Q,at=A.style.top.replace("px","")*1+Me;Ct(je,at)}function Ct(Q,Me){Q=Q<0?0:Q>ae.width?ae.width:Q,Me=Me<0?0:Me>ae.height?ae.height:Me,A.style.left=Q+"px",A.style.top=Me+"px",ke(Q,Me),A.focus()}function Bt(Q,Me){Q===void 0&&(Q={}),Me===void 0&&(Me={});var je=P.format;for(var at in Q)p[at]=Q[at];for(var ht in Me)p[ht]=Me[ht];var Tt=en(p),bt=Tt.substring(0,7);switch(A.style.color=bt,be.parentNode.style.color=bt,be.style.color=Tt,H.style.color=Tt,O.style.display="none",O.offsetHeight,O.style.display="",be.nextElementSibling.style.display="none",be.nextElementSibling.offsetHeight,be.nextElementSibling.style.display="",je==="mixed"?je=p.a===1?"hex":"rgb":je==="auto"&&(je=de),je){case"hex":U.value=Tt;break;case"rgb":U.value=nn(p);break;case"hsl":U.value=it(_t(p));break}c.querySelector('.clr-format [value="'+je+'"]').checked=!0}function Rt(){var Q=ee.value*1,Me=A.style.left.replace("px","")*1,je=A.style.top.replace("px","")*1;E.style.color="hsl("+Q+", 100%, 50%)",te.style.left=Q/360*100+"%",ke(Me,je)}function Qt(){var Q=ce.value/100;be.style.left=Q*100+"%",Bt({a:Q}),W()}function qe(Q){var Me=Q.s/100,je=Q.v/100,at=Me*je,ht=Q.h/60,Tt=at*(1-o.abs(ht%2-1)),bt=je-at;at=at+bt,Tt=Tt+bt;var Ht=o.floor(ht)%6,ot=[at,Tt,bt,bt,Tt,at][Ht],on=[Tt,at,at,Tt,bt,bt][Ht],bn=[bt,bt,Tt,at,at,Tt][Ht];return{r:o.round(ot*255),g:o.round(on*255),b:o.round(bn*255),a:Q.a}}function _t(Q){var Me=Q.v/100,je=Me*(1-Q.s/100/2),at;return je>0&&je<1&&(at=o.round((Me-je)/o.min(je,1-je)*100)),{h:Q.h,s:at||0,l:o.round(je*100),a:Q.a}}function xt(Q){var Me=Q.r/255,je=Q.g/255,at=Q.b/255,ht=o.max(Me,je,at),Tt=o.min(Me,je,at),bt=ht-Tt,Ht=ht,ot=0,on=0;return bt&&(ht===Me&&(ot=(je-at)/bt),ht===je&&(ot=2+(at-Me)/bt),ht===at&&(ot=4+(Me-je)/bt),ht&&(on=bt/ht)),ot=o.floor(ot*60),{h:ot<0?ot+360:ot,s:o.round(on*100),v:o.round(Ht*100),a:Q.a}}function _e(Q){var Me=/^((rgba)|rgb)[\D]+([\d.]+)[\D]+([\d.]+)[\D]+([\d.]+)[\D]*?([\d.]+|$)/i,je,at;return b.fillStyle="#000",b.fillStyle=Q,je=Me.exec(b.fillStyle),je?(at={r:je[3]*1,g:je[4]*1,b:je[5]*1,a:je[6]*1},at.a=+at.a.toFixed(2)):(je=b.fillStyle.replace("#","").match(/.{2}/g).map(function(ht){return parseInt(ht,16)}),at={r:je[0],g:je[1],b:je[2],a:1}),at}function en(Q){var Me=Q.r.toString(16),je=Q.g.toString(16),at=Q.b.toString(16),ht="";if(Q.r<16&&(Me="0"+Me),Q.g<16&&(je="0"+je),Q.b<16&&(at="0"+at),P.alpha&&(Q.a<1||P.forceAlpha)){var Tt=Q.a*255|0;ht=Tt.toString(16),Tt<16&&(ht="0"+ht)}return"#"+Me+je+at+ht}function nn(Q){return!P.alpha||Q.a===1&&!P.forceAlpha?"rgb("+Q.r+", "+Q.g+", "+Q.b+")":"rgba("+Q.r+", "+Q.g+", "+Q.b+", "+Q.a+")"}function it(Q){return!P.alpha||Q.a===1&&!P.forceAlpha?"hsl("+Q.h+", "+Q.s+"%, "+Q.l+"%)":"hsla("+Q.h+", "+Q.s+"%, "+Q.l+"%, "+Q.a+")"}function _n(){c.getElementById("clr-picker")||(y=d,E=c.createElement("div"),E.setAttribute("id","clr-picker"),E.className="clr-picker",E.innerHTML='<input id="clr-color-value" name="clr-color-value" class="clr-color" type="text" value="" spellcheck="false" aria-label="'+P.a11y.input+'">'+('<div id="clr-color-area" class="clr-gradient" role="application" aria-label="'+P.a11y.instruction+'">')+'<div id="clr-color-marker" class="clr-marker" tabindex="0"></div></div><div class="clr-hue">'+('<input id="clr-hue-slider" name="clr-hue-slider" type="range" min="0" max="360" step="1" aria-label="'+P.a11y.hueSlider+'">')+'<div id="clr-hue-marker"></div></div><div class="clr-alpha">'+('<input id="clr-alpha-slider" name="clr-alpha-slider" type="range" min="0" max="100" step="1" aria-label="'+P.a11y.alphaSlider+'">')+'<div id="clr-alpha-marker"></div><span></span></div><div id="clr-format" class="clr-format"><fieldset class="clr-segmented">'+("<legend>"+P.a11y.format+"</legend>")+'<input id="clr-f1" type="radio" name="clr-format" value="hex"><label for="clr-f1">Hex</label><input id="clr-f2" type="radio" name="clr-format" value="rgb"><label for="clr-f2">RGB</label><input id="clr-f3" type="radio" name="clr-format" value="hsl"><label for="clr-f3">HSL</label><span></span></fieldset></div><div id="clr-swatches" class="clr-swatches"></div>'+('<button type="button" id="clr-clear" class="clr-clear" aria-label="'+P.a11y.clear+'">'+P.clearLabel+"</button>")+'<div id="clr-color-preview" class="clr-preview">'+('<button type="button" id="clr-close" class="clr-close" aria-label="'+P.a11y.close+'">'+P.closeLabel+"</button>")+"</div>"+('<span id="clr-open-label" hidden>'+P.a11y.open+"</span>")+('<span id="clr-swatch-label" hidden>'+P.a11y.swatch+"</span>"),c.body.appendChild(E),O=tn("clr-color-area"),A=tn("clr-color-marker"),re=tn("clr-clear"),X=tn("clr-close"),H=tn("clr-color-preview"),U=tn("clr-color-value"),ee=tn("clr-hue-slider"),te=tn("clr-hue-marker"),ce=tn("clr-alpha-slider"),be=tn("clr-alpha-marker"),w(P.el),q(P.el),St(E,"mousedown",function(Q){E.classList.remove("clr-keyboard-nav"),Q.stopPropagation()}),St(O,"mousedown",function(Q){St(c,"mousemove",S)}),St(O,"touchstart",function(Q){c.addEventListener("touchmove",S,{passive:!1})}),St(A,"mousedown",function(Q){St(c,"mousemove",S)}),St(A,"touchstart",function(Q){c.addEventListener("touchmove",S,{passive:!1})}),St(U,"change",function(Q){var Me=U.value;if(le||P.inline){var je=Me===""?Me:N(Me);W(je)}}),St(re,"click",function(Q){W(""),J()}),St(X,"click",function(Q){W(),J()}),St(tn("clr-format"),"click",".clr-format input",function(Q){de=Q.target.value,Bt(),W()}),St(E,"click",".clr-swatches button",function(Q){N(Q.target.textContent),W(),P.swatchesOnly&&J()}),St(c,"mouseup",function(Q){c.removeEventListener("mousemove",S)}),St(c,"touchend",function(Q){c.removeEventListener("touchmove",S)}),St(c,"mousedown",function(Q){j=!1,E.classList.remove("clr-keyboard-nav"),J()}),St(c,"keydown",function(Q){var Me=Q.key,je=Q.target,at=Q.shiftKey,ht=["Tab","ArrowUp","ArrowDown","ArrowLeft","ArrowRight"];if(Me==="Escape"?J(!0):ht.includes(Me)&&(j=!0,E.classList.add("clr-keyboard-nav")),Me==="Tab"&&je.matches(".clr-picker *")){var Tt=Gt(),bt=Tt.shift(),Ht=Tt.pop();at&&je===bt?(Ht.focus(),Q.preventDefault()):!at&&je===Ht&&(bt.focus(),Q.preventDefault())}}),St(c,"click",".clr-field button",function(Q){Ke&&h(),Q.target.nextElementSibling.dispatchEvent(new Event("click",{bubbles:!0}))}),St(A,"keydown",function(Q){var Me={ArrowUp:[0,-1],ArrowDown:[0,1],ArrowLeft:[-1,0],ArrowRight:[1,0]};Object.keys(Me).includes(Q.key)&&(tt.apply(void 0,Me[Q.key]),Q.preventDefault())}),St(O,"click",S),St(ee,"input",Rt),St(ce,"input",Qt))}function Gt(){var Q=Array.from(E.querySelectorAll("input, button")),Me=Q.filter(function(je){return!!je.offsetWidth});return Me}function tn(Q){return c.getElementById(Q)}function St(Q,Me,je,at){var ht=Element.prototype.matches||Element.prototype.msMatchesSelector;typeof je=="string"?Q.addEventListener(Me,function(Tt){ht.call(Tt.target,je)&&at.call(Tt.target,Tt)}):(at=je,Q.addEventListener(Me,at))}function _r(Q,Me){Me=Me!==d?Me:[],c.readyState!=="loading"?Q.apply(void 0,Me):c.addEventListener("DOMContentLoaded",function(){Q.apply(void 0,Me)})}NodeList!==d&&NodeList.prototype&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach);function _a(Q,Me){le=Me,De=le.value,Ce(Me),de=M(Q),B(),N(Q),W(),De!==Q&&le.dispatchEvent(new Event("change",{bubbles:!0}))}var Tr=function(){var Q={init:_n,set:ye,wrap:q,close:J,setInstance:Y,setColor:_a,removeInstance:Ee,updatePosition:B};function Me(ht){_r(function(){ht&&(typeof ht=="string"?w(ht):ye(ht))})}var je=function(Tt){Me[Tt]=function(){for(var bt=arguments.length,Ht=new Array(bt),ot=0;ot<bt;ot++)Ht[ot]=arguments[ot];_r(Q[Tt],Ht)}};for(var at in Q)je(at);return _r(function(){f.addEventListener("resize",function(ht){Me.updatePosition()}),f.addEventListener("scroll",function(ht){Me.updatePosition()})}),Me}();return Tr.coloris=Tr,Tr}(window,document,Math)}();Da.coloris;Da.init;Da.set;Da.wrap;Da.close;Da.setInstance;Da.removeInstance;Da.updatePosition;const WH={data(){return{globalVariationId:"",addingGlobalVariation:!1,variations:[]}},computed:{isAddGlobalVariationDisabled(){return this.globalVariationId===""||this.addingGlobalVariation},isCollapsedVariationsAccordion(){return this.form.variations.every(({is_open:f})=>f===!1)}},watch:{"form.variations":{immediate:!0,handler(f){f.length===0&&this.addVariation({preventFocus:!0})}}},mounted(){this.initColorPicker(),this.hideColorPicker()},methods:{prepareVariations(f){f.forEach(c=>{this.$set(c,"is_open",!1)})},regenerateVariationsUid(){this.form.variations.forEach(f=>{this.$set(f,"uid",this.uid()),f.values.forEach((c,o)=>{this.$set(f.values[o],"uid",this.uid())})})},reorderVariations(){this.generateVariants(),this.notifyVariantsReordered()},reorderVariationValues(){this.generateVariants(),this.notifyVariantsReordered()},addVariation({preventFocus:f}){const c=this.uid();this.form.variations.push({uid:c,type:"",is_global:!1,is_open:!0,values:[{uid:this.uid(),image:{id:null,path:null}}]}),f||this.focusField({selector:`#variation-${c}-name`})},deleteVariation(f,c){this.form.variations.splice(f,1),this.clearErrors({name:"variations",uid:c}),this.generateVariants()},changeVariationType(f,c,o){const d=this.form.variations[c];f!==""&&d.values.length===1&&this.focusField({selector:`#variations-${o}-values-${d.values[0].uid}-label`}),f==="text"?d.values.forEach(b=>{this.errors.clear([`variations.${o}.values.${b.uid}.color`,`variations.${o}.values.${b.uid}.image`])}):f==="color"?(d.values.forEach(b=>{this.errors.clear(`variations.${o}.values.${b.uid}.image`)}),this.$nextTick(()=>{this.initColorPicker()})):f==="image"?(d.values.forEach((b,p)=>{b.image||this.$set(d.values[p],"image",{id:null,path:null})}),d.values.forEach(b=>{this.errors.clear(`variations.${o}.values.${b.uid}.color`)})):this.clearValuesError(c,o)},chooseVariationImage(f,c,o,d){new MediaPicker({type:"image"}).on("select",({id:p,path:y})=>{this.form.variations[f].values[o].image={id:+p,path:y},this.errors.clear(`variations.${c}.values.${d}.image`)})},addVariationRow(f,c){const o=this.uid();this.form.variations[f].values.push({uid:o,image:{id:null,path:null}}),this.$nextTick(()=>{this.initColorPicker(),$(`#variations-${c}-values-${o}-label`).trigger("focus")})},addVariationRowOnPressEnter(f,c,o){const d=this.form.variations[c],b=d.values;if(f.target.value!==""){if(b.length-1===o){this.addVariationRow(c,d.uid);return}o<b.length-1&&$(`#variations-${d.uid}-values-${b[o+1].uid}-label`).trigger("focus")}},deleteVariationRow(f,c,o,d){const b=this.form.variations[f];b.values.splice(o,1),this.clearValueRowErrors({name:"variations",variationUid:c,valueUid:d}),b.values.length===0&&this.addVariationRow(f,c),this.generateVariants()},updateColorThumbnails(){this.form.variations.forEach(({uid:f,type:c,values:o})=>{if(c!=="color")return;const d=document.querySelectorAll(`.variation-${f} .clr-field`);o.forEach(({color:b},p)=>{d[p].style.color=b||""})})},initColorPicker(){Da.init(),Da({el:".color-picker",alpha:!1,rtl:FleetCart.rtl,theme:"large",wrap:!0,format:"hex",selectInput:!0,swatches:["#D01C1F","#3AA845","#118257","#0A33AE","#0D46A0","#000000","#5F4C3A","#726E6E","#F6D100","#C0E506","#FF540A","#C5A996","#4B80BE","#A1C3DA","#C8BFC2","#A9A270"]})},hideColorPicker(){$(document).on("click","#clr-swatches",f=>{$(f.currentTarget).parents("#clr-picker").removeClass("clr-open")})},addGlobalVariation(){this.globalVariationId!==""&&(this.addingGlobalVariation=!0,$.ajax({type:"GET",url:route("admin.variations.show",this.globalVariationId),dataType:"json",success:f=>{f.uid=this.uid(),f.is_open=!0,f.values.forEach(c=>{c.uid=this.uid()}),this.form.variations.push(f),this.generateVariants(),this.$nextTick(()=>{$(`#variations-${f.uid}-name`).trigger("focus")})}}).catch(f=>{toaster(f.responseJSON.message,{type:"error"})}).always(()=>{this.globalVariationId="",this.addingGlobalVariation=!1}))}}},YH={data(){return{defaultVariantUid:"",variantPosition:0,variantsLength:0}},computed:{hasAnyVariant(){return this.form.variants.length!==0},isCollapsedVariantsAccordion(){return this.form.variants.every(({is_open:f})=>f===!1)}},methods:{prepareVariants(f){f.forEach(c=>{this.$set(c,"position",this.variantPosition++),this.$set(c,"is_open",!1),this.$set(c,"is_selected",!1)})},changeDefaultVariant(f){const c=this.form.variants,o=c.findIndex(d=>d.uid===f);if(c[o].is_active===!0){this.resetDefaultVariant(),this.defaultVariantUid=c[o].uid,this.$set(c[o],"is_default",!0);return}this.defaultVariantUid=this.defaultVariantUid},setDefaultVariant(){const f=this.form.variants,c=f.findIndex(({uid:d})=>d===this.defaultVariantUid);this.resetDefaultVariant();const o=f[c===-1?0:c];this.defaultVariantUid=o.uid,this.$set(o,"is_default",!0),c===-1&&(this.defaultVariantUid=f[0].uid,this.$set(f[0],"is_active",!0))},isActiveVariant(f){return this.form.variants[f].is_active},changeVariantStatus(f){if(this.defaultVariantUid===f){toaster(trans("product::products.variants.disable_default_variant"),{type:"default"});return}this.clearErrors({name:"variants",uid:f})},resetDefaultVariant(){this.form.variants.some(f=>{if(f.is_default===!0)return this.$set(f,"is_default",!1),!0})},getFilteredVariations(){return this.form.variations.map(({type:f,values:c})=>c.map(({uid:o,label:d})=>{if(f!==""&&d)return{uid:o,label:d}}).filter(Boolean)).filter(f=>f.length!==0)},generateNewVariants(f){return f.reduce((c,o)=>c.flatMap(d=>o.map(b=>({uid:d.uid+"."+b.uid,label:d.label+" / "+b.label})))).map(({uid:c,label:o})=>({uids:c.split(".").sort().join("."),name:o}))},generateVariants(){this.$nextTick(()=>{this.initColorPicker(),this.updateColorThumbnails()});const f=this.getFilteredVariations();if(f.length===0){this.form.variants=[],this.variantsLength=0;return}const c=this.generateNewVariants(f),o=this.form.variants.map(({uids:d})=>({uids:d}));c.length>this.variantsLength?this.addVariants(c,o):c.length<this.variantsLength?this.removeVariants(c,o):c.length===this.variantsLength&&this.reorderVariants(c,o),this.variantsLength=c.length,this.setDefaultVariant()},addVariants(f,c){if(this.notifyVariantsCreated(f.length),c.length===0){f.forEach(d=>{this.form.variants.push(this.variantDefaultData(d))});return}if(this.hasCommonVariantUids(f,c)){const d=c.map(({uids:b})=>b);f.forEach((b,p)=>{d.includes(b.uids)||this.form.variants.splice(p,0,this.variantDefaultData(b))});return}const o=[];c.forEach(({uids:d})=>{f.forEach((b,p)=>{const y=d.split(".").every(E=>b.uids.split(".").includes(E));if(y&&!o.includes(d)){o.push(d),this.setVariantData(b,p);return}y&&this.form.variants.splice(p,0,this.variantDefaultData(b))})})},removeVariants(f,c){if(this.resetBulkEditVariantFields(),this.notifyVariantsRemoved(c.length-f.length),this.hasCommonVariantUids(f,c)){const d=f.map(({uids:b})=>b);c.forEach(({uids:b})=>{if(!d.includes(b)){const p=this.form.variants.findIndex(y=>y.uids===b);this.clearErrors({name:"variants",uid:this.form.variants[p].uid}),this.form.variants.splice(p,1)}});return}const o=[];f.forEach(({uids:d,name:b})=>{c.forEach(p=>{const y=this.form.variants.findIndex(O=>O.uids===p.uids),E=d.split(".").every(O=>p.uids.split(".").includes(O));if(E&&!o.includes(d)){o.push(d),this.setVariantData({uids:d,name:b},y);return}E&&(this.clearErrors({name:"variants",uid:this.form.variants[y].uid}),this.form.variants.splice(y,1))})})},reorderVariants(f,c){const o=f.map(({uids:d})=>d);if(this.hasCommonVariantUids(f,c)){c.forEach(({uids:d})=>{const b=o.indexOf(d),p=this.form.variants.findIndex(y=>y.uids===d);this.setVariantData({name:f[b].name},p),this.form.variants[p]=this.form.variants.splice(b,1,this.form.variants[p])[0]});return}f.forEach((d,b)=>{this.setVariantData(d,b)})},hasCommonVariantUids(f,c){return c.some(({uids:o})=>f.map(({uids:d})=>d).includes(o))},setVariantData({uids:f,name:c},o){f!==void 0&&(this.$set(this.form.variants[o],"uid",md5(f)),this.$set(this.form.variants[o],"uids",f)),this.$set(this.form.variants[o],"name",c)},variantDefaultData({uids:f,name:c}){return{position:this.variantPosition++,uid:md5(f),uids:f,name:c,media:[],is_active:!0,is_open:!1,is_default:!1,is_selected:!1,special_price_type:"fixed",manage_stock:0,in_stock:1}},resetVariants(){this.form.variants=[]},addVariantMedia(f){new MediaPicker({type:"image",multiple:!0}).on("select",({id:o,path:d})=>{this.form.variants[f].media.push({id:+o,path:d})})},removeVariantMedia(f,c){this.form.variants[f].media.splice(c,1)},notifyVariantChanges({count:f,status:c}){toaster(trans(`product::products.variants.variants_${c}`,{count:f,suffix:trans(`product::products.variants.${f>1?"variants":"variant"}`)}).toLowerCase(),{type:"default"})},notifyVariantsCreated(f){this.notifyVariantChanges({count:f,status:"created"})},notifyVariantsRemoved(f){this.notifyVariantChanges({count:f,status:"removed"})},notifyVariantsReordered(){toaster(trans("product::products.variants.variants_reordered"),{type:"default"})}}},KH={data(){return{bulkEditVariantsUid:"",bulkEditVariantsField:"",bulkEditVariants:{}}},computed:{hasBulkEditVariantsUid(){return this.bulkEditVariantsUid!==""},hasBulkEditVariantsField(){return this.bulkEditVariantsField!==""}},methods:{changeBulkEditVariantsUid(f){if(this.resetVariantsSelection(),f===""){this.resetBulkEditVariantsField();return}this.selectVariants(f)},selectVariants(f){if(this.resetVariantsSelection(),f!==""){if(f!=="all"){this.selectSpecificVariants(f);return}this.selectAllVariants()}},selectAllVariants(){this.form.variants.forEach(f=>{this.$set(f,"is_selected",!0)})},selectSpecificVariants(f){this.form.variants.forEach(c=>{c.uids.includes(f)&&this.$set(c,"is_selected",!0)})},changeBulkEditVariantsField(f){["sku","price","special_price"].includes(f)&&this.focusField({selector:`#bulk-edit-variants-${f.replace(/_/g,"-")}`}),this.resetBulkEditVariants()},addBulkEditVariantsMedia(){new MediaPicker({type:"image",multiple:!0}).on("select",({id:c,path:o})=>{this.bulkEditVariants.media.push({id:+c,path:o})})},removeBulkEditVariantsMedia(f){this.bulkEditVariants.media.splice(f,1)},bulkEditvariantsDefaultData(){return{is_active:!0,media:[],price:null,special_price:null,special_price_type:"fixed",special_price_start:null,special_price_end:null,manage_stock:0,qty:null,in_stock:1}},resetBulkEditVariantFields(){this.bulkEditVariantsUid="",this.resetVariantsSelection(),this.resetBulkEditVariantsField()},resetBulkEditVariantsField(){this.bulkEditVariantsField="",this.resetBulkEditVariants()},resetBulkEditVariants(){this.bulkEditVariants={...this.bulkEditvariantsDefaultData()}},resetVariantsSelection(){this.form.variants.forEach(f=>{this.$set(f,"is_selected",!1)})},clearVariantsSpecialPriceErrors(f){Object.keys(this.errors).forEach(c=>{c.startsWith(`variants.${f}`)&&c.includes("special_price")&&this.errors.clear(c)})},updateVariantsField(f,{key:c,value:o}){this.$set(f,c,o),this.errors.clear(`variants.${f.uid}.${c}`)},updateVariantsStatus(f,{key:c,value:o}){f.is_default!==!0&&(this.$set(f,c,o),this.errors.clear(`variants.${f.uid}.${c}`))},updateVariantsSpecialPrice(f,{key:c,value:o},{special_price_type:d,special_price_start:b,special_price_end:p}){this.$set(f,c,o),this.$set(f,"special_price_type",d),this.$set(f,"special_price_start",b),this.$set(f,"special_price_end",p),this.clearVariantsSpecialPriceErrors(f.uid)},updateVariantsManageStock(f,{key:c,value:o},{qty:d}){this.$set(f,c,o),this.$set(f,"qty",d),this.errors.clear([`variants.${f.uid}.${c}`,`variants.${f.uid}.qty`])},callUpdateVariantsMethodByField(f){return{media:this.updateVariantsField,sku:this.updateVariantsField,is_active:this.updateVariantsStatus,price:this.updateVariantsField,special_price:this.updateVariantsSpecialPrice,manage_stock:this.updateVariantsManageStock,in_stock:this.updateVariantsField}[f]},updateVariants(f){this.form.variants.forEach(c=>{c.is_selected&&this.callUpdateVariantsMethodByField(f.key)(c,f,this.bulkEditVariants)})},bulkUpdateVariants(){if(!this.hasBulkEditVariantsUid&&!this.hasBulkEditVariantsField)return;const f={key:this.bulkEditVariantsField,value:this.bulkEditVariants[this.bulkEditVariantsField]};this.updateVariants(f),this.resetBulkEditVariantFields(),toaster(trans("product::products.variants.bulk_variants_updated"),{type:"default"})}}},qH={data(){return{globalOptionId:"",addingGlobalOption:!1}},computed:{isAddGlobalOptionDisabled(){return this.globalOptionId===""||this.addingGlobalOption},isCollapsedOptionsAccordion(){return this.form.options.every(({is_open:f})=>f===!1)}},watch:{"form.options":{immediate:!0,handler(f){f.length===0&&this.addOption({preventFocus:!0})}}},methods:{prepareOptions(f){f.forEach(c=>{this.$set(c,"uid",this.uid()),this.$set(c,"is_open",!1),c.values.forEach((o,d)=>{this.$set(c.values[d],"uid",this.uid())})})},addOption({preventFocus:f}){const c=this.form.options,o=this.uid();c.push({uid:o,type:"",is_open:!0,is_global:!1,is_required:!1,values:[{uid:this.uid(),price_type:"fixed"}]}),f||this.focusField({selector:`#options-${o}-name`})},deleteOption(f,c){this.form.options.splice(f,1),this.clearErrors({name:"options",uid:c})},changeOptionType(f,c){let o=this.form.options[f];const d=this.isOptionTypeText(o)?"price":"label";this.clearValuesError({name:"options",uid:c}),o.values.length===1&&this.focusField({selector:`#options-${c}-values-${o.values[0].uid}-${d}`})},isOptionTypeText(f){return["field","textarea","date","date_time","time"].includes(f.type)?(f.values.length>1&&f.values.splice(1),!0):!1},isOptionTypeSelect({type:f}){return!!["dropdown","checkbox","checkbox_custom","radio","radio_custom","multiple_select"].includes(f)},addOptionRow(f,c){const o=this.uid();this.form.options[f].values.push({uid:o,price_type:"fixed"}),this.focusField({selector:`#options-${c}-values-${o}-label`})},addOptionRowOnPressEnter(f,c,o){const d=this.form.options[c],b=d.values;if(f.target.value!==""){if(b.length-1===o){this.addOptionRow(c,d.uid);return}o<b.length-1&&$(`#options-${d.uid}-values-${b[o+1].uid}-label`).trigger("focus")}},deleteOptionRow(f,c,o,d){const b=this.form.options[f];b.values.splice(o,1),this.clearValueRowErrors({name:"options",optionUid:c,valueUid:d}),b.values.length===0&&this.addOptionRow(f,c)},addGlobalOption(){this.globalOptionId!==""&&(this.addingGlobalOption=!0,$.ajax({type:"GET",url:route("admin.options.show",this.globalOptionId),dataType:"json",success:f=>{f.uid=this.uid(),f.is_open=!0,f.values.forEach(c=>{c.uid=this.uid()}),this.form.options.push(f),this.$nextTick(()=>{$(`#options-${f.uid}-name`).trigger("focus")}),toaster(trans("product::products.options.option_inserted"),{type:"default"})}}).catch(f=>{toaster(f.responseJSON.message,{type:"error"})}).always(()=>{this.globalOptionId="",this.addingGlobalOption=!1}))}}},GH={watch:{"form.downloads":{immediate:!0,handler(f){f.length===0&&this.addDownload({preventMediaPicker:!0})}}},methods:{addDownload({preventMediaPicker:f}){const c=this.form.downloads;c.push({id:null,filename:null}),f||this.chooseDownloadableFile(c.length-1)},deleteDownload(f){this.form.downloads.splice(f,1)},chooseDownloadableFile(f){new MediaPicker().on("select",({id:o,filename:d})=>{this.form.downloads.splice(f,1,{id:o,filename:d})})}}},XH={methods:{transformMedia(f){f.media=f.media.map(c=>c.id)},transformAttributes(f){f.attributes=f.attributes.filter(({attribute_id:c})=>c!=="").reduce((c,{attribute_id:o,uid:d,values:b})=>({...c,[d]:{attribute_id:o,values:b}}),{})},transformDownloads(f){f.downloads=f.downloads.filter(({id:c})=>c!==null).map(({id:c})=>c)},transformVariations(f){const c={text:["id","uid","label"],color:["id","uid","label","color"],image:["id","uid","label","image"]};f.variations=f.variations.filter(({name:o,type:d})=>!!o||d!=="").reduce((o,d)=>(d.type===""?d.values=[]:d.values=d.values.reduce((b,p)=>(p=_.pick(p,c[d.type]),d.type==="image"&&(p.image=p.image.id),{...b,[p.uid]:p}),{}),{...o,[d.uid]:d}),{})},transformVariants(f){f.variants=f.variants.reduce((c,o)=>(o.media=o.media.map(({id:d})=>d),{...c,[o.uid]:o}),{})},transformOptions(f){const c={text:["id","uid","price","price_type"],select:["id","uid","label","price","price_type"]};f.options=f.options.filter(({name:o,type:d})=>!!o||d!=="").reduce((o,d)=>(d.type===""?d.values=[]:d.values=d.values.reduce((b,p)=>{const y=this.isOptionTypeText(d)?"text":"select";return p=_.pick(p,c[y]),{...b,[p.uid]:p}},{}),{...o,[d.uid]:d}),{})},transformData(f){const c=JSON.parse(JSON.stringify(f));return this.transformMedia(c),this.transformAttributes(c),this.transformDownloads(c),this.transformVariations(c),this.transformVariants(c),this.transformOptions(c),c}}};window.md5=P1;window.toaster=YV;const tU={components:{draggable:NH,Selectize:RH,flatPickr:UH},mixins:[jH,zH,WH,YH,KH,qH,GH,XH],mounted(){this.initTinyMCE(),window.admin=new zV},methods:{uid(){return Math.random().toString(36).slice(3)},focusEditor(){gp.get("description").focus()},focusField({selector:f,key:c}){c!==void 0&&this.errors.clear(c),this.$nextTick(()=>{$(`${f}`).trigger("focus")})},regenerateVariationsAndVariantsUid(){this.regenerateVariationsUid();const f=this.getFilteredVariations();this.generateNewVariants(f).forEach(({uids:o},d)=>{this.$set(this.form.variants[d],"uid",P1(o)),this.$set(this.form.variants[d],"uids",o)})},hasAnyError({name:f,uid:c}){return Object.keys(this.errors.errors).some(o=>o.startsWith(`${f}.${c}`))},clearErrors({name:f,uid:c}){this.clearMatchedErrors(`${f}.${c}`)},clearValuesError({name:f,uid:c}){this.clearMatchedErrors(`${f}.${c}.values`)},clearValueRowErrors({name:f,uid:c,valueUid:o}){this.clearMatchedErrors(`${f}.${c}.values.${o}`)},clearMatchedErrors(f){Object.keys(this.errors.errors).forEach(c=>{c.startsWith(f)&&this.errors.clear(c)})},scrollToFirstErrorField(f){this.$nextTick(()=>{[...f].find(c=>c.name===Object.keys(this.errors.errors)[0]).focus()})},addMedia(){new MediaPicker({type:"image",multiple:!0}).on("select",({id:c,path:o})=>{this.form.media.push({id:+c,path:o})})},removeMedia(f){this.form.media.splice(f,1)},preventLastSlideDrag(f){return f.related.className.indexOf("disabled")===-1},toggleAccordions({selector:f,state:c,data:o}){const d=new Event("click"),b=document.querySelectorAll(f);if(!c){o.forEach(({is_open:p},y)=>{p&&b[y].dispatchEvent(d)});return}[...b].forEach(p=>{p.dispatchEvent(d)})},toggleAccordion(f,c){const o=$(f.currentTarget),d=o.find('[data-toggle="collapse"]'),b=o.next();c.is_open&&b.css("display","block"),d.attr("data-transition",!0),this.$set(c,"is_open",!c.is_open),b.slideToggle(300,()=>{d.attr("data-transition",!1),b.removeAttr("style")})},setSearchableSelectizeConfig(){this.searchableSelectizeConfig={valueField:"id",labelField:"name",searchField:"name",load:function(f,c){var o=route("admin.products.index");if(o===void 0||f.length===0)return c();$.get(o+"?query="+f,c,"json")},plugins:["remove_button"]}},initTinyMCE(){gp.baseURL=`${FleetCart.baseUrl}/build/assets/tinymce`,gp.init({selector:".wysiwyg",theme:"silver",height:350,menubar:!1,branding:!1,image_advtab:!0,automatic_uploads:!0,media_alt_source:!1,media_poster:!1,relative_urls:!1,toolbar_mode:"sliding",directionality:FleetCart.rtl?"rtl":"ltr",cache_suffix:`?v=${FleetCart.version}`,plugins:"lists, link, table, image, media, paste, autosave, autolink,quickbars, wordcount, code, fullscreen",toolbar:"styleselect | bold italic underline strikethrough blockquote | bullist numlist | alignleft aligncenter alignright alignjustify | outdent indent | forecolor removeformat | table | image media link | code fullscreen",quickbars_selection_toolbar:"bold italic | quicklink h2 h3 blockquote quickimage quicktable",setup:f=>{f.on("change",()=>{f.save(),f.getElement().dispatchEvent(new Event("input")),this.errors.clear("description")})},images_upload_handler:(f,c,o)=>{let d=new FormData;d.append("file",f.blob(),f.filename()),$.ajax({method:"POST",url:route("admin.media.store"),data:d,processData:!1,contentType:!1}).then(b=>{c(b.path)}).catch(b=>{o(b.responseJSON.message)})}})}}};export{tU as P};
//# sourceMappingURL=ProductMixin-e000dfd9-v4.0.0.js.map
